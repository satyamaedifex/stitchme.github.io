!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=119)}([function(e,t,n){"use strict";function r(){}function i(e,t){var n,i,o,a,s=j;for(a=arguments.length;a-- >2;)M.push(arguments[a]);for(t&&null!=t.children&&(M.length||M.push(t.children),delete t.children);M.length;)if((i=M.pop())&&void 0!==i.pop)for(a=i.length;a--;)M.push(i[a]);else"boolean"==typeof i&&(i=null),(o="function"!=typeof e)&&(null==i?i="":"number"==typeof i?i=String(i):"string"!=typeof i&&(o=!1)),o&&n?s[s.length-1]+=i:s===j?s=[i]:s.push(i),n=o;var u=new r;return u.nodeName=e,u.children=s,u.attributes=null==t?void 0:t,u.key=null==t?void 0:t.key,void 0!==D.vnode&&D.vnode(u),u}function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return i(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function s(e){!e._dirty&&(e._dirty=!0)&&1==L.push(e)&&(D.debounceRendering||R)(u)}function u(){var e,t=L;for(L=[];e=t.pop();)e._dirty&&T(e)}function l(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&c(e,t.nodeName):n||e._componentConstructor===t.nodeName}function c(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function h(e){var t=o({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function f(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"==typeof r[o]&&!1===F.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,m,a):e.removeEventListener(t,m,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)v(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var s=i&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function v(e,t,n){try{e[t]=n}catch(e){}}function m(e){return this._listeners[e.type](D.event&&D.event(e)||e)}function y(){for(var e;e=U.pop();)D.afterMount&&D.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,i,o){V++||(H=null!=i&&void 0!==i.ownerSVGElement,B=null!=e&&!("__preactattr_"in e));var a=b(e,t,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--V||(B=!1,o||y()),a}function b(e,t,n,r,i){var o=e,a=H;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),w(e,!0))),o.__preactattr_=!0,o;var s=t.nodeName;if("function"==typeof s)return P(e,t,n,r);if(H="svg"===s||"foreignObject"!==s&&H,s=String(s),(!e||!c(e,s))&&(o=f(s,H),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),w(e,!0)}var u=o.firstChild,l=o.__preactattr_,h=t.children;if(null==l){l=o.__preactattr_={};for(var p=o.attributes,d=p.length;d--;)l[p[d].name]=p[d].value}return!B&&h&&1===h.length&&"string"==typeof h[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=h[0]&&(u.nodeValue=h[0]):(h&&h.length||null!=u)&&_(o,h,n,r,B||null!=l.dangerouslySetInnerHTML),C(o,t.attributes,l),H=a,o}function _(e,t,n,r,i){var o,a,s,u,c,h=e.childNodes,f=[],d={},v=0,m=0,y=h.length,g=0,_=t?t.length:0;if(0!==y)for(var k=0;k<y;k++){var C=h[k],x=C.__preactattr_,E=_&&x?C._component?C._component.__key:x.key:null;null!=E?(v++,d[E]=C):(x||(void 0!==C.splitText?!i||C.nodeValue.trim():i))&&(f[g++]=C)}if(0!==_)for(var k=0;k<_;k++){u=t[k],c=null;var E=u.key;if(null!=E)v&&void 0!==d[E]&&(c=d[E],d[E]=void 0,v--);else if(!c&&m<g)for(o=m;o<g;o++)if(void 0!==f[o]&&l(a=f[o],u,i)){c=a,f[o]=void 0,o===g-1&&g--,o===m&&m++;break}c=b(c,u,n,r),s=h[k],c&&c!==e&&c!==s&&(null==s?e.appendChild(c):c===s.nextSibling?p(s):e.insertBefore(c,s))}if(v)for(var k in d)void 0!==d[k]&&w(d[k],!1);for(;m<=g;)void 0!==(c=f[g--])&&w(c,!1)}function w(e,t){var n=e._component;n?N(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),k(e))}function k(e){for(e=e.lastChild;e;){var t=e.previousSibling;w(e,!0),e=t}}function C(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||d(e,r,n[r],n[r]=void 0,H);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||d(e,r,n[r],n[r]=t[r],H)}function x(e){var t=e.constructor.name;(W[t]||(W[t]=[])).push(e)}function E(e,t,n){var r,i=W[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),I.call(r,t,n)):(r=new I(t,n),r.constructor=e,r.render=S),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function S(e,t,n){return this.constructor(e,n)}function O(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===D.syncComponentUpdates&&e.base?s(e):T(e,1,i)),e.__ref&&e.__ref(e))}function T(e,t,n,r){if(!e._disable){var i,a,s,u=e.props,l=e.state,c=e.context,f=e.prevProps||u,p=e.prevState||l,d=e.prevContext||c,v=e.base,m=e.nextBase,b=v||m,_=e._component,k=!1;if(v&&(e.props=f,e.state=p,e.context=d,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,l,c)?k=!0:e.componentWillUpdate&&e.componentWillUpdate(u,l,c),e.props=u,e.state=l,e.context=c),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!k){i=e.render(u,l,c),e.getChildContext&&(c=o(o({},c),e.getChildContext()));var C,x,S=i&&i.nodeName;if("function"==typeof S){var P=h(i);a=_,a&&a.constructor===S&&P.key==a.__key?O(a,P,1,c,!1):(C=a,e._component=a=E(S,P,c),a.nextBase=a.nextBase||m,a._parentComponent=e,O(a,P,0,c,!1),T(a,1,n,!0)),x=a.base}else s=b,C=_,C&&(s=e._component=null),(b||1===t)&&(s&&(s._component=null),x=g(s,i,c,n||!v,b&&b.parentNode,!0));if(b&&x!==b&&a!==_){var I=b.parentNode;I&&x!==I&&(I.replaceChild(x,b),C||(b._component=null,w(b,!1)))}if(C&&N(C),e.base=x,x&&!r){for(var A=e,M=e;M=M._parentComponent;)(A=M).base=x;x._component=A,x._componentConstructor=A.constructor}}if(!v||n?U.unshift(e):k||(e.componentDidUpdate&&e.componentDidUpdate(f,p,d),D.afterUpdate&&D.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);V||r||y()}}function P(e,t,n,r){for(var i=e&&e._component,o=i,a=e,s=i&&e._componentConstructor===t.nodeName,u=s,l=h(t);i&&!u&&(i=i._parentComponent);)u=i.constructor===t.nodeName;return i&&u&&(!r||i._component)?(O(i,l,3,n,r),e=i.base):(o&&!s&&(N(o),e=a=null),i=E(t.nodeName,l,n),e&&!i.nextBase&&(i.nextBase=e,a=null),O(i,l,1,n,r),e=i.base,a&&e!==a&&(a._component=null,w(a,!1))),e}function N(e){D.beforeUnmount&&D.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?N(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,p(t),x(e),k(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function A(e,t,n){return g(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return i}),n.d(t,"createElement",function(){return i}),n.d(t,"cloneElement",function(){return a}),n.d(t,"Component",function(){return I}),n.d(t,"render",function(){return A}),n.d(t,"rerender",function(){return u}),n.d(t,"options",function(){return D});var D={},M=[],j=[],R="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,F=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,L=[],U=[],V=0,H=!1,B=!1,W={};o(I.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o({},n)),o(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),s(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),T(this,2)},render:function(){}});var q={h:i,createElement:i,cloneElement:a,Component:I,render:A,rerender:u,options:D};t.default=q},function(e,t,n){"use strict";var r=n(12),i=n(184),o=n(58),a=n(186),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();t.Observable=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){}function i(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function o(){$||($=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function a(){var e=[],t=[];return{clear:function(){t=se,e=se},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==se&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function s(){}function u(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function l(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,l=void 0===a?"connectAdvanced":a,c=r.renderCountProp,h=void 0===c?void 0:c,f=r.shouldHandleStateChanges,p=void 0===f||f,d=r.storeKey,v=void 0===d?"store":d,m=r.withRef,y=void 0!==m&&m,g=K(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=v+"Subscription",_=ce++,w=(t={},t[v]=B,t[b]=H,t),k=(n={},n[b]=H,n);return function(t){ae("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=o(n),i=z({},g,{getDisplayName:o,methodName:l,renderCountProp:h,shouldHandleStateChanges:p,storeKey:v,withRef:y,displayName:r,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function o(e,t){q(this,o);var i=Y(this,n.call(this,e,t));return i.version=_,i.state={},i.renderCount=0,i.store=e[v]||t[v],i.propsMode=Boolean(e[v]),i.setWrappedInstance=i.setWrappedInstance.bind(i),ae(i.store,'Could not find "'+v+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+v+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return G(o,n),o.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[b]=t||this.context[b],e},o.prototype.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return ae(y,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},o.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},o.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=u(t,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[b];this.subscription=new le(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(he)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.prototype.addExtraProps=function(e){if(!(y||h||this.propsMode&&this.subscription))return e;var t=z({},e);return y&&(t.ref=this.setWrappedInstance),h&&(t[h]=this.renderCount++),this.propsMode&&this.subscription&&(t[b]=this.subscription),t},o.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(F.h)(t,this.addExtraProps(e.props))},o}(F.Component);return a.WrappedComponent=t,a.displayName=r,a.childContextTypes=k,a.contextTypes=w,a.prototype.componentWillUpdate=function(){var e=this;if(this.version!==_){this.version=_,this.initSelector();var t=[];this.subscription&&(t=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),p&&(this.subscription.trySubscribe(),t.forEach(function(t){return e.subscription.listeners.subscribe(t)}))}},oe(a,t)}}function c(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function h(e,t){if(c(e,t))return!0;if("object"!==(void 0===e?"undefined":W(e))||null===e||"object"!==(void 0===t?"undefined":W(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!fe.call(t,n[i])||!c(e[n[i]],t[n[i]]))return!1;return!0}function f(e){var t=ge.call(e,_e),n=e[_e];try{e[_e]=void 0;var r=!0}catch(e){}var i=be.call(e);return r&&(t?e[_e]=n:delete e[_e]),i}function p(e){return ke.call(e)}function d(e){return null==e?void 0===e?xe:Ce:Ee&&Ee in Object(e)?f(e):p(e)}function v(e){return null!=e&&"object"==(void 0===e?"undefined":W(e))}function m(e){if(!v(e)||d(e)!=Oe)return!1;var t=Se(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ae}function y(e,t,n){m(e)||i(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function g(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function b(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _(e,t){return function(n,r){var i=r.displayName,o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)};return o.dependsOnOwnProps=!0,o.mapToProps=function(n,r){o.mapToProps=e,o.dependsOnOwnProps=b(e);var a=o(n,r);return"function"==typeof a&&(o.mapToProps=a,o.dependsOnOwnProps=b(a),a=o(n,r)),y(a,i,t),a},o}}function w(e){return"function"==typeof e?_(e,"mapDispatchToProps"):void 0}function k(e){return e?void 0:g(function(e){return{dispatch:e}})}function C(e){return e&&"object"===(void 0===e?"undefined":W(e))?g(function(t){return Object(L.bindActionCreators)(e,t)}):void 0}function x(e){return"function"==typeof e?_(e,"mapStateToProps"):void 0}function E(e){return e?void 0:g(function(){return{}})}function S(e,t,n){return z({},n,e,t)}function O(e){return function(t,n){var r=n.displayName,i=n.pure,o=n.areMergedPropsEqual,a=!1,s=void 0;return function(t,n,u){var l=e(t,n,u);return a?i&&o(l,s)||(s=l):(a=!0,s=l,y(s,r,"mergeProps")),s}}}function T(e){return"function"==typeof e?O(e):void 0}function P(e){return e?void 0:function(){return S}}function N(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||i("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function I(e,t,n,r){N(e,"mapStateToProps",r),N(t,"mapDispatchToProps",r),N(n,"mergeProps",r)}function A(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function D(e,t,n,r,i){function o(i,o){return d=i,v=o,m=e(d,v),y=t(r,v),g=n(m,y,v),p=!0,g}function a(){return m=e(d,v),t.dependsOnOwnProps&&(y=t(r,v)),g=n(m,y,v)}function s(){return e.dependsOnOwnProps&&(m=e(d,v)),t.dependsOnOwnProps&&(y=t(r,v)),g=n(m,y,v)}function u(){var t=e(d,v),r=!f(t,m);return m=t,r&&(g=n(m,y,v)),g}function l(e,t){var n=!h(t,v),r=!c(e,d);return d=e,v=t,n&&r?a():n?s():r?u():g}var c=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1,d=void 0,v=void 0,m=void 0,y=void 0,g=void 0;return function(e,t){return p?l(e,t):o(e,t)}}function M(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=K(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return I(a,s,u,o.displayName),(o.pure?D:A)(a,s,u,e,o)}function j(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+(void 0===e?"undefined":W(e))+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function R(e,t){return e===t}n.d(t,"Provider",function(){return Q}),n.d(t,"connect",function(){return Re}),n.d(t,"connectAdvanced",function(){return l});var F=n(0),L=n(84),U={only:function(e){return e&&e[0]||null}};r.isRequired=r;var V={element:r,func:r,shape:function(){return r},instanceOf:function(){return r}},H=V.shape({trySubscribe:V.func.isRequired,tryUnsubscribe:V.func.isRequired,notifyNestedSubs:V.func.isRequired,isSubscribed:V.func.isRequired}),B=V.shape({subscribe:V.func.isRequired,dispatch:V.func.isRequired,getState:V.func.isRequired}),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},K=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},$=!1,Q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",i=function(e){function n(r,i){q(this,n);var o=Y(this,e.call(this,r,i));return o[t]=r.store,o}return G(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return U.only(this.props.children)},n}(F.Component);return i.prototype.componentWillReceiveProps=function(e){this[t]!==e.store&&o()},i.childContextTypes=(e={},e[t]=B.isRequired,e[r]=H,e),i}(),X={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},J={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Z=Object.defineProperty,ee=Object.getOwnPropertyNames,te=Object.getOwnPropertySymbols,ne=Object.getOwnPropertyDescriptor,re=Object.getPrototypeOf,ie=re&&re(Object),oe=function e(t,n,r){if("string"!=typeof n){if(ie){var i=re(n);i&&i!==ie&&e(t,i,r)}var o=ee(n);te&&(o=o.concat(te(n)));for(var a=0;a<o.length;++a){var s=o[a];if(!(X[s]||J[s]||r&&r[s])){var u=ne(n,s);try{Z(t,s,u)}catch(e){}}}return t}return t},ae=function(){},se=null,ue={notify:function(){}},le=function(){function e(t,n,r){q(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=ue}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=a())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ue)},e}(),ce=0,he={},fe=Object.prototype.hasOwnProperty,pe="object"==(void 0===e?"undefined":W(e))&&e&&e.Object===Object&&e,de="object"==("undefined"==typeof self?"undefined":W(self))&&self&&self.Object===Object&&self,ve=pe||de||Function("return this")(),me=ve.Symbol,ye=Object.prototype,ge=ye.hasOwnProperty,be=ye.toString,_e=me?me.toStringTag:void 0,we=Object.prototype,ke=we.toString,Ce="[object Null]",xe="[object Undefined]",Ee=me?me.toStringTag:void 0,Se=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Oe="[object Object]",Te=Function.prototype,Pe=Object.prototype,Ne=Te.toString,Ie=Pe.hasOwnProperty,Ae=Ne.call(Object),De=[w,k,C],Me=[x,E],je=[T,P],Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?l:t,r=e.mapStateToPropsFactories,i=void 0===r?Me:r,o=e.mapDispatchToPropsFactories,a=void 0===o?De:o,s=e.mergePropsFactories,u=void 0===s?je:s,c=e.selectorFactory,f=void 0===c?M:c;return function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,l=void 0===s||s,c=o.areStatesEqual,p=void 0===c?R:c,d=o.areOwnPropsEqual,v=void 0===d?h:d,m=o.areStatePropsEqual,y=void 0===m?h:m,g=o.areMergedPropsEqual,b=void 0===g?h:g,_=K(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=j(e,i,"mapStateToProps"),k=j(t,a,"mapDispatchToProps"),C=j(r,u,"mergeProps");return n(f,z({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:C,pure:l,areStatesEqual:p,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:b},_))}}(),Fe={Provider:Q,connect:Re,connectAdvanced:l};t.default=Fe}.call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new i.default;o.setMaxListeners(0),window.ee=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(245),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a={DOMVirtualizer:function(e){if(e instanceof Node==!1)return null;switch(e.nodeName){case"#text":return e.textContent;case"SPAN":return(0,r.h)("span",{className:e.className},e.textContent);case"A":return(0,r.h)("a",{className:e.className,href:e.href,target:"_blank"},e.textContent);case"DIV":return(0,r.h)("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.innerHTML}});case"BR":return(0,r.h)("br",null)}},getVirtualDOM:function(e){var t=document.createElement("p"),n=o.default.transform(t,e||"");return n?n.map(a.DOMVirtualizer):""},getComputedStyle:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return getComputedStyle(e)||{width:"auto",height:"auto"}})};t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(55),o=n(17),a=n(92),s=n(57),u=function(e){function t(n,r,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof t?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,i)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,n=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},t}(o.Subscription);t.Subscriber=u;var l=function(e){function t(t,n,r,o){e.call(this),this._parentSubscriber=t;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),s=n(22),u=(r(s),n(9)),l={sendMessage:function(e){var t=e.type,n=e.message,r=e.payload,i=e.extra,o=e.files,s=e.render,u=void 0===s||s;a.default.emit("hu-lb-sending-message"),a.default.emit("hu-query-send-message",{type:t,message:n,payload:r||n,extra:i,files:o,render:u})},enableInput:function(){a.default.emit("hu-lb-enable-input")},disableInput:function(){a.default.emit("hu-lb-disable-input")},randomKey:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="+",r=0;r<e;r++)n=n.concat(t.charAt(Math.floor(Math.random()*t.length)));return n},hasRoleType:function(e,t){return u(e,"role",[]).indexOf(t)>-1},addRoleType:function(e,t){var n=u(e,"role",[]);return n.indexOf(t)>-1?n:[].concat(i(n),[t])},getTypingDelay:function(e,t,n){var r=0,i=u(t,"extra.typing","auto");if(!1===i)r=0;else if("custom"===i&&!1!==n.block_custom)r=1e3*u(t,"extra.typing_delay",0);else if(u(n,"delay.is_constant",!1))r=1e3*u(n,"delay.constant",0);else if(null===e||void 0===e.samurai||l.hasRoleType(e,"end-flow"))r=100;else{var o="dialog"===e.type?e.title?e.title:" ":e.message?e.message:" ",a=o.replace(/\s+/g," ").split(" ").length;r=Math.min(6e4/u(n,"delay.average_human_reading_speed",300)*a,1e3*u(n,"delay.max_delay",1.5))}return{typing:r,currDelay:e&&e.typingDelay?e.typingDelay:0}},showBackButton:function(){var e=UmiCoreConfig.keywords||{};return Object.keys(e).reduce(function(t,n){return t||"back"===e[n]},!1)},getMessageType:function(e){var t=u(e.extra,"message",{});u(e.extra,"buttons",{});return t.upper_image?"upper_image":e.type}};t.default=l},function(e,t,n){(function(t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=me?me(null):{}}function a(e){return this.has(e)&&delete this.__data__[e]}function s(e){var t=this.__data__;if(me){var n=t[e];return n===W?void 0:n}return ce.call(t,e)?t[e]:void 0}function u(e){var t=this.__data__;return me?void 0!==t[e]:ce.call(t,e)}function l(e,t){return this.__data__[e]=me&&void 0===t?W:t,this}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=[]}function f(e){var t=this.__data__,n=k(t,e);return!(n<0)&&(n==t.length-1?t.pop():de.call(t,n,1),!0)}function p(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]}function d(e){return k(this.__data__,e)>-1}function v(e,t){var n=this.__data__,r=k(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__={hash:new i,map:new(ve||c),string:new i}}function g(e){return O(this,e).delete(e)}function b(e){return O(this,e).get(e)}function _(e){return O(this,e).has(e)}function w(e,t){return O(this,e).set(e,t),this}function k(e,t){for(var n=e.length;n--;)if(j(e[n][0],t))return n;return-1}function C(e,t){t=P(t,e)?[t]:S(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[A(t[n++])];return n&&n==r?e:void 0}function x(e){return!(!F(e)||I(e))&&(R(e)||r(e)?fe:ee).test(D(e))}function E(e){if("string"==typeof e)return e;if(U(e))return ge?ge.call(e):"";var t=e+"";return"0"==t&&1/e==-q?"-0":t}function S(e){return _e(e)?e:be(e)}function O(e,t){var n=e.__data__;return N(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var r=n(e,t);return x(r)?r:void 0}function P(e,t){if(_e(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!U(e))||($.test(e)||!Y.test(e)||null!=t&&e in Object(t))}function N(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function I(e){return!!ue&&ue in e}function A(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-q?"-0":t}function D(e){if(null!=e){try{return le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function M(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(B);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(M.Cache||m),n}function j(e,t){return e===t||e!==e&&t!==t}function R(e){var t=F(e)?he.call(e):"";return t==z||t==G}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){return!!e&&"object"==typeof e}function U(e){return"symbol"==typeof e||L(e)&&he.call(e)==K}function V(e){return null==e?"":E(e)}function H(e,t,n){var r=null==e?void 0:C(e,t);return void 0===r?n:r}var B="Expected a function",W="__lodash_hash_undefined__",q=1/0,z="[object Function]",G="[object GeneratorFunction]",K="[object Symbol]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,Q=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Z=/\\(\\)?/g,ee=/^\[object .+?Constructor\]$/,te="object"==typeof t&&t&&t.Object===Object&&t,ne="object"==typeof self&&self&&self.Object===Object&&self,re=te||ne||Function("return this")(),ie=Array.prototype,oe=Function.prototype,ae=Object.prototype,se=re["__core-js_shared__"],ue=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),le=oe.toString,ce=ae.hasOwnProperty,he=ae.toString,fe=RegExp("^"+le.call(ce).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=re.Symbol,de=ie.splice,ve=T(re,"Map"),me=T(Object,"create"),ye=pe?pe.prototype:void 0,ge=ye?ye.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=u,i.prototype.set=l,c.prototype.clear=h,c.prototype.delete=f,c.prototype.get=p,c.prototype.has=d,c.prototype.set=v,m.prototype.clear=y,m.prototype.delete=g,m.prototype.get=b,m.prototype.has=_,m.prototype.set=w;var be=M(function(e){e=V(e);var t=[];return Q.test(e)&&t.push(""),e.replace(X,function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)}),t});M.Cache=m;var _e=Array.isArray;e.exports=H}).call(t,n(7))},function(e,t,n){e.exports=n(267)()},function(e,t,n){var r=n(78)("wks"),i=n(48),o=n(6).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=void 0!==e&&e,o=n||i||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={getArrayFrom:function(e){return e instanceof Array?e:Object.keys(e).map(function(t){return e[t]})},getHref:function(e){var t=/:\/\//;return e?t.test(e)?e:"https://".concat(e):null},cloneObject:function(e){if("object"===(void 0===e?"undefined":r(e))&&null!==e)return JSON.parse(JSON.stringify(e))}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){return null}function i(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&w(e.attributes,t.defaultProps),n&&w(e.attributes,n)}function o(e,t){var n,r,i;if(t){for(i in t)if(n=z.test(i))break;if(n){r=e.attributes={};for(i in t)t.hasOwnProperty(i)&&(r[z.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i])}}}function a(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var i=t.childNodes.length;i--;)t.childNodes[i]!==r&&t.removeChild(t.childNodes[i]);var o=Object(U.render)(e,t,r);return t&&(t._preactCompatRendered=o&&(o._component||{base:o})),"function"==typeof n&&n(),o&&o._component||o}function s(e,t,n,r){var i=Object(U.h)(X,{context:e.context},t),o=a(i,n),s=o._component||o.base;return r&&r.call(s,o),s}function u(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(Object(U.render)(Object(U.h)(r),e,t),!0)}function l(e){return d.bind(null,e)}function c(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?c(r):r&&"object"==typeof r&&!y(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=d(r.type||r.nodeName,r.props||r.attributes,r.children))}}function h(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function f(e){return E({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function p(e){var t=e[W];return t?!0===t?e:t:(t=f(e),Object.defineProperty(t,W,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,W,{configurable:!0,value:t}),t)}function d(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return c(e,2),v(U.h.apply(void 0,e))}function v(e){e.preactCompatNormalized=!0,_(e),h(e.nodeName)&&(e.nodeName=p(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!J||"string"!==n&&"number"!==n||(e.attributes.ref=g(t,J)),b(e),e}function m(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!y(e))return e;var i=e.attributes||e.props,o=Object(U.h)(e.nodeName||e.type,w({},i),e.children||i&&i.children),a=[o,t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),v(U.cloneElement.apply(void 0,a))}function y(e){return e&&(e instanceof Y||e.$$typeof===B)}function g(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function b(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var i in n)r[i.toLowerCase()]=i;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var o=r.oninput||"oninput";n[o]||(n[o]=N([n[o],n[r.onchange]]),delete n[r.onchange])}}}function _(e){var t=e.attributes||(e.attributes={});re.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",re)}function w(e,t){for(var n=arguments,r=1,i=void 0;r<arguments.length;r++)if(i=n[r])for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e}function k(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function C(e){return e&&e.base||e}function x(){}function E(e){function t(e,t){T(this),j.call(this,e,t,G),I.call(this,e,t)}return e=w({constructor:t},e),e.mixins&&O(e,S(e.mixins)),e.statics&&w(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps.call(t)),x.prototype=j.prototype,t.prototype=w(new x,e),t.displayName=e.displayName||"Component",t}function S(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&"function"==typeof r[i]&&(t[i]||(t[i]=[])).push(r[i])}return t}function O(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=N(t[n].concat(e[n]||Z),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function T(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||q.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function P(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function N(e,t){return function(){for(var n,r=arguments,i=this,o=0;o<e.length;o++){var a=P(i,e[o],r);if(t&&null!=a){n||(n={});for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}else void 0!==a&&(n=a)}return n}}function I(e,t){A.call(this,e,t),this.componentWillReceiveProps=N([A,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=N([A,D,this.render||"render",M])}function A(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof Y)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),K){var r="function"==typeof this?this:this.constructor,i=this.propTypes||r.propTypes,o=this.displayName||r.name;i&&L.a.checkPropTypes(i,e,"prop",o)}}}function D(e){J=this}function M(){J===this&&(J=null)}function j(e,t,n){U.Component.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==G&&I.call(this,e,t)}function R(e,t){j.call(this,e,t)}n.d(t,"version",function(){return V}),n.d(t,"DOM",function(){return te}),n.d(t,"Children",function(){return ee}),n.d(t,"render",function(){return a}),n.d(t,"createClass",function(){return E}),n.d(t,"createFactory",function(){return l}),n.d(t,"createElement",function(){return d}),n.d(t,"cloneElement",function(){return m}),n.d(t,"isValidElement",function(){return y}),n.d(t,"findDOMNode",function(){return C}),n.d(t,"unmountComponentAtNode",function(){return u}),n.d(t,"Component",function(){return j}),n.d(t,"PureComponent",function(){return R}),n.d(t,"unstable_renderSubtreeIntoContainer",function(){return s}),n.d(t,"__spread",function(){return w});var F=n(10),L=n.n(F),U=n(0);n.d(t,"PropTypes",function(){return L.a});var V="15.1.0",H="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),B="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,W="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",q={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},z=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,G={},K=void 0===e||!Object({NODE_ENV:"production"})||!1,Y=Object(U.h)("a",null).constructor;Y.prototype.$$typeof=B,Y.prototype.preactCompatUpgraded=!1,Y.prototype.preactCompatNormalized=!1,Object.defineProperty(Y.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(Y.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var $=U.options.event;U.options.event=function(e){return $&&(e=$(e)),e.persist=Object,e.nativeEvent=e,e};var Q=U.options.vnode;U.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=w({},e.attributes);"function"==typeof t?(!0===t[W]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||v(e),i(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),o(e,n))}Q&&Q(e)};var X=function(){};X.prototype.getChildContext=function(){return this.props.context},X.prototype.render=function(e){return e.children[0]};for(var J,Z=[],ee={map:function(e,t,n){return null==e?null:(e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(e=ee.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:Z.concat(e)}},te={},ne=H.length;ne--;)te[H[ne]]=l(H[ne]);var re={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};w(j.prototype=new U.Component,{constructor:j,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),x.prototype=j.prototype,R.prototype=new x,R.prototype.isPureReactComponent=!0,R.prototype.shouldComponentUpdate=function(e,t){return k(this.props,e)||k(this.state,t)};var ie={version:V,DOM:te,PropTypes:L.a,Children:ee,render:a,createClass:E,createFactory:l,createElement:d,cloneElement:m,isValidElement:y,findDOMNode:C,unmountComponentAtNode:u,Component:j,PureComponent:R,unstable_renderSubtreeIntoContainer:s,__spread:w};t.default=ie}.call(t,n(50))},function(e,t,n){function r(e,t){if(c(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},r=n.additionalDigits;r=null==r?p:Number(r);var l=i(e),h=o(l.date,r),d=h.year,v=h.restDateString,m=a(v,d);if(m){var y,g=m.getTime(),b=0;return l.time&&(b=s(l.time)),l.timezone?y=u(l.timezone):(y=new Date(g+b).getTimezoneOffset(),y=new Date(g+b+y*f).getTimezoneOffset()),new Date(g+b+y*f)}return new Date(e)}function i(e){var t,n={},r=e.split(d);if(v.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var i=T.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function o(e,t){var n,r=y[t],i=b[t];if(n=g.exec(e)||i.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=m.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function a(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_.exec(e))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(t,i),r;if(n=w.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=k.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(t,i,s),r}if(n=C.exec(e))return o=parseInt(n[1],10)-1,l(t,o);if(n=x.exec(e)){o=parseInt(n[1],10)-1;return l(t,o,parseInt(n[2],10)-1)}return null}function s(e){var t,n,r;if(t=E.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*h;if(t=S.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*h+r*f;if(t=O.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*h+r*f+1e3*i}return null}function u(e){var t,n;return(t=P.exec(e))?0:(t=N.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=I.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function l(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=7*t+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var c=n(111),h=36e5,f=6e4,p=2,d=/[T ]/,v=/:/,m=/^(\d{2})$/,y=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],g=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],_=/^-(\d{2})$/,w=/^-?(\d{3})$/,k=/^-?(\d{2})-?(\d{2})$/,C=/^-?W(\d{2})$/,x=/^-?W(\d{2})-?(\d{1})$/,E=/^(\d{2}([.,]\d*)?)$/,S=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,O=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,T=/([Z+-].*)$/,P=/^(Z)$/,N=/^([+-])(\d{2})$/,I=/^([+-])(\d{2}):?(\d{2})$/;e.exports=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(183),s=r(a),u=n(100),l=r(u),c=n(237),h=r(c);t.default=Object.assign({renderFlags:o.default},s,l,h)},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t instanceof l.UnsubscriptionError?t.errors:t)},[])}var i=n(56),o=n(91),a=n(55),s=n(36),u=n(25),l=n(185),c=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,c=n._parent,h=n._parents,f=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,v=h?h.length:0;c;)c.remove(this),c=++d<v&&h[d]||null;if(a.isFunction(f)){var m=s.tryCatch(f).call(this);m===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof l.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(p))for(d=-1,v=p.length;++d<v;){var y=p[d];if(o.isObject(y)){var m=s.tryCatch(y.unsubscribe).call(y);if(m===u.errorObject){t=!0,e=e||[];var g=u.errorObject.e;g instanceof l.UnsubscriptionError?e=e.concat(r(g.errors)):e.push(g)}}}if(t)throw new l.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this,n=t._parent,r=t._parents;n&&n!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=c},function(e,t,n){"use strict";function r(e){return new Date(e.getTime())}function i(e){return e instanceof Date&&!isNaN(e.valueOf())}function o(e,t){var n=r(e);return n.setMonth(e.getMonth()+t),n}function a(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function s(e,t){return!(!e||!t)&&(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function u(e,t){return r(e).setHours(0,0,0,0)<r(t).setHours(0,0,0,0)}function l(e,t){return r(e).setHours(0,0,0,0)>r(t).setHours(0,0,0,0)}function c(e){var t=new Date;return t.setHours(0,0,0,0),u(e,t)}function h(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function f(e,t,n){var i=r(e);return i.setHours(0,0,0,0),l(i,t)&&u(i,n)||l(i,n)&&u(i,t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,r=t.to;return n?n&&r&&a(n,r)&&a(e,n)?(n=null,r=null):r&&u(e,n)?n=e:r&&a(e,r)?(n=e,r=e):(r=e,u(r,n)&&(r=n,n=e)):n=e,{from:n,to:r}}function d(e,t){var n=t.from,r=t.to;return n&&a(e,n)||r&&a(e,r)||n&&r&&f(e,n,r)}function v(e){var t=r(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=r,t.isDate=i,t.addMonths=o,t.isSameDay=a,t.isSameMonth=s,t.isDayBefore=u,t.isDayAfter=l,t.isPastDay=c,t.isFutureDay=h,t.isDayBetween=f,t.addDayToRange=p,t.isDayInRange=d,t.getWeekNumber=v,t.default={addDayToRange:p,addMonths:o,clone:r,getWeekNumber:v,isDate:i,isDayAfter:l,isDayBefore:u,isDayBetween:f,isDayInRange:d,isFutureDay:h,isPastDay:c,isSameDay:a,isSameMonth:s}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(21);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=n(23),o=n(88),a=n(114),s=n(116);t.default=(0,r.createStore)((0,r.combineReducers)({config:i.config,messagesList:o.messagesList,input:o.input,agents:o.agents,chat:o.chat,loader:a.loader,gdpr:s.gdpr}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.referralGoodbyeURL=t.referralFooterURL=t.referralHeaderURL=t.config=void 0;var i=n(85),o=r(i),a=n(181),s=r(a);t.config=s.default,t.referralHeaderURL=i.referralHeaderURL,t.referralFooterURL=i.referralFooterURL,t.referralGoodbyeURL=i.referralGoodbyeURL,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new i.default("Landbot");window.landbotLogger=o,t.default=o},function(e,t,n){"use strict";t.errorObject={e:{}}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}t.isScheduler=r},function(e,t,n){"use strict";var r=n(213),i=n(215);t.async=new i.AsyncScheduler(r.AsyncAction)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animate=void 0;var r=n(39),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(257);var o=i.default.only(["chrome","firefox","safari","opera","msedge"]),a=function(e){"function"==typeof e&&e()};t.Animate=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o&&e&&!0!==i)try{Velocity(e,t,n)}catch(e){a(r)}else a(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(9),a=["name","phone","email","postal code","address","country","birthdate"],s=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],u={getInputType:function(e){switch(e.type){case"menu":case"dialog":return"yes_no"===o(e,"extra.buttons.type",!1)?"yes_no":"autocomplete"===o(e,"extra.buttons.type",!1)?"autocomplete":"scale"===o(e,"extra.buttons.type",!1)?"scale":"rating"===o(e,"extra.buttons.type",!1)?"rating":o(e,"extra.buttons.multi",!1)?"multi":"menu";case"cards":return"carousel";case"referral":if(void 0!==e.buttons)return"menu";if(!1!==o(e,"extra.referral"))return"referral";default:return"file"===o(e,"extra.textarea.type")?"file":"number"===o(e,"extra.textarea.type")?"number":"location"===o(e,"extra.textarea.type")?"location":"date"===o(e,"extra.textarea.type")?"date":o(e,"extra.textarea.field",!1)?"field":o(e,"extra.hide_textbox",!1)?"none":"text"}},getInputPlaceholder:function(e){switch(e.type){case"url":return"https://";case"date":var t=o(e,"dateOptions.format","YYYY/MM/DD");return o(e,"dateOptions.isRange",!1)?t+" - "+t:t;default:var n=e.field,r=a.indexOf(n);return r>-1?i.default.getState().config.text.inline_input_placeholder.replace("@field",i.default.getState().config.text.fields[r]):i.default.getState().config.text.text_input_placeholder}},getInputAspect:function(e){var t=e.field;return a.indexOf(t)>-1||"short"===e.size?"hu-textarea-light":"hu-textarea-heavy"},getInputNativeBehavior:function(e){switch(e.type){case"text":case"image":return null;default:return s.indexOf(e.type)>-1?e.type:null}}};t.default=u},function(e,t,n){e.exports=!n(46)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(32);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new i.default;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_INPUT="SET_INPUT"},function(e,t,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function i(e){return o=e,r}var o,a=n(25);t.tryCatch=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(60),a=n(61),s=n(26),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,i=e.subscriber;if(n>=r)return void i.complete();i.next(t[n]),i.closed||(e.index=n+1,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={format:function(e,t){var n=null,r=null,i=null,o=null,a=null;switch(t){case"HH:mm":return n=new Date(e),r=("0"+n.getHours()).slice(-2),i=("0"+n.getMinutes()).slice(-2),r+":"+i;case"HH:mm:ss.ff":return n=new Date(e),r=("0"+n.getHours()).slice(-2),i=("0"+n.getMinutes()).slice(-2),o=("0"+n.getSeconds()).slice(-2),a=("0000"+n.getMilliseconds()).slice(-4),r+":"+i+":"+o+"."+a;default:return"0"}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(255),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={only:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return e||void 0!==i.default[t]},!1)},isMobile:function(){return i.default.mobile},isTablet:function(){return i.default.tablet},isDesktop:function(){return!i.default.mobile&&!i.default.tablet}};t.default=o},function(e,t,n){"use strict";function r(e){return e.toDateString()}function i(e){return h[e.getMonth()]+" "+e.getFullYear()}function o(e){return c[e]}function a(e){return l[e]}function s(){return 0}function u(){return h}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=r,t.formatMonthTitle=i,t.formatWeekdayShort=o,t.formatWeekdayLong=a,t.getFirstDayOfWeek=s,t.getMonths=u;var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Su","Mo","Tu","We","Th","Fr","Sa"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];t.default={formatDay:r,formatMonthTitle:i,formatWeekdayShort:o,formatWeekdayLong:a,getFirstDayOfWeek:s,getMonths:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},function(e,t,n){"use strict";function r(e){e.preventDefault(),e.stopPropagation()}function i(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function o(e){var t=i(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function a(e){var t=v({},e.modifiers);return e.selectedDays&&(t[e.classNames.selected]=e.selectedDays),e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays),t}function s(e){var t=e.firstDayOfWeek,n=e.locale,r=void 0===n?"en":n,i=e.localeUtils,o=void 0===i?{}:i;return isNaN(t)?o.getFirstDayOfWeek?o.getFirstDayOfWeek(r):0:t}function u(e){return!!(e&&e.from&&e.to)}function l(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,y.getFirstDayOfWeek)(),n=arguments[2],r=o(e),i=[],a=[],s=[],u=1;u<=r;u+=1)i.push(new Date(e.getFullYear(),e.getMonth(),u,12));i.forEach(function(e){a.length>0&&e.getDay()===t&&(s.push(a),a=[]),a.push(e),i.indexOf(e)===i.length-1&&s.push(a)});for(var l=s[0],c=7-l.length;c>0;c-=1){var h=(0,m.clone)(l[0]);h.setDate(l[0].getDate()-1),l.unshift(h)}for(var f=s[s.length-1],p=f.length;p<7;p+=1){var d=(0,m.clone)(f[f.length-1]);d.setDate(f[f.length-1].getDate()+1),f.push(d)}if(n&&s.length<6)for(var v=void 0,g=s.length;g<6;g+=1){v=s[s.length-1];for(var b=v[v.length-1],_=[],w=0;w<7;w+=1){var k=(0,m.clone)(b);k.setDate(b.getDate()+w+1),_.push(k)}s.push(_)}return s}function h(e){var t=(0,m.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t}function f(e,t){var n=void 0;n=t===b.default?t.day+"--"+t.outside:""+t.outside;var r=t.day.replace(/ /g,"."),i=n.replace(/ /g,"."),o="."+r+":not(."+i+")";return e.querySelectorAll(o)}function p(e){return Array.prototype.slice.call(e,0)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.cancelEvent=r,t.getFirstDayOfMonth=i,t.getDaysInMonth=o,t.getModifiersFromProps=a,t.getFirstDayOfWeekFromProps=s,t.isRangeOfDates=u,t.getMonthsDiff=l,t.getWeekArray=c,t.startOfMonth=h,t.getDayNodes=f,t.nodeListToArray=p,t.hasOwnProp=d;var m=n(18),y=n(40),g=n(42),b=function(e){return e&&e.__esModule?e:{default:e}}(g)},function(e,t,n){var r=n(6),i=n(19),o=n(70),a=n(72),s=n(31),u=function(e,t,n){var l,c,h,f,p=e&u.F,d=e&u.G,v=e&u.S,m=e&u.P,y=e&u.B,g=d?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=d?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});d&&(n=t);for(l in n)c=!p&&g&&void 0!==g[l],h=(c?g:n)[l],f=y&&c?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,g&&a(g,l,h,e&u.U),b[l]!=h&&o(b,l,f),m&&_[l]!=h&&(_[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(20),i=n(122),o=n(123),a=Object.defineProperty;t.f=n(30)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(74),i=n(75);e.exports=function(e){return r(i(e))}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=d.length;t;){for(p=d,d=[];++m<t;)p&&p[m].run();m=-1,t=d.length}p=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var p,d=[],v=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(){function e(e){f(d[e],"delete"),delete d[e]}function t(e){return e=e||s,a(d,e)||i("no-app",{name:e}),d[e]}function n(e,t){if(void 0===t&&(t={}),"object"!=typeof t||null===t){t={name:t}}var n=t;void 0===n.name&&(n.name=s);var r=n.name;"string"==typeof r&&r||i("bad-app-name",{name:r+""}),a(d,r)&&i("duplicate-app",{name:r});var o=new l(e,n,y);return d[r]=o,f(o,"create"),o}function u(){return Object.keys(d).map(function(e){return d[e]})}function c(e,n,r,a,s){v[e]&&i("duplicate-service",{name:e}),v[e]=n,a&&(m[e]=a,u().forEach(function(e){a("create",e)}));var c=function(n){return void 0===n&&(n=t()),"function"!=typeof n[e]&&i("invalid-app-argument",{name:e}),n[e]()};return void 0!==r&&o.deepExtend(c,r),y[e]=c,l.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,s?t:[])},c}function h(e){o.deepExtend(y,e)}function f(e,t){Object.keys(v).forEach(function(n){var r=p(e,n);null!==r&&m[r]&&m[r](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;e.options;return n}var d={},v={},m={},y={__esModule:!0,initializeApp:n,app:t,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:c,createFirebaseNamespace:r,extendNamespace:h,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:e,factories:v,useAsService:p,Promise:Promise,deepExtend:o.deepExtend}};return o.patchProperty(y,"default",y),Object.defineProperty(y,"apps",{get:u}),o.patchProperty(t,"App",l),y}function i(e,t){throw h.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s="[DEFAULT]",u=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){u.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){u=u.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=s),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==s?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(u.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),u=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var c={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new o.ErrorFactory("app","Firebase",c),f=r();t.firebase=f,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={randomKey:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="+",r=0;r<e;r++)n=n.concat(t.charAt(Math.floor(Math.random()*t.length)));return n},getOrigin:function(){return window.location!==window.parent.location?document.referrer:document.location.href},getQueryValue:function(e){switch(e){case"0":return!1;case"1":return!0;case"null":return null;default:return decodeURIComponent(e)}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ENABLE_ENGAGE="ENABLE_ENGAGE",t.DISABLE_ENGAGE="DISABLE_ENGAGE",t.SET_LAST_AVATAR="SET_LAST_AVATAR",t.SET_FIXED_AVATAR="SET_FIXED_AVATAR"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bufferTimeSpan:1250,animationsDelay:500,engageIndex:0,initEngageFlag:!1,endEngageFlag:!1,endFlowFlag:!1,restarting:!1,initialChatFlag:!0,up:function(e){return r[e]=!0},down:function(e){return r[e]=!1},set:function(e,t){return r[e]=t}};t.default=r},function(e,t,n){"use strict";function r(e){return"function"==typeof e}t.isFunction=r},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";var r=n(12),i=r.root.Symbol;t.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var i=n(12);t.getSymbolObservable=r,t.observable=r(i.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(1),i=n(188);r.Observable.fromEvent=i.fromEvent},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;if(t)return void r.complete();r.next(n),r.closed||(e.done=!0,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(i.Observable);t.ScalarObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(i.Observable);t.EmptyObservable=o},function(e,t,n){"use strict";function r(e,t,n,r){var f=new c.InnerSubscriber(e,n,r);if(f.closed)return null;if(t instanceof u.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):(f.syncErrorThrowable=!0,t.subscribe(f));if(o.isArrayLike(t)){for(var p=0,d=t.length;p<d&&!f.closed;p++)f.next(t[p]);f.closed||f.complete()}else{if(a.isPromise(t))return t.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){i.root.setTimeout(function(){throw e})}),f;if(t&&"function"==typeof t[l.iterator])for(var v=t[l.iterator]();;){var m=v.next();if(m.done){f.complete();break}if(f.next(m.value),f.closed)break}else if(t&&"function"==typeof t[h.observable]){var y=t[h.observable]();if("function"==typeof y.subscribe)return y.subscribe(new c.InnerSubscriber(e,n,r));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=s.isObject(t)?"an invalid object":"'"+t+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(b))}}return null}var i=n(12),o=n(96),a=n(97),s=n(91),u=n(1),l=n(63),c=n(191),h=n(58);t.subscribeToResult=r},function(e,t,n){"use strict";function r(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(12);t.symbolIteratorPonyfill=r,t.iterator=r(i.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber);t.OuterSubscriber=o},function(e,t,n){"use strict";var r=n(1),i=n(195);r.Observable.prototype.pairwise=i.pairwise},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(5),a=n(17),s=n(101),u=n(200),l=n(57),c=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=c;var h=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[l.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=h;var f=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(h);t.AnonymousSubject=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i),a=n(3),s=r(a);window.jsReferral=function(e){},window.fakeMessage=function(e){o.default.sendMessage({type:"text",message:e})},window.ghostMessage=function(e){s.default.emit("hu-receive-ghost-message",Object.assign({key:o.default.randomKey()},e))};var u={getReferralUrl:function(e){var t=(window.location!=window.parent.location?document.referrer:document.location.href).split("?")[0];switch(e){case"facebook":return"https://facebook.com/sharer/sharer.php?u="+encodeURI(t);case"twitter":return"https://twitter.com/intent/tweet/?text=Try%20this%20conversational%20website%20made%20with%20Landbot.io%20%F0%9F%A4%96%20%F0%9F%92%AC%20%20&amp;url="+encodeURI(t);case"linkedin":return"https://www.linkedin.com/shareArticle?mini=true&amp;url="+encodeURI(t)+"&amp;title=Try%20this%20conversational%20website%20made%20with%20Landbot.io%20%F0%9F%A4%96%20%F0%9F%92%AC%20%20&amp;summary=Landbot.io%20is%20a%20tool%20to%20create%20conversational%20interfaces%20in%20substitution%20of%20forms.%20No%20coding%20required!&amp;source="+encodeURI(t);case"whatsapp":return"https://api.whatsapp.com/send?text=Try%20this%20conversational%20website%20made%20with%20Landbot.io%20%F0%9F%A4%96%20%F0%9F%92%AC%20%20%20"+encodeURI(t)}}};t.default=u},function(e,t,n){"use strict";function r(e,t){return!!t&&(Array.isArray(t)?t:[t]).some(function(t){return!!t&&(t instanceof Date?(0,o.isSameDay)(e,t):(0,a.isRangeOfDates)(t)?(0,o.isDayInRange)(e,t):t.after&&t.before&&(0,o.isDayAfter)(t.before,t.after)?(0,o.isDayAfter)(e,t.after)&&(0,o.isDayBefore)(e,t.before):t.after&&t.before&&((0,o.isDayAfter)(t.after,t.before)||(0,o.isSameDay)(t.after,t.before))?(0,o.isDayAfter)(e,t.after)||(0,o.isDayBefore)(e,t.before):t.after?(0,o.isDayAfter)(e,t.after):t.before?(0,o.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some(function(t){return e.getDay()===t}):"function"==typeof t&&t(e))})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(n,i){var o=t[i];return r(e,o)&&n.push(i),n},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=r,t.getModifiersForDay=i;var o=n(18),a=n(43);t.default={dayMatchesModifier:r,getModifiersForDay:i}},function(e,t,n){function r(e){return i(e,{weekStartsOn:1})}var i=n(307);e.exports=r},function(e,t,n){var r=n(45),i=n(124);e.exports=n(30)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(21),i=n(6).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(6),i=n(70),o=n(47),a=n(48)("src"),s=Function.toString,u=(""+s).split("toString");n(19).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(126),i=n(130);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(77),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(6),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(33),i=n(11)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports={}},function(e,t,n){var r,i,o,a=n(31),s=n(139),u=n(140),l=n(71),c=n(6),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,v=c.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(33)(h)?r=function(e){h.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(32);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){if("object"!==(void 0===e?"undefined":d(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function i(e,t,n){function o(){g===y&&(g=y.slice())}function a(){if(b)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return m}function s(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(b)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return o(),g.push(e),function(){if(t){if(b)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,o();var n=g.indexOf(e);g.splice(n,1)}}}function u(e){if(!r(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,m=v(m,e)}finally{b=!1}for(var t=y=g,n=0;n<t.length;n++){(0,t[n])()}return e}function l(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");v=e,u({type:p.REPLACE})}function c(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!==(void 0===e?"undefined":d(e))||null===e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var v=e,m=t,y=[],g=y,b=!1;return u({type:p.INIT}),h={dispatch:u,subscribe:s,getState:a,replaceReducer:l},h[f.a]=c,h}function o(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:p.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+p.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function s(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var s=Object.keys(n),u=void 0;try{a(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],h=e[l],f=c(h,t);if(void 0===f){var p=o(l,t);throw new Error(p)}i[l]=f,r=r||f!==h}return r?i:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t){if("function"==typeof e)return u(e,t);if("object"!==(void 0===e?"undefined":d(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":void 0===e?"undefined":d(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=u(a,t))}return r}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.apply(void 0,r),a=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map(function(e){return e(s)});return a=c.apply(void 0,u)(o.dispatch),v({},o,{dispatch:a})}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"createStore",function(){return i}),n.d(t,"combineReducers",function(){return s}),n.d(t,"bindActionCreators",function(){return l}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"compose",function(){return c}),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return p});var f=n(154),p={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.referralGoodbyeURL=t.referralFooterURL=t.referralHeaderURL=void 0;var r=n(34),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.settings,a=function(e){return!e||0===Object.keys(e).length};o.colors=a(o.colors)?{}:o.colors,o.text=a(o.text)?{}:o.text,o.typing_options=a(o.typing_options)?{}:o.typing_options;var s={staticUrl:o.staticUrl||null,messagesLimit:o.messagesLimit||20,has_bot:"boolean"!=typeof o.has_bot||o.has_bot,colors:{header_text:o.colors.header_text,bot_message_background:o.colors.bot_message_background,bot_message_text:o.colors.bot_message_text,user_message_background:o.colors.user_message_background,user_message_text:o.colors.user_message_text,button_background:o.colors.button_background,button_text:o.colors.button_text,textarea_background:o.colors.textarea_background,textarea_text:o.colors.textarea_text,textarea_border:o.colors.textarea_border},text:{inline_input_placeholder:o.text.inline_input_placeholder||"Type your @field here...",text_input_placeholder:o.text.text_input_placeholder||"Type here...",fields:o.text.fields||["name","phone","email","postal code","address","country","birthdate"],autocomplete_input_placeholder:o.text.autocomplete_input_placeholder||"Type to search options...",input_menu_help:o.text.input_menu_help||"Choose an option",input_multi_help:o.text.input_multi_help||"Choose at least one",input_instant_search_help:o.text.input_instant_search_help||"Filter the options",input_text_help:o.text.input_text_help||"Press enter to send",input_autocomplete_help:o.text.input_autocomplete_help||"Press enter to select",input_rating_help:o.text.input_rating_help||"Click on the icons",input_file_help:o.text.input_file_help||"Drop a file here",input_number_help_min:o.text.input_number_help_min||"Minimum value is @field",input_number_help_max:o.text.input_number_help_max||"Maximum value is @field",send:o.text.send||"Send",back:o.text.back||"Back",search:o.text.search||"Search",select_file:o.text.select_file||"Select a file",error:o.text.error||"⚠️  It seems there is a technical problem. Please reload this page"},accent:o.accent||"#F11952",dark:o.dark||"#34495E",light:o.light||"#FFFFFF",contrast:o.contrast||"#FFFFFF",header_background:o.header_background||"transparent",avatar_shape:o.avatar_shape||"none",avatar_scale:o.avatar_scale||1,avatar_url:o.avatar_url||null,font:o.font||"Montserrat",font_size:o.font_size||"15",logo:o.logo||null,brand_name:"string"==typeof o.brand_name?o.brand_name:"landbot",tagline:"string"==typeof o.tagline?o.tagline:"Get more leads using chatbots 🤖",background_type:o.background_type||"gradient",background_image_url:o.background_image_url||"https://storage.googleapis.com/media.yexir.com/channels_back/31.png",background_color:o.background_color||"#FFFFFF",gradient_from:o.gradient_from||"#FF575B",gradient_to:o.gradient_to||"#F11952",videoname:o.videoname||"video_1",video_url:o.video_url||null,filter_type:o.filter_type||"none",filter_color:o.filter_color||"#000000",filter_gradient_from:o.filter_gradient_from||"#FFAD59",filter_gradient_to:o.filter_gradient_to||"#FFE199",filter_image_url:o.filter_image_url||"https://storage.googleapis.com/media.yexir.com/channels_back/31.png",stylesheets:a(o.stylesheets)?[]:o.stylesheets,style:o.style||!1,keywords:a(o.keywords)?{}:o.keywords,persistent_menu:a(o.persistent_menu)?{}:o.persistent_menu,progress:"number"==typeof o.progress&&o.progress,test:o.test||!1,branding:"boolean"!=typeof o.branding||o.branding,typing_options:Object.assign({state:"boolean"!=typeof o.typing||o.typing,delay:{is_constant:!1,constant:.5,average_human_reading_speed:300,max_delay:1.5},skip:!1},o.typing_options),widget_hide_background:o.widget_hide_background||!1,widget_hide_header:o.widget_hide_header||!1,engage_protocol:"boolean"!=typeof o.engage_protocol||o.engage_protocol,gdpr:"boolean"==typeof o.gdpr&&o.gdpr,fixed_avatar:"boolean"==typeof o.fixed_avatar&&o.fixed_avatar,viral_goodbye_type:"string"==typeof o.viral_goodbye_type?o.viral_goodbye_type:null},u=Object.assign({},o,s);t.default=u;t.referralHeaderURL="https://landbot.io/powered-by?utm_source="+encodeURIComponent(u.brand_name)+"&utm_medium=landbot&utm_campaign=header",t.referralFooterURL="https://landbot.io/powered-by?utm_source="+encodeURIComponent(u.brand_name)+"&utm_medium=landbot&utm_campaign=footer",t.referralGoodbyeURL="https://landbot.io/powered-by?utm_source="+encodeURIComponent(u.brand_name)+"&utm_medium=landbot&utm_campaign=goodbye"},function(e,t,n){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}function o(e,t,n){e[t]=n}function a(e){var t=A;return A=e,t}function s(e){return JSON.parse(e)}function u(e){return JSON.stringify(e)}function l(e,t){var n=new ie(e,t);return n.subscribe.bind(n)}function c(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function h(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}function f(){}function p(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function d(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(p(e,t,r)+"must be a valid firebase namespace.")}function v(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(p(e,t,r)+"must be a valid function.")}function m(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(p(e,t,r)+"must be a valid context object.")}Object.defineProperty(t,"__esModule",{value:!0});var y=n(165),g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},b=function(e,t){if(!e)throw _(t)},_=function(e){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},k=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,p=63&l;u||(p=64,a||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):k(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==l||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!=l){var p=s<<4&240|l>>2;if(r.push(p),64!=h){var d=l<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},x=function(e){var t=w(e);return C.encodeByteArray(t,!0)},E=function(e){try{return C.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},S=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),O=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},T=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())},P=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},N=function(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN},I="FirebaseError",A=Error.captureStackTrace,D=function(){function e(e,t){if(this.code=e,this.message=t,A)A(this,M.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=I,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}return e}();D.prototype=Object.create(Error.prototype),D.prototype.constructor=D,D.prototype.name=I;var M=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new D(i,n);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o},e}(),j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=s(E(o[0])||""),n=s(E(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},R=function(e){var t,n,r=j(e).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),i&&t&&n&&i>=t&&i<=n},F=function(e){var t=j(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},L=function(e){var t=j(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},U=function(e){var t=j(e).claims;return"object"==typeof t&&!0===t.admin},V=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},H=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},B=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},W=function(e,t){return B(t,function(t,n){e[t]=n}),e},q=function(e){return W({},e)},z=function(e){return"object"==typeof e&&null!==e},G=function(e){for(var t in e)return!1;return!0},K=function(e){var t=0;for(var n in e)t++;return t},Y=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},$=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},Q=function(e,t,n){var r=$(e,t,n);return r&&e[r]},X=function(e){for(var t in e)return t},J=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},Z=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},ee=function(e){var t=[];return B(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},te=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},ne=function(){function e(){this.blockSize=-1}return e}(),re=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return y.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);var i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(ne),ie=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=h(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=f),void 0===r.error&&(r.error=f),void 0===r.complete&&(r.complete=f);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}(),oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,b(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};t.assert=b,t.assertionError=_,t.base64=C,t.base64Decode=E,t.base64Encode=x,t.CONSTANTS=g,t.deepCopy=r,t.deepExtend=i,t.patchProperty=o,t.Deferred=S,t.getUA=O,t.isMobileCordova=T,t.isNodeSdk=N,t.isReactNative=P,t.ErrorFactory=M,t.FirebaseError=D,t.patchCapture=a,t.jsonEval=s,t.stringify=u,t.decode=j,t.isAdmin=U,t.issuedAtTime=F,t.isValidFormat=L,t.isValidTimestamp=R,t.clone=q,t.contains=V,t.every=Z,t.extend=W,t.findKey=$,t.findValue=Q,t.forEach=B,t.getAnyKey=X,t.getCount=K,t.getValues=J,t.isEmpty=G,t.isNonNullObject=z,t.map=Y,t.safeGet=H,t.querystring=ee,t.querystringDecode=te,t.Sha1=re,t.async=c,t.createSubscribe=l,t.errorPrefix=p,t.validateArgCount=oe,t.validateCallback=v,t.validateContextObject=m,t.validateNamespace=d,t.stringLength=se,t.stringToByteArray=ae},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_CONFIG="SET_CONFIG"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.chat=t.agents=t.input=t.messagesList=void 0;var i=n(182),o=r(i),a=n(315),s=r(a),u=n(316),l=n(318),c=n(320);t.default=o.default,t.messagesList=s.default,t.input=u.input,t.agents=l.agents,t.chat=c.chat},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_MESSAGE="ADD_MESSAGE",t.ADD_MESSAGES_CHUNK="ADD_MESSAGES_CHUNK",t.ADD_OLD_MESSAGES_CHUNK="ADD_OLD_MESSAGES_CHUNK",t.EDIT_MESSAGE="EDIT_MESSAGE",t.DELETE_MESSAGE="DELETE_MESSAGE",t.RESET_CHAT="RESET_CHAT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_AGENT="ADD_AGENT"},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.isObject=r},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=n(1),i=n(190);r.Observable.merge=i.merge},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),i.mergeMap(o.identity,null,e)}var i=n(95),o=n(192);t.mergeAll=r},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new s(e,t,n))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(62),a=n(64);t.mergeMap=r;var s=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var u=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);t.MergeMapSubscriber=u},function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=r},function(e,t,n){"use strict";var r=n(1),i=n(193);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(e,t,n){"use strict";var r=n(1),i=n(197);r.Observable.prototype.first=i.first},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.inputAnimation$=t.newMessageReceive$=t.initialChatReceive$=t.newMessage$=t.initialChat$=t.receiverReady$=t.queueMessagesRenderSubject$=t.queueMessagesRender$=t.typingState$=t.messageReception$=t.sending$=t.reception$=t.renderFlags=void 0;var i=n(1),o=n(66),a=n(201);n(59),n(202),n(208),n(209),n(217),n(65),n(222),n(225),n(228),n(231),n(234);var s=n(3),u=r(s),l=n(24),c=r(l),h=n(22),f=r(h),p=n(8),d=r(p),v=n(38),m=r(v),y=n(54),g=r(y),b=new a.BehaviorSubject(!1),_=i.Observable.fromEvent(u.default,"hu-receive-message"),w=i.Observable.fromEvent(u.default,"hu-sending-message"),k=_.bufferWhen(function(){return i.Observable.fromEvent(u.default,"hu-receive-message").debounceTime(g.default.bufferTimeSpan)}),C=new o.Subject,x=C.startWith(null).pairwise(C).concatMap(function(e){var t=e[0],n=e[1],r=f.default.getState().config.typing_options;return g.default.down("initEngageFlag"),null===n||g.default.restarting?(g.default.up("endFlowFlag"),i.Observable.of(null).delay(0)):(n.typing=!1,d.default.hasRoleType(t,"error")?(g.default.down("endFlowFlag"),i.Observable.of(null).delay(0)):d.default.hasRoleType(t,"engage")?(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+': Previous message is "engage"',"landbot.messages["+n.key+"]"),n.key=t.key,n.typingDelay=0,g.default.down("endFlowFlag"),i.Observable.of(n).delay(0)):d.default.hasRoleType(n,"engage")?(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+': Current message is "engage"',"landbot.messages["+n.key+"]"),n.typing=!0,n.typingDelay=6e5,g.default.down("endFlowFlag"),i.Observable.of(n).delay(0)):n.samurai<0&&!0===r.state?(n.typing=!0,n.typingDelay=d.default.getTypingDelay(t,n,f.default.getState().config.typing_options).typing,null===t?(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+": First group message","landbot.messages["+n.key+"]"),g.default.down("endFlowFlag"),i.Observable.of(n).delay(0)):d.default.hasRoleType(t,"end-flow")?(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+': Previous message has role type "end-flow", so current launches',"landbot.messages["+n.key+"]"),g.default.down("endFlowFlag"),i.Observable.of(n).delay(0)):g.default.endFlowFlag?(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+': "end-flow" flag was enabled, so it launches',"landbot.messages["+n.key+"]"),g.default.down("endFlowFlag"),i.Observable.of(n).delay(0)):(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+': Message awaits for "end-flow" event and launches',"landbot.messages["+n.key+"]"),i.Observable.of(n).delayWhen(function(){return i.Observable.fromEvent(u.default,"hu-lb-message-flow-end")}))):(c.default.append(m.default.format(new Date,"HH:mm:ss.ff")+": Message awaits for animations timing and launches","landbot.messages["+n.key+"]"),i.Observable.of(n).delay(g.default.animationsDelay)))}),E=i.Observable.fromEvent(u.default,"hu-lb-receiver-ready"),S=i.Observable.fromEvent(u.default,"hu-initial-chat"),O=i.Observable.fromEvent(u.default,"hu-receive-message"),T=function(){return i.Observable.merge(E,S).distinctUntilChanged().pairwise().first()},P=function(){return i.Observable.merge(E,O).distinctUntilChanged().pairwise().first()},N=new o.Subject;t.renderFlags=g.default,t.reception$=_,t.sending$=w,t.messageReception$=k,t.typingState$=b,t.queueMessagesRender$=x,t.queueMessagesRenderSubject$=C,t.receiverReady$=E,t.initialChat$=S,t.newMessage$=O,t.initialChatReceive$=T,t.newMessageReceive$=P,t.inputAnimation$=N},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=i},function(e,t,n){"use strict";var r=n(203);t.from=r.FromObservable.create},function(e,t,n){"use strict";var r=n(1),i=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},function(e,t,n){"use strict";var r=n(37);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}t.isDate=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE_TYPES=t.mapMessagesContent=void 0;var i=n(244),o=r(i),a=n(246),s=r(a),u=n(247),l=r(u),c=n(248),h=r(c),f=n(249),p=r(f),d=n(250),v=r(d),m=n(251),y=r(m),g=n(252),b=r(g),_=n(253),w=r(_),k=n(254),C=r(k);t.mapMessagesContent={audio:y.default,button:o.default,cards:l.default,dialog:l.default,document:y.default,iframe:v.default,image:h.default,location:C.default,menu:l.default,multiple_images:p.default,redirect:b.default,referral:s.default,text:o.default,upper_image:w.default,video:y.default},t.MESSAGE_TYPES=["text","button","referral","dialog","menu","image","multiple_images","iframe","document","video","audio","hidden","redirect","cards","location"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GOOGLE_API_KEY="AIzaSyCjznqz7l3S1OQcQNJDPkG2e8-LWgVFukc"},function(e,t,n){var r=n(266),i=n(18),o=n(40),a=n(68),s=n(110),u=n(109),l=n(275);e.exports=r,e.exports.DateUtils=i,e.exports.LocaleUtils=o,e.exports.ModifiersUtils=a,e.exports.WeekdayPropTypes=s.propTypes,e.exports.NavbarPropTypes=u.propTypes,e.exports.PropTypes=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(10),h=(r(c),n(42)),f=r(h),p=n(41),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleNextClick=function(){r.props.onNextClick&&r.props.onNextClick()},r.handlePreviousClick=function(){r.props.onPreviousClick&&r.props.onPreviousClick()},r.handleNextKeyDown=function(e){e.keyCode!==p.ENTER&&e.keyCode!==p.SPACE||(e.preventDefault(),r.handleNextClick())},r.handlePreviousKeyDown=function(e){e.keyCode!==p.ENTER&&e.keyCode!==p.SPACE||(e.preventDefault(),r.handlePreviousClick())},a=n,o(r,a)}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.className,r=e.showPreviousButton,i=e.showNextButton,o=e.labels,a=e.dir,s=void 0,u=void 0,c=void 0,h=void 0,f=void 0,p=void 0;"rtl"===a?(s=this.handleNextClick,u=this.handlePreviousClick,c=this.handleNextKeyDown,h=this.handlePreviousKeyDown,p=r,f=i):(s=this.handlePreviousClick,u=this.handleNextClick,c=this.handlePreviousKeyDown,h=this.handleNextKeyDown,p=i,f=r);var d=f?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,v=p?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,m=l.default.createElement("span",{tabIndex:"0",role:"button","aria-label":o.previousMonth,key:"previous",className:d,onKeyDown:f?c:void 0,onClick:f?s:void 0}),y=l.default.createElement("span",{tabIndex:"0",role:"button","aria-label":o.nextMonth,key:"right",className:v,onKeyDown:p?h:void 0,onClick:p?u:void 0});return l.default.createElement("div",{className:n||t.navBar},"rtl"===a?[y,m]:[m,y])}}]),t}(u.Component);d.defaultProps={classNames:f.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0},t.default=d,d.propTypes={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(10),h=(r(c),function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){var e=this.props,t=e.weekday,n=e.className,r=e.weekdaysLong,i=e.weekdaysShort,o=e.localeUtils,a=e.locale,s=void 0;s=r?r[t]:o.formatWeekdayLong(t,a);var u=void 0;return u=i?i[t]:o.formatWeekdayShort(t,a),l.default.createElement("div",{className:n,role:"columnheader"},l.default.createElement("abbr",{title:s},u))}}]),t}(u.Component));t.default=h,h.propTypes={}},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=o(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var u=o(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}var i=n(15),o=n(69);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(23),o=n(314),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(e){var t=e.mobile,n=void 0!==t&&t;return(0,r.h)("div",{className:"hu-powered-by hu-a-center"+(n?" hu-mobile-powered-by hu-width-full hu-opacity-0":"")},(0,r.h)("p",{className:"powered-by-text hu-a-center hu-color_button-text hu-s-12"},(0,r.h)("a",{href:i.referralFooterURL,target:"_blank",tabIndex:"-1",className:"hu-background-color_button-background hu-background-color_button-background-light_hover hu-border-color_button-background-dark hu-d-none hu-border-1 hu-border-solid hu-border-radius-3"},(0,r.h)("span",null,"Start using"),(0,r.h)("b",{className:"hu-display-inline-block"},(0,a.default)({height:13})),(0,r.h)("span",null,"for your business"))))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loader=void 0;var i=n(322),o=r(i),a=n(323),s=r(a);t.loader=s.default,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_LOADER="SET_LOADER"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gdpr=void 0;var i=n(324),o=r(i),a=n(325),s=r(a);t.default=o.default,t.gdpr=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SHOW_GDPR="SHOW_GDPR",t.HIDE_GDPR="HIDE_GDPR"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default,a={header_text:{value:o.colors.header_text||o.contrast||"#FFFFFF",rules:[{index:"color_header-text",type:"color",selectors:[".hu-color_header-text"]}],relatives:["header-text-fade-01"]},bot_message_background:{value:o.colors.bot_message_background||o.light||"#FFFFFF",rules:[{index:"background-color_bot-message-background",type:"background-color",selectors:[".hu-background-color_bot-message-background",".hu-message.brand .hu-message-info.visible + .hu-message-content::before"]}]},bot_message_text:{value:o.colors.bot_message_text||o.dark||"#34495E",rules:[{index:"color_bot-message-text",type:"color",selectors:[".hu-color_bot-message-text"]}]},user_message_background:{value:o.colors.user_message_background||o.accent||"#F11952",rules:[{index:"background-color_user-message-background",type:"background-color",selectors:[".hu-background-color_user-message-background"]}]},user_message_text:{value:o.colors.user_message_text||o.light||"#FFFFFF",rules:[{index:"color_user-message-text",type:"color",selectors:[".hu-color_user-message-text"]}]},button_background:{value:o.colors.button_background||o.accent||"#F11952",rules:[{index:"background-color_button-background",type:"background-color",selectors:[".hu-background-color_button-background","#hu-message-input .left-arrow",".open .keyword-switch","#hu-footer-input-mobile .back-button","#hu-footer-input-mobile .powered-by-text a","#hu-footer-input-mobile .keyword-button","#hu-footer-input-mobile .skip-pause-button",".Card-catalogue_content_attribute::before",".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside)",".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover"]},{index:"color_button-background",type:"color",selectors:[".hu-color_button-background",".hu-input-multi_button:hover:not(.active) .button-text"]},{index:"border-color_button-background",type:"border-color",selectors:[".hu-input-multi_button:not(.active) .check-block",".hu-input-multi_button:not(.active) .check-label:after"]}],relatives:["button-background-dark","button-background-darky","button-background-light"]},button_text:{value:o.colors.button_text||o.light||"#FFFFFF",rules:[{index:"color_button-text",type:"color",selectors:[".hu-color_button-text",".hu-input-multi_button.active .button-text","#hu-footer-input-mobile .keyword-button",".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside)"]},{index:"border-color_button-text",type:"border-color",selectors:[".hu-border-color_button-text",".hu-input-multi_button.active .check-block",".hu-input-multi_button.active .check-label:after"]},{index:"fill_button-text",type:"fill",selectors:[".hu-fill_button-text"]}]},textarea_background:{value:o.colors.textarea_background||"#FFFFFF",rules:[{index:"background-color_textarea-background",type:"background-color",selectors:[".hu-background-color_textarea-background"]}],relatives:["textarea-background-fade-02"]},textarea_text:{value:o.colors.textarea_text||"#000000",rules:[{index:"color_textarea-text",type:"color",selectors:[".hu-color_textarea-text",".hu-textarea-heavy .hu-textarea:empty:before, .hu-textarea-light .hu-textarea:empty:before","#hu-footer-input-mobile .hu-textarea:empty:before"]},{index:"color_textarea-text_webkit-placeholder",type:"color",selectors:[".hu-textarea::-webkit-input-placeholder",".hu-placeholder-color_textarea-text::-webkit-input-placeholder"]},{index:"color_textarea-text_webkit-placeholder",type:"color",selectors:[".hu-textarea::-moz-placeholder",".hu-placeholder-color_textarea-text::-moz-placeholder"]},{index:"color_textarea-text_webkit-placeholder",type:"color",selectors:[".hu-textarea::-ms-input-placeholder",".hu-placeholder-color_textarea-text::-ms-input-placeholder"]},{index:"color_textarea-text_webkit-placeholder",type:"color",selectors:[".hu-textarea:-moz-placeholder",".hu-placeholder-color_textarea-text:-moz-placeholder"]}]},textarea_border:{value:o.colors.textarea_border||o.accent||"#F11952",rules:[{index:"color_textarea-border",type:"color",selectors:[".hu-color_textarea-border"]},{index:"border-color_textarea-border",type:"border-color",selectors:[".hu-border-color_textarea-border"]},{index:"fill_textarea-border",type:"fill",selectors:[".hu-fill_textarea-border",".hu-textarea-heavy .send svg, .hu-textarea-light .send svg","#hu-footer-input-mobile .attach svg"]}]},accent:{value:o.accent,rules:[{index:"background-color_accent",type:"background-color",selectors:[".hu-background-color_accent","#hu-bot-progress-bar::after"]},{index:"color-accent",type:"color",selectors:[".hu-color_accent","#hu-footer-input-mobile .hu-input-multi-info","#hu-footer-input-mobile .hu-input-menu-info"]},{index:"border-color_accent",type:"border-color",selectors:[]},{index:"fill_accent",type:"fill",selectors:[".hu-fill_accent"]},{index:"stroke_accent",type:"stroke",selectors:[".hu-stroke_accent"]},{index:"border-bottom_accent",type:"border-bottom",selectors:[]}],relatives:["accent-light","accent-dark","accent-fade-0.1"]},dark:{value:o.dark,rules:[{index:"background-color_dark",type:"background-color",selectors:[]},{index:"color_dark",type:"color",selectors:[".hu-color_dark",".hu-input-multi_button:not(.active) .button-text"]},{index:"border-color_dark",type:"border-color",selectors:[]}]},light:{value:o.light,rules:[{index:"background-color_light",type:"background-color",selectors:[".hu-background-color_light",".sk-folding-cube .sk-cube::before",".hu-input-multi_button:not(.active)"]},{index:"color_light",type:"color",selectors:[".hu-color_light"]},{index:"border-color_light",type:"border-color",selectors:[".hu-border-color_light","#hu-message-input .dual .menu-button:not(.image):last-child:not(:hover)"]},{index:"fill_light",type:"fill",selectors:[".hu-fill_light"]}]},contrast:{value:o.contrast,rules:[{index:"background-color_contrast",type:"background-color",selectors:[".hu-background-color_contrast"]},{index:"color_contrast",type:"color",selectors:[".hu-color_contrast"]},{index:"border-color_contrast",type:"border-color",selectors:[".hu-border-color_contrast"]},{index:"fill_contrast",type:"fill",selectors:[".hu-fill_contrast"]},{index:"stroke_contrast",type:"stroke",selectors:[".hu-stroke_contrast"]}],relatives:["contrast-fade","contrast-fade-0.7"]},header_background:{value:o.header_background,rules:[{index:"background-color_header-background",type:"background-color",selectors:[".hu-background-color_header-background"]}]},avatar_scale:{value:"scale("+o.avatar_scale+")",rules:[{index:"transform_avatar-scale",type:"transform",selectors:[".hu-message-avatar_img"]}]},font:{value:o.font?o.font+",sans-serif":"Montserrat,sans-serif",rules:[{index:"font-family_font",type:"font-family",selectors:["#app-landbot, button, input, textarea"]}]},font_size:{value:o.font_size?o.font_size+"px":"15px",rules:[{index:"font-size_font-size",type:"font-size",selectors:["#app-landbot, button, input, textarea"]}]},background_color:{value:o.background_color,rules:[{index:"background-color_background-color",type:"background-color",selectors:["#hu-background .hu-background-color"]}]},background_gradient:{value:o.gradient_from&&o.gradient_to?"linear-gradient(to bottom, "+o.gradient_from+" 0%, "+o.gradient_to+" 100%)":"linear-gradient(to bottom, #FFAD59 0%, #FFE199 100%)",rules:[{index:"background_background-gradient",type:"background",selectors:["#hu-background .hu-background-gradient"]}]},background_image_url:{value:o.background_image_url?'url("'+o.background_image_url+'")':'url("https://storage.googleapis.com/media.yexir.com/channels_back/31.png")',rules:[{index:"background-image_background-image-url",type:"background-image",selectors:["#hu-background .hu-background-image"]}]},filter_color:{value:o.filter_color,rules:[{index:"background_filter-color",type:"background-color",selectors:["#hu-filter .hu-filter-color"]}]},filter_gradient:{value:o.filter_gradient_from&&o.filter_gradient_to?"linear-gradient(to bottom, "+o.filter_gradient_from+" 0%, "+o.filter_gradient_to+" 100%)":"linear-gradient(to bottom, #FFAD59 0%, #FFE199 100%)",rules:[{index:"background_filter-gradient",type:"background",selectors:["#hu-filter .hu-filter-gradient"]}]},filter_image_url:{value:o.filter_image_url?'url("'+o.filter_image_url+'")':'url("https://storage.googleapis.com/media.yexir.com/channels_back/31.png")',rules:[{index:"background-image_filter-image-url",type:"background-image",selectors:["#hu-filter .hu-filter-image"]}]},"button-background-dark":{tasks:[{filter:"lightenDarkenColor",factor:-.5}],rules:[{index:"border-color_button-background-dark",type:"border-color",selectors:[".hu-border-color_button-background-dark","#hu-message-input .dual .menu-button:last-child:hover"]}]},"button-background-darky":{tasks:[{filter:"lightenDarkenColor",factor:-.2}],rules:[{index:"border-right-color_button-background-darky",type:"border-right-color",selectors:[".hu-border-right-color_button-background-darky",".Scale_item:not(:last-child)"]}]},"button-background-light":{tasks:[{filter:"lightenDarkenColor",factor:.3}],rules:[{index:"background-color_button-background-light",type:"background-color",selectors:[".hu-background-color_button-background-light",".hu-background-color_button-background-light_hover:hover","#hu-message-input .hu-input-box .hu-input-menu .hu-input-menu-buttons .menu-button:hover","#hu-message-input .left-arrow:hover",".hu-input-multi_button.active:hover",".p-menu-button:hover"]}]},"accent-light":{tasks:[{filter:"lightenDarkenColor",factor:.3}],rules:[{index:"background-color_accent-light",type:"background-color",selectors:[".hu-background-color_accent-light",".hu-background-color_accent-light_hover:hover"]}]},"accent-dark":{tasks:[{filter:"lightenDarkenColor",factor:-.5}],rules:[{index:"border-color_accent-dark",type:"border-color",selectors:[".hu-border-color_accent-dark"]}]},"contrast-fade":{tasks:[{filter:"fadeColor",factor:.4}],rules:[{index:"border-color_contrast-fade",type:"border-color",selectors:[".hu-border-color_contrast-fade"]},{index:"background-color_contrast-fade",type:"background-color",selectors:[".hu-background-color_contrast-fade"]}]},"contrast-fade-0.7":{tasks:[{filter:"fadeColor",factor:.7}],rules:[{index:"border-color_contrast-fade-07",type:"border-color",selectors:[".hu-border-color_contrast-fade-07"]}]},"header-text-fade-01":{tasks:[{filter:"fadeColor",factor:.1}],rules:[{index:"background-color_header-text-fade-01",type:"background-color",selectors:[".hu-background-color_header-text-fade-01",".hu-background-color_header-text-fade-01_hover:hover"]}]},"textarea-background-fade-02":{tasks:[{filter:"fadeColor",factor:.4}],rules:[{index:"background-color_textarea-background-fade-02",type:"background-color",selectors:[".hu-background-color_textarea-background-fade-02"]}]}};t.default=a},function(e,t,n){n(120),n(131),n(148),n(152),e.exports=n(153)},function(e,t,n){n(121),e.exports=n(19).Object.values},function(e,t,n){var r=n(44),i=n(125)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){e.exports=!n(30)&&!n(46)(function(){return 7!=Object.defineProperty(n(71)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(21);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(73),i=n(49),o=n(79).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var r=n(47),i=n(49),o=n(127)(!1),a=n(129)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(49),i=n(76),o=n(128);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(77),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(78)("keys"),i=n(48);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r,i,o,a,s=n(132),u=n(6),l=n(31),c=n(80),h=n(44),f=n(21),p=n(32),d=n(133),v=n(134),m=n(138),y=n(82).set,g=n(141)(),b=n(83),_=n(142),w=n(143),k=u.TypeError,C=u.process,x=u.Promise,E="process"==c(C),S=function(){},O=i=b.f,T=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(11)("species")]=function(e){e(S,S)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),P=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&D(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===t.promise?u(k("Promise-chain cycle")):(o=P(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){y.call(u,function(){var t,n,r,i=e._v,o=A(e);if(o&&(t=_(function(){E?C.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||A(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){y.call(u,function(){var t;E?C.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=P(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(j,r,1),l(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};T||(x=function(e){d(this,x,"Promise","_h"),p(e),r.call(this);try{e(l(j,this,1),l(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(144)(x.prototype,{then:function(e,t){var n=O(m(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(j,e,1),this.reject=l(M,e,1)},b.f=O=function(e){return e===x||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!T,{Promise:x}),n(145)(x,"Promise"),n(146)("Promise"),a=n(19).Promise,h(h.S+h.F*!T,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!T),"Promise",{resolve:function(e){return w(s&&this===a?x:this,e)}}),h(h.S+h.F*!(T&&n(147)(function(e){x.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(31),i=n(135),o=n(136),a=n(20),s=n(76),u=n(137),l={},c={},t=e.exports=function(e,t,n,h,f){var p,d,v,m,y=f?function(){return e}:u(e),g=r(n,h,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(d=e[b])[0],d[1]):g(e[b]))===l||m===c)return m}else for(v=y.call(e);!(d=v.next()).done;)if((m=i(v,g,d.value,t))===l||m===c)return m};t.BREAK=l,t.RETURN=c},function(e,t,n){var r=n(20);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(81),i=n(11)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(80),i=n(11)("iterator"),o=n(81);e.exports=n(19).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(20),i=n(32),o=n(11)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(6),i=n(82).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(33)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(20),i=n(21),o=n(83);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(72);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(45).f,i=n(47),o=n(11)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(6),i=n(45),o=n(30),a=n(11)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){var r=n(44);r(r.S+r.F,"Object",{assign:n(149)})},function(e,t,n){"use strict";var r=n(73),i=n(150),o=n(79),a=n(151),s=n(74),u=Object.assign;e.exports=!u||n(46)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,p=s(arguments[l++]),d=c?r(p).concat(c(p)):r(p),v=d.length,m=0;v>m;)h.call(p,f=d[m++])&&(n[f]=p[f]);return n}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(75);e.exports=function(e){return Object(r(e))}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];m.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&y.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=n(2),a=n(22),s=r(a),u=n(326),l=r(u);window.store=s.default;var c=document.getElementById("app-landbot");c||(c=document.createElement("div"),c.id="app-landbot",document.body.appendChild(c)),(0,i.render)((0,i.h)(o.Provider,{store:s.default},(0,i.h)(l.default,null)),c)},function(e,t,n){"use strict";(function(e,r){var i,o=n(156);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(t,n(7),n(155)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=r(a),u=n(159),l=r(u),c=n(172),h=r(c),f=n(173),p=r(f),d=n(174),v=r(d),m=n(24),y=r(m),g=n(52),b=r(g),_=n(179),w=r(_),k=n(180),C=r(k),x=function(){function e(t){i(this,e),this.settings=this.getSettings(t),this.interAppCom=new v.default(name),window.Landbot=this.interAppCom,this.interAppCom.send("landbot-init"),this.fi=new l.default(this.settings),this.umiStorage=new h.default(this.settings.storage_off),this.multiLang=new p.default,y.default.append("Multilanguage support ["+this.multiLang.lang+"]","umicore.multilang"),this.settings.serverUrl=this.settings.serverUrl||"https://app.landbot.io/",this.settings.messageLimit=this.settings.messageLimit||20,this.metaDataInfo=this.getMetadataInfo(),this.provisionalWelcome=null,this.welcomeLaunched=!1,this.agentsInfo={},this.agentsInfo.brand||(this.agentsInfo.brand={name:this.settings.brand_name||"landbot",avatar:this.settings.logo||"https://storage.googleapis.com/media.helloumi.com/brands/helloumi.png"}),this.setupListeners(),this.settings.parentScript&&this.interAppCom.send("landbot-exec-script",this.settings.parentScript),this.ready()}return o(e,[{key:"getSettings",value:function(e){for(var t=e||window.UmiCoreConfig||{},n=["branding"],r={},i=window.location.search.substring(1).split("&"),o=null,a=0;a<i.length;a++)o=i[a].split("="),-1===n.indexOf(o[0])&&(r[o[0]]=b.default.getQueryValue(o[1]));for(var s={},u=window.location!==window.parent.location?(document.referrer.split("?")[1]||"").split("&"):[],l=0;l<u.length;l++)o=u[l].split("="),-1===n.indexOf(o[0])&&(s[o[0]]=b.default.getQueryValue(o[1]));if(t.customData=t.customData||{},t.hidden_fields)for(var c in t.hidden_fields)if(t.hidden_fields.hasOwnProperty(c)){var h=r[c]||s[c]||t.hidden_fields[c].default||null;h&&(t.customData[t.hidden_fields[c].field||c]=h)}return Object.assign(t,s,r)}},{key:"extendSettings",value:function(e){var t=JSON.parse(JSON.stringify(this.settings));this.settings=Object.assign(t,e)}},{key:"setupListeners",value:function(){var e=this;s.default.on("hu-receive-message",function(t){return e.interAppCom.send("landbot-msg-receive",t)}),this.interAppCom.on("landbot-config",function(t){return e.extendSettings(t)}),this.interAppCom.on("landbot-msg-send",function(t){e.querySendMessage(t)}),this.interAppCom.on("landbot-custom-data",function(t){e.settings.customData=Object.assign(e.settings.customData||{},t)}),this.interAppCom.on("landbot-remove-chat",function(){return s.default.emit("hu-remove-chat")}),s.default.on("hu-query-send-message",function(t){return e.querySendMessage(t)}),s.default.on("hu-query-old-messages",function(){return e.getOldMessages()}),s.default.on("hu-query-stored-agents",function(){return e.sendStoredAgents()}),s.default.on("hu-query-get-agent",function(t){return e.fetchAgentData(t)}),s.default.on("hu-receive-last-group-message",function(t){return e.interAppCom.send("landbot-proactive-msg-receive",t)}),s.default.on("hu-receive-last-brand-message",function(t){return e.interAppCom.send("landbot-last-brand-msg-receive",t)})}},{key:"fetchAgentData",value:function(e){var t=this;-1===e||this.agentsInfo[e]||(this.agentsInfo[e]={},this.fi.getAgentData(e).then(function(n){y.default.append(w.default.format(new Date,"HH:mm:ss.ff")+": Agent info received","umicore.agents["+e+"]").append(n,"umicore.agents["+e+"]"),s.default.emit("hu-get-agent",{name:n.name,avatar:n.avatar,samurai:e}),t.agentsInfo[e]={name:n.name,avatar:n.avatar},t.interAppCom.send("landbot-proactive-agents-info",t.agentsInfo)}).catch(function(){delete t.agentsInfo[e]}))}},{key:"sendStoredAgents",value:function(){s.default.emit("hu-get-stored-agents",this.agentsInfo),this.interAppCom.send("landbot-proactive-agents-info",this.agentsInfo),y.default.append(w.default.format(new Date,"HH:mm:ss.ff")+": Got stored agents","umicore.agents.info").append(this.agentsInfo,"umicore.agents.info")}},{key:"getOldMessages",value:function(){var e=this;this.fi.getOldMessages().then(function(t){t=e.parseTimestamp(t),s.default.emit("hu-old-chat",t)}).catch()}},{key:"ready",value:function(){s.default.emit("hu-umicore-ready","hu-umicore-ready")}},{key:"randomId",value:function(){return"H-"+this.settings.brandID+b.default.randomKey(10)}},{key:"getRandomWelcome",value:function(){var e=[{type:"dialog",title:"Hello there!",buttons:["Hi!"],payloads:["Hi!"],samurai:"-1"},{type:"dialog",title:"Howdy!",buttons:["Hello!"],payloads:["Hello!"],samurai:"-1"},{type:"dialog",title:"Welcome!",buttons:["Howdy!"],payloads:["Howdy!"],samurai:"-1"}];return[e[Math.floor(Math.random()*e.length)]]}},{key:"getWelcomeMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.umiStorage.hasOwnProperty("welcomeMessage-"+this.settings.channelToken)&&!t&&!this.settings.test)return y.default.append("Welcome messages obtained from local Storage","umicore.welcome"),JSON.parse(this.umiStorage.getItem("welcomeMessage-"+this.settings.channelToken));var n=this.settings.welcome||[];n=n.length>0?n:this.getRandomWelcome(),y.default.append("Welcome message","umicore.welcome"),y.default.append(n,"umicore.welcome");var r=n;r.hasOwnProperty("messages")&&(r=Object.values(r.messages));var i=Date.now();return 0===r.length?[]:(r.forEach(function(t,n){t.timestamp=n+i,t.key=b.default.randomKey(),t.role=t.role?t.role.concat("welcome"):["welcome"],t.message=C.default.transformVariables(t.message,e.settings.hidden_fields,e.settings.customData),t.title=C.default.transformVariables(t.title,e.settings.hidden_fields,e.settings.customData)}),r)}},{key:"welcomeMessages",value:function(){var e=this;return new Promise(function(t,n){var r=e.getWelcomeMessages();r.forEach(function(e){s.default.emit("hu-receive-message",e)}),e.provisionalWelcome=r,e.welcomeLaunched=!0,t(!0)})}},{key:"storeWelcomeMessage",value:function(){this.umiStorage.removeItem("welcomeMessage-"+this.settings.channelToken),this.umiStorage.setItem("welcomeMessage-"+this.settings.channelToken,JSON.stringify(this.provisionalWelcome)),this.provisionalWelcome=null}},{key:"getRandomRevisit",value:function(){return this.multiLang.getObject("revisit")}},{key:"getRevisitMessages",value:function(){var e=this.settings.revisit||[];e=e.length>0?e:this.getRandomRevisit(),y.default.append(e,"umicore.revisit");var t=e,n=Date.now();return 0===t.length?[]:(t.forEach(function(e,t){e.timestamp=t+n,e.key=b.default.randomKey(),e.role=e.role?e.role.concat("revisit"):["revisit"]}),t)}},{key:"revisitMessages",value:function(){var e=this;return new Promise(function(t,n){e.getRevisitMessages().forEach(function(e){s.default.emit("hu-receive-message",e)}),t(!0)})}},{key:"parseTimestamp",value:function(e){return e.forEach(function(e){e.timestamp*=1e3}),e}},{key:"getAllMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.default.emit("hu-fetching-data"),new Promise(function(n,r){e.fi.getAllMessages(e.settings.messageLimit).then(function(r){if(r=e.parseTimestamp(r),r.length<e.settings.messageLimit&&!e.welcomeLaunched){y.default.append("Messages loaded are less than the limit. Concatenating welcome messages...","umicore.welcome");r=e.getWelcomeMessages().concat(r)}t?s.default.emit("hu-initial-chat",r):r.forEach(function(e){void 0!==e.samurai&&s.default.emit("hu-receive-message",e)}),y.default.append(r,"umicore.messages"),n()}).catch(function(e){y.default.append("Could not load messages from firebase","umicore.messages","error"),r()})})}},{key:"setBackendListeners",value:function(){this.fi.setEventListener("addMessage",this.onMessageReceive.bind(this))}},{key:"onMessageReceive",value:function(e){e=this.parseTimestamp([e]),s.default.emit("hu-receive-message",e[0]),e[0].samurai&&!this.agentsInfo[e[0].samurai]&&this.fetchAgentData(e[0].samurai),null!==this.provisionalWelcome&&this.storeWelcomeMessage()}},{key:"customerIdentify",value:function(){var e=this;return new Promise(function(t,n){e.fi.customerIdentify(e.settings.customerToken).then(function(n){y.default.append("Customer identified ["+e.settings.customerToken+"]","umicore.auth"),e.umiStorage.setItem("umicore-customer-"+e.settings.channelToken,e.settings.customerToken),s.default.emit("hu-customer-identify"),t()}).catch(function(t){y.default.append("Customer could not be identified <"+e.settings.customerToken+">","umicore.auth","error"),e.umiStorage.removeItem("umicore-customer-"+e.settings.channelToken),e.settings.customerToken=null,1===t.code?s.default.emit("hu-error-wrong-entity",t):2===t.code?s.default.emit("hu-error-wrong-customer",t):3===t.code?s.default.emit("hu-error-wrong-channel",t):0===t.code?s.default.emit("hu-error-server-connection",t):-1===t.code&&s.default.emit("hu-error-auth-connection",t),n()})})}},{key:"startConnection",value:function(){var e=this;return this.interAppCom.send("landbot-load"),this.settings.customerToken||(this.settings.customerToken=this.settings.channelToken?this.umiStorage.getItem("umicore-customer-"+this.settings.channelToken):null),this.settings.customerToken?!0!==this.settings.revisit_off?(this.umiStorage.removeItem("umicore-customer-"+this.settings.channelToken),this.umiStorage.setItem("umicore-customer-"+this.settings.channelToken,this.settings.customerToken),this.revisitMessages(),void this.customerIdentify().then(function(){return e.setBackendListeners()}).then(function(){return e.fi.startConnection()})):(this.umiStorage.removeItem("umicore-customer-"+this.settings.channelToken),this.umiStorage.setItem("umicore-customer-"+this.settings.channelToken,this.settings.customerToken),void this.customerIdentify().then(function(){e.getAllMessages(!0).then(function(){return e.setBackendListeners()}).then(function(){return e.fi.startConnection()}).catch(function(){return e.welcomeMessages()})})):void this.welcomeMessages()}},{key:"getMetadataInfo",value:function(){return{navigator:{userAgent:navigator.userAgent,languages:navigator.languages,language:navigator.language||navigator.userLanguage,plugins:navigator.plugins},screen:{colorDepth:screen.colorDepth,size:{height:screen.height,width:screen.width},orientation:{type:screen.orientation?screen.orientation.type:null,angle:screen.orientation?screen.orientation.angle:null},touchdevice:"ontouchstart"in window||navigator.maxTouchPoints},location:{origin:b.default.getOrigin(),timezoneOffset:(new Date).getTimezoneOffset()/60}}}},{key:"checkCustomerToken",value:function(e){var t=this;this.settings.customerToken||s.default.emit("hu-first-auth"),(!this.settings.customerToken||this.settings.customerToken&&e.customer_token!==this.settings.customerToken)&&(this.settings.customerToken=e.customer_token,this.customerIdentify().then(function(){return t.setBackendListeners()}).then(function(){return t.fi.startConnection(!0)}))}},{key:"querySendMessage",value:function(e){var t=this;if("#_continue"===e.payload)return s.default.emit("hu-reset-chat"),void this.getAllMessages(!0);"#init"===e.payload&&(s.default.emit("hu-reset-chat"),e.render=!1),this.getSendingData(e).then(function(e){t.sendMessage({type:e.type,payload:e.payload,message:e.message,extra:e.extra,url:e.url,channel_token:t.settings.channelToken,customer_token:t.settings.customerToken,custom_data:t.settings.customData,key:t.randomId(),origin:b.default.getOrigin(),customer_name:t.settings.customerName})}).catch(function(e){console.log(e,"error sending message"),s.default.emit("hu-error-sending-message",oEvent)}),s.default.emit("hu-sending-message",this.generateMessage(e))}},{key:"getSendingData",value:function(e){var t=this,n=e.type,r=void 0===n?"text":n,i=e.message,o=void 0===i?"":i,a=e.payload,s=void 0===a?"":a,u=e.files,l=e.extra;return new Promise(function(e,n){switch(r){case"text":if(!o)return n();e({type:r,message:o,payload:s,extra:l});break;case"button":if(!o||!s)return n();e({type:r,message:o,payload:s,extra:l});break;case"hidden":if(!s)return n();e({type:r,payload:s});break;case"file":if(!u)return n();t.fetchFileURL(u).then(function(t){e({type:r,url:t,extra:l})});break;default:return n()}})}},{key:"sendMessage",value:function(e){var t=this,n={};for(var r in e)void 0!==e[r]&&(n[r]=e[r]);fetch(this.settings.serverUrl+"webchat/api/send/",{headers:{Accept:"application/json"},method:"POST",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(n){void 0===n.errors?(y.default.append(e,"umicore.send"),t.umiStorage.removeItem("umicore-customer-"+t.settings.channelToken),t.umiStorage.setItem("umicore-customer-"+t.settings.channelToken,n.customer_token),t.checkCustomerToken(n),t.settings.customData={}):(y.default.append(e,"umicore.send","error"),s.default.emit("hu-error-sending-message",n))}).catch(function(e){return s.default.emit("hu-error-sending-message",e)})}},{key:"fetchFileURL",value:function(e){var t=this,n=new FormData;return n.append("channel_token",this.settings.channelToken),this.settings.customerToken&&n.append("customer_token",this.settings.customerToken),n.append("file",e[0]),new Promise(function(e,r){fetch(t.settings.serverUrl+"webchat/api/file/",{headers:{Accept:"application/json"},method:"POST",body:n}).then(function(e){return e.json()}).then(function(t){!0===t.success&&e(t.url)}).catch(function(e){return console.log(e)})})}},{key:"generateMessage",value:function(e){var t=e.type,n=void 0===t?"text":t,r=e.message,i=void 0===r?"":r,o=e.files,a=e.render,s="file"===n?o[0].type.indexOf("image")>-1?"image":"document":"text",u=o?o[0]:void 0;return{type:s,message:i,key:this.randomId(),url:u,render:a}}},{key:"toString",value:function(){return"umicore"}}]),e}();t.default=x},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(160),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);n(166),n(168);var s=n(52),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(){function e(t){r(this,e),this.config=t,this.firebaseApp=a.initializeApp({apiKey:this.config.apiKey,authDomain:this.config.authDomain,databaseURL:this.config.databaseURL,storageBucket:this.config.storageBucket},"landbot-"+this.config.channelToken+"-"+(t.test?"test":u.default.randomKey(4))),this.chatRef=null,this.statusRef=null,this.lastTimestamp=Date.now(),this.firstTimestamp=Date.now(),this.callbacks={}}return i(e,[{key:"customerIdentify",value:function(e){var t=this,n=new FormData;return n.append("channel_token",this.config.channelToken),n.append("customer_token",e),fetch(this.config.serverUrl+"webchat/get_firebase/",{headers:{Accept:"application/json"},method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){var n=e.firebase_token,r="/"+t.config.brandID+"/messages/"+e.customer_id+"/messages",i="/"+t.config.brandID+"/messages/"+e.customer_id+"/presence";return t.lastTimestamp=1e3*e.lastTimestamp||t.lastTimestamp,t.firstTimestamp=1e3*e.lastTimestamp||t.firstTimestamp,t.firebaseApp.auth().signInWithCustomToken(n).then(function(e){return t.chatRef=t.firebaseApp.database().ref(r),t.statusRef=t.firebaseApp.database().ref(i),t.statusRef.set(!0),t.statusRef.onDisconnect().set(!1),e})}).catch(function(e){return console.log(e)})}},{key:"setEventListener",value:function(e,t){this.callbacks[e]=t}},{key:"updateFirstTimestamp",value:function(e){this.firstTimestamp>e&&(this.firstTimestamp=e-.001)}},{key:"startConnection",value:function(e){var t=this,n=null,r=!1,i=this.chatRef.orderByChild("timestamp");i.limitToLast(1).once("value").then(function(o){var a=o.toJSON()?o.toJSON():{timestamp:0};n=Object.values(a)[0].timestamp,n&&!e&&(r=!0,i=i.startAt(n)),i.on("child_added",function(e){!0===r?r=!1:t.onChildAdded(e)})})}},{key:"onChildAdded",value:function(e){var t=e.toJSON();t.key=e.key,this.callbacks.addMessage(t)}},{key:"getAllMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return new Promise(function(n,r){e.chatRef.orderByChild("timestamp").limitToLast(t).once("value").then(function(t){var r=[];t.forEach(function(e){var t=e.toJSON();t.key=e.key,r.push(t)}),r.length>0&&e.updateFirstTimestamp(r[0].timestamp),n(r)}).catch(function(e){return r(e)})})}},{key:"getOldMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return new Promise(function(n,r){e.chatRef.orderByChild("timestamp").endAt(e.firstTimestamp).limitToLast(t).once("value").then(function(t){var r=[];t.forEach(function(e){var t=e.toJSON();t.key=e.key,r.push(t)}),r.length>0&&e.updateFirstTimestamp(r[0].timestamp),n(r)}).catch(function(e){return r(e)})})}},{key:"getAgentData",value:function(e){var t=this;return new Promise(function(n,r){var i=new XMLHttpRequest;i.open("POST",t.config.serverUrl+"webchat/get_agent/"),i.onload=function(e){var t=JSON.parse(e.target.response);if(200!==i.status)return 403===i.status?void r({code:2,msg:t.error}):void r({code:1,msg:t.error});n(t)},i.onerror=function(e){r({code:0,msg:"Server connection error"})},i.send(JSON.stringify({agent_id:e,channel_token:t.config.channelToken}))})}}]),e}();t.default=l},function(e,t,n){"use strict";n(161);var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(51));e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void h(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}function f(e,t){return t={exports:{}},e(t,t.exports),t.exports}var p=n(164),d=(n.n(p),setTimeout);o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var v=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();v.Promise||(v.Promise=o);var m=f(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),y=f(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),g=(y.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),b=function(e){if(!g(e))throw TypeError(e+" is not an object!");return e},_=function(e){try{return!!e()}catch(e){return!0}},w=!_(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),k=m.document,C=g(k)&&g(k.createElement),x=function(e){return C?k.createElement(e):{}},E=!w&&!_(function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a}),S=function(e,t){if(!g(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!g(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,T=w?Object.defineProperty:function(e,t,n){if(b(e),t=S(t,!0),b(n),E)try{return O(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},P={f:T},N=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},I=w?function(e,t,n){return P.f(e,t,N(1,n))}:function(e,t,n){return e[t]=n,e},A={}.hasOwnProperty,D=function(e,t){return A.call(e,t)},M=0,j=Math.random(),R=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++M+j).toString(36))},F=f(function(e){var t=R("src"),n=Function.toString,r=(""+n).split("toString");y.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,i,o){var a="function"==typeof i;a&&(D(i,"name")||I(i,"name",n)),e[n]!==i&&(a&&(D(i,t)||I(i,t,e[n]?""+e[n]:r.join(String(n)))),e===m?e[n]=i:o?e[n]?e[n]=i:I(e,n,i):(delete e[n],I(e,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),L=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},U=function(e,t,n){if(L(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},V=function(e,t,n){var r,i,o,a,s=e&V.F,u=e&V.G,l=e&V.S,c=e&V.P,h=e&V.B,f=u?m:l?m[t]||(m[t]={}):(m[t]||{}).prototype,p=u?y:y[t]||(y[t]={}),d=p.prototype||(p.prototype={});u&&(n=t);for(r in n)i=!s&&f&&void 0!==f[r],o=(i?f:n)[r],a=h&&i?U(o,m):c&&"function"==typeof o?U(Function.call,o):o,f&&F(f,r,o,e&V.U),p[r]!=o&&I(p,r,a),c&&d[r]!=o&&(d[r]=o)};m.core=y,V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;var H=V,B={}.toString,W=function(e){return B.call(e).slice(8,-1)},q=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==W(e)?e.split(""):Object(e)},z=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},G=function(e){return Object(z(e))},K=Math.ceil,Y=Math.floor,$=function(e){return isNaN(e=+e)?0:(e>0?Y:K)(e)},Q=Math.min,X=function(e){return e>0?Q($(e),9007199254740991):0},J=Array.isArray||function(e){return"Array"==W(e)},Z=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),ee=function(e){return Z[e]||(Z[e]={})},te=f(function(e){var t=ee("wks"),n=m.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:R)("Symbol."+e))}).store=t}),ne=te("species"),re=function(e){var t;return J(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!J(t.prototype)||(t=void 0),g(t)&&null===(t=t[ne])&&(t=void 0)),void 0===t?Array:t},ie=function(e,t){return new(re(e))(t)},oe=function(e,t){var n=1==e,r=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,u=t||ie;return function(t,l,c){for(var h,f,p=G(t),d=q(p),v=U(l,c,3),m=X(d.length),y=0,g=n?u(t,m):r?u(t,0):void 0;m>y;y++)if((s||y in d)&&(h=d[y],f=v(h,y,p),e))if(n)g[y]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:g.push(h)}else if(o)return!1;return a?-1:i||o?o:g}},ae=te("unscopables"),se=Array.prototype;void 0==se[ae]&&I(se,ae,{});var ue=function(e){se[ae][e]=!0},le=oe(5),ce=!0;"find"in[]&&Array(1).find(function(){ce=!1}),H(H.P+H.F*ce,"Array",{find:function(e){return le(this,e,arguments.length>1?arguments[1]:void 0)}}),ue("find");var he=(y.Array.find,oe(6)),fe=!0;"findIndex"in[]&&Array(1).findIndex(function(){fe=!1}),H(H.P+H.F*fe,"Array",{findIndex:function(e){return he(this,e,arguments.length>1?arguments[1]:void 0)}}),ue("findIndex");var pe=(y.Array.findIndex,function(e){return q(z(e))}),de=Math.max,ve=Math.min,me=function(e,t){return e=$(e),e<0?de(e+t,0):ve(e,t)},ye=ee("keys"),ge=function(e){return ye[e]||(ye[e]=R(e))},be=function(e){return function(t,n,r){var i,o=pe(t),a=X(o.length),s=me(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),_e=ge("IE_PROTO"),we=function(e,t){var n,r=pe(e),i=0,o=[];for(n in r)n!=_e&&D(r,n)&&o.push(n);for(;t.length>i;)D(r,n=t[i++])&&(~be(o,n)||o.push(n));return o},ke="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ce=Object.keys||function(e){return we(e,ke)},xe=Object.getOwnPropertySymbols,Ee={f:xe},Se={}.propertyIsEnumerable,Oe={f:Se},Te=Object.assign,Pe=!Te||_(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Te({},e)[n]||Object.keys(Te({},t)).join("")!=r})?function(e,t){for(var n=G(e),r=arguments.length,i=1,o=Ee.f,a=Oe.f;r>i;)for(var s,u=q(arguments[i++]),l=o?Ce(u).concat(o(u)):Ce(u),c=l.length,h=0;c>h;)a.call(u,s=l[h++])&&(n[s]=u[s]);return n}:Te;H(H.S+H.F,"Object",{assign:Pe});var Ne=(y.Object.assign,te("match")),Ie=function(e){var t;return g(e)&&(void 0!==(t=e[Ne])?!!t:"RegExp"==W(e))},Ae=function(e,t,n){if(Ie(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(z(e))},De=te("match"),Me="".startsWith;H(H.P+H.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[De]=!1,!"/./"[e](t)}catch(e){}}return!0}("startsWith"),"String",{startsWith:function(e){var t=Ae(this,e,"startsWith"),n=X(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Me?Me.call(t,r,n):t.slice(n,n+r.length)===r}});var je=(y.String.startsWith,function(e){var t=String(z(this)),n="",r=$(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n});H(H.P,"String",{repeat:je});var Re=(y.String.repeat,f(function(e){var t=R("meta"),n=P.f,r=0,i=Object.isExtensible||function(){return!0},o=!_(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=function(e,n){if(!g(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!D(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},u=function(e,n){if(!D(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},l=function(e){return o&&c.NEED&&i(e)&&!D(e,t)&&a(e),e},c=e.exports={KEY:t,NEED:!1,fastKey:s,getWeak:u,onFreeze:l}})),Fe=(Re.KEY,Re.NEED,Re.fastKey,Re.getWeak,Re.onFreeze,P.f),Le=te("toStringTag"),Ue=function(e,t,n){e&&!D(e=n?e:e.prototype,Le)&&Fe(e,Le,{configurable:!0,value:t})},Ve=te,He={f:Ve},Be=P.f,We=function(e){var t=y.Symbol||(y.Symbol=m.Symbol||{});"_"==e.charAt(0)||e in t||Be(t,e,{value:He.f(e)})},qe=function(e){var t=Ce(e),n=Ee.f;if(n)for(var r,i=n(e),o=Oe.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t},ze=w?Object.defineProperties:function(e,t){b(e);for(var n,r=Ce(t),i=r.length,o=0;i>o;)P.f(e,n=r[o++],t[n]);return e},Ge=m.document,Ke=Ge&&Ge.documentElement,Ye=ge("IE_PROTO"),$e=function(){},Qe=function(){var e,t=x("iframe"),n=ke.length;for(t.style.display="none",Ke.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),Qe=e.F;n--;)delete Qe.prototype[ke[n]];return Qe()},Xe=Object.create||function(e,t){var n;return null!==e?($e.prototype=b(e),n=new $e,$e.prototype=null,n[Ye]=e):n=Qe(),void 0===t?n:ze(n,t)},Je=ke.concat("length","prototype"),Ze=Object.getOwnPropertyNames||function(e){return we(e,Je)},et={f:Ze},tt=et.f,nt={}.toString,rt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],it=function(e){try{return tt(e)}catch(e){return rt.slice()}},ot=function(e){return rt&&"[object Window]"==nt.call(e)?it(e):tt(pe(e))},at={f:ot},st=Object.getOwnPropertyDescriptor,ut=w?st:function(e,t){if(e=pe(e),t=S(t,!0),E)try{return st(e,t)}catch(e){}if(D(e,t))return N(!Oe.f.call(e,t),e[t])},lt={f:ut},ct=Re.KEY,ht=lt.f,ft=P.f,pt=at.f,dt=m.Symbol,vt=m.JSON,mt=vt&&vt.stringify,yt=te("_hidden"),gt=te("toPrimitive"),bt={}.propertyIsEnumerable,_t=ee("symbol-registry"),wt=ee("symbols"),kt=ee("op-symbols"),Ct=Object.prototype,xt="function"==typeof dt,Et=m.QObject,St=!Et||!Et.prototype||!Et.prototype.findChild,Ot=w&&_(function(){return 7!=Xe(ft({},"a",{get:function(){return ft(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=ht(Ct,t);r&&delete Ct[t],ft(e,t,n),r&&e!==Ct&&ft(Ct,t,r)}:ft,Tt=function(e){var t=wt[e]=Xe(dt.prototype);return t._k=e,t},Pt=xt&&"symbol"==typeof dt.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof dt},Nt=function(e,t,n){return e===Ct&&Nt(kt,t,n),b(e),t=S(t,!0),b(n),D(wt,t)?(n.enumerable?(D(e,yt)&&e[yt][t]&&(e[yt][t]=!1),n=Xe(n,{enumerable:N(0,!1)})):(D(e,yt)||ft(e,yt,N(1,{})),e[yt][t]=!0),Ot(e,t,n)):ft(e,t,n)},It=function(e,t){b(e);for(var n,r=qe(t=pe(t)),i=0,o=r.length;o>i;)Nt(e,n=r[i++],t[n]);return e},At=function(e,t){return void 0===t?Xe(e):It(Xe(e),t)},Dt=function(e){var t=bt.call(this,e=S(e,!0));return!(this===Ct&&D(wt,e)&&!D(kt,e))&&(!(t||!D(this,e)||!D(wt,e)||D(this,yt)&&this[yt][e])||t)},Mt=function(e,t){if(e=pe(e),t=S(t,!0),e!==Ct||!D(wt,t)||D(kt,t)){var n=ht(e,t);return!n||!D(wt,t)||D(e,yt)&&e[yt][t]||(n.enumerable=!0),n}},jt=function(e){for(var t,n=pt(pe(e)),r=[],i=0;n.length>i;)D(wt,t=n[i++])||t==yt||t==ct||r.push(t);return r},Rt=function(e){for(var t,n=e===Ct,r=pt(n?kt:pe(e)),i=[],o=0;r.length>o;)!D(wt,t=r[o++])||n&&!D(Ct,t)||i.push(wt[t]);return i};xt||(dt=function(){if(this instanceof dt)throw TypeError("Symbol is not a constructor!");var e=R(arguments.length>0?arguments[0]:void 0),t=function(n){this===Ct&&t.call(kt,n),D(this,yt)&&D(this[yt],e)&&(this[yt][e]=!1),Ot(this,e,N(1,n))};return w&&St&&Ot(Ct,e,{configurable:!0,set:t}),Tt(e)},F(dt.prototype,"toString",function(){return this._k}),lt.f=Mt,P.f=Nt,et.f=at.f=jt,Oe.f=Dt,Ee.f=Rt,w&&F(Ct,"propertyIsEnumerable",Dt,!0),He.f=function(e){return Tt(te(e))}),H(H.G+H.W+H.F*!xt,{Symbol:dt});for(var Ft="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Lt=0;Ft.length>Lt;)te(Ft[Lt++]);for(var Ut=Ce(te.store),Vt=0;Ut.length>Vt;)We(Ut[Vt++]);H(H.S+H.F*!xt,"Symbol",{for:function(e){return D(_t,e+="")?_t[e]:_t[e]=dt(e)},keyFor:function(e){if(!Pt(e))throw TypeError(e+" is not a symbol!");for(var t in _t)if(_t[t]===e)return t},useSetter:function(){St=!0},useSimple:function(){St=!1}}),H(H.S+H.F*!xt,"Object",{create:At,defineProperty:Nt,defineProperties:It,getOwnPropertyDescriptor:Mt,getOwnPropertyNames:jt,getOwnPropertySymbols:Rt}),vt&&H(H.S+H.F*(!xt||_(function(){var e=dt();return"[null]"!=mt([e])||"{}"!=mt({a:e})||"{}"!=mt(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(g(t)||void 0!==e)&&!Pt(e))return J(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Pt(t))return t}),r[1]=t,mt.apply(vt,r)}}),dt.prototype[gt]||I(dt.prototype,gt,dt.prototype.valueOf),Ue(dt,"Symbol"),Ue(Math,"Math",!0),Ue(m.JSON,"JSON",!0);var Ht=te("toStringTag"),Bt="Arguments"==W(function(){return arguments}()),Wt=function(e,t){try{return e[t]}catch(e){}},qt=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=Wt(t=Object(e),Ht))?n:Bt?W(t):"Object"==(r=W(t))&&"function"==typeof t.callee?"Arguments":r},zt={};zt[te("toStringTag")]="z",zt+""!="[object z]"&&F(Object.prototype,"toString",function(){return"[object "+qt(this)+"]"},!0),We("asyncIterator"),We("observable");var Gt=(y.Symbol,{}),Kt={};I(Kt,te("iterator"),function(){return this});var Yt=function(e,t,n){e.prototype=Xe(Kt,{next:N(1,n)}),Ue(e,t+" Iterator")},$t=ge("IE_PROTO"),Qt=Object.prototype,Xt=Object.getPrototypeOf||function(e){return e=G(e),D(e,$t)?e[$t]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qt:null},Jt=te("iterator"),Zt=!([].keys&&"next"in[].keys()),en=function(){return this},tn=function(e,t,n,r,i,o,a){Yt(n,t,r);var s,u,l,c=function(e){if(!Zt&&e in d)return d[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},h=t+" Iterator",f="values"==i,p=!1,d=e.prototype,v=d[Jt]||d["@@iterator"]||i&&d[i],m=v||c(i),y=i?f?c("entries"):m:void 0,g="Array"==t?d.entries||v:v;if(g&&(l=Xt(g.call(new e)))!==Object.prototype&&l.next&&(Ue(l,h,!0),"function"!=typeof l[Jt]&&I(l,Jt,en)),f&&v&&"values"!==v.name&&(p=!0,m=function(){return v.call(this)}),(Zt||p||!d[Jt])&&I(d,Jt,m),Gt[t]=m,Gt[h]=en,i)if(s={values:f?m:c("values"),keys:o?m:c("keys"),entries:y},a)for(u in s)u in d||F(d,u,s[u]);else H(H.P+H.F*(Zt||p),t,s);return s},nn=function(e){return function(t,n){var r,i,o=String(z(t)),a=$(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);tn(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=nn(t,n),this._i+=e.length,{value:e,done:!1})});var rn=function(e,t){return{value:t,done:!!e}},on=tn(Array,"Array",function(e,t){this._t=pe(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,rn(1)):"keys"==t?rn(0,n):"values"==t?rn(0,e[n]):rn(0,[n,e[n]])},"values");Gt.Arguments=Gt.Array,ue("keys"),ue("values"),ue("entries");for(var an=te("iterator"),sn=te("toStringTag"),un=Gt.Array,ln={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},cn=Ce(ln),hn=0;hn<cn.length;hn++){var fn,pn=cn[hn],dn=ln[pn],vn=m[pn],mn=vn&&vn.prototype;if(mn&&(mn[an]||I(mn,an,un),mn[sn]||I(mn,sn,pn),Gt[pn]=un,dn))for(fn in on)mn[fn]||F(mn,fn,on[fn],!0)}He.f("iterator")}.call(t,n(162).setImmediate,n(7))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(163),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(7),n(50))},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];m.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&y.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function c(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function v(e,t,n){function r(e){c[e]&&(l[e]=function(t){return new Promise(function(n,r){h.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(c[e](t))}catch(e){u(h[0][3],e)}}function o(e){e.value instanceof d?Promise.resolve(e.value.v).then(a,s):u(h[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(e,t||[]),h=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l}function m(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:d(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof h?h(e):e[Symbol.iterator]()}function g(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return k}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=l,t.__exportStar=c,t.__values=h,t.__read=f,t.__spread=p,t.__await=d,t.__asyncGenerator=v,t.__asyncDelegator=m,t.__asyncValues=y,t.__makeTemplateObject=g,t.__importStar=b,t.__importDefault=_;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(167)},function(e,t,n){"use strict";(function(e){var t=n(51),r=n.n(t);(function(){function e(e){return"string"==typeof e}function t(e){return"boolean"==typeof e}function n(){}function i(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function o(e){return null===e}function a(e){return"array"==i(e)}function s(e){var t=i(e);return"array"==t||"object"==t&&"number"==typeof e.length}function u(e){return"function"==i(e)}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.lb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.cd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function v(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function m(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function y(e){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function g(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");y.call(this,n+e[r])}function b(e,t){throw new g("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function _(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function w(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function k(){this.b=this.a=null}function C(){var e=Yu,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function x(){this.next=this.b=this.a=null}function E(t,n){var r=t.length,i=e(t)?t.split(""):t;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,t)}function S(t){e:{for(var n=zr,r=t.length,i=e(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,t)){n=o;break e}n=-1}return 0>n?null:e(t)?t.charAt(n):t[n]}function O(e,t){return 0<=Nu(e,t)}function T(e,t){t=Nu(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function P(e,t){var n=0;E(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function N(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function D(e){return Hu.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(ju,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Ru,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Fu,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Lu,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Uu,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Vu,"&#0;")),e):e}function M(e,t){return-1!=e.indexOf(t)}function j(e,t){return e<t?-1:e>t?1:0}function R(e){return M(Pu,e)}function F(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function L(e){for(var t in e)return!1;return!0}function U(e){var t,n={};for(t in e)n[t]=e[t];return n}function V(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Gu.length;o++)n=Gu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function H(e){xu.setTimeout(function(){throw e},0)}function B(){var e=xu.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!R("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=f(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!R("Trident")&&!R("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.tb;n.tb=null,e()}},function(e){r.next={tb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){xu.setTimeout(e,0)}}function W(e,t){zu||q(),Ku||(zu(),Ku=!0),Yu.add(e,t)}function q(){if(xu.Promise&&xu.Promise.resolve){var e=xu.Promise.resolve(void 0);zu=function(){e.then(z)}}else zu=function(){var e=z;!u(xu.setImmediate)||xu.Window&&xu.Window.prototype&&!R("Edge")&&xu.Window.prototype.setImmediate==xu.setImmediate?(qu||(qu=B()),qu(e)):xu.setImmediate(e)}}function z(){for(var e;e=C();){try{e.a.call(e.b)}catch(e){H(e)}w(Tu,e)}Ku=!1}function G(e,t){if(this.a=$u,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=n)try{var r=this;e.call(t,function(e){re(r,Qu,e)},function(e){if(!(e instanceof he))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}re(r,Xu,e)})}catch(e){re(this,Xu,e)}}function K(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Y(e,t,n){var r=Ju.get();return r.g=e,r.b=t,r.f=n,r}function $(e){if(e instanceof G)return e;var t=new G(n);return re(t,Qu,e),t}function Q(e){return new G(function(t,n){n(e)})}function X(e,t,n){ie(e,t,n,null)||W(p(t,e))}function J(e){return new G(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],X(o,p(a,u),s);else t(i)})}function Z(e){return new G(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],X(i,p(o,a,!0),p(o,a,!1));else t(r)})}function ee(e,t){if(e.a==$u)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==$u&&1==r?ee(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):se(n),ue(n,i,Xu,t)))}e.c=null}else re(e,Xu,t)}function te(e,t){e.b||e.a!=Qu&&e.a!=Xu||ae(e),e.f?e.f.next=t:e.b=t,e.f=t}function ne(e,t,n,r){var i=Y(null,null,null);return i.a=new G(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof he?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,te(e,i),i.a}function re(e,t,n){e.a==$u&&(e===n&&(t=Xu,n=new TypeError("Promise cannot resolve to itself")),e.a=1,ie(n,e.Lc,e.Mc,e)||(e.i=n,e.a=t,e.c=null,ae(e),t!=Xu||n instanceof he||ce(e,n)))}function ie(e,t,r,i){if(e instanceof G)return te(e,Y(t||n,r||null,i)),!0;if(m(e))return e.then(t,r,i),!0;if(l(e))try{var o=e.then;if(u(o))return oe(e,o,t,r,i),!0}catch(e){return r.call(i,e),!0}return!1}function oe(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function ae(e){e.h||(e.h=!0,W(e.Ub,e))}function se(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function ue(e,t,n,r){if(n==Xu&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,le(t,n,r);else try{t.c?t.g.call(t.f):le(t,n,r)}catch(e){Zu.call(null,e)}w(Ju,t)}function le(e,t,n){t==Qu?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function ce(e,t){e.g=!0,W(function(){e.g&&Zu.call(null,t)})}function he(e){y.call(this,e)}function fe(){0!=el&&(tl[this[Eu]||(this[Eu]=++Su)]=this),this.pa=this.pa,this.ja=this.ja}function pe(e){if(!e.pa&&(e.pa=!0,e.ua(),0!=el)){var t=e[Eu]||(e[Eu]=++Su);if(0!=el&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tl[t]}}function de(e){return de[" "](e),e}function ve(e,t){var n=pl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function me(){var e=xu.document;return e?e.documentMode:void 0}function ye(e){return ve(e,function(){for(var t=0,n=Mu(String(nl)).split("."),r=Mu(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=j(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||j(0==a[2].length,0==s[2].length)||j(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function ge(e,t){this.type=e,this.b=this.target=t,this.Gb=!0}function be(t,n){if(ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var r=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=n,n=t.relatedTarget){if(sl){e:{try{de(n.nodeName);var o=!0;break e}catch(e){}o=!1}o||(n=null)}}else"mouseover"==r?n=t.fromElement:"mouseout"==r&&(n=t.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=e(t.pointerType)?t.pointerType:bl[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}function _e(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++wl,this.na=this.Ia=!1}function we(e){e.na=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function ke(e){this.src=e,this.a={},this.b=0}function Ce(e,t){var n=t.type;n in e.a&&T(e.a[n],t)&&(we(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function xe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.na&&o.listener==t&&o.capture==!!n&&o.La==r)return i}return-1}function Ee(e,t,n,r,i){if(r&&r.once)Te(e,t,n,r,i);else if(a(t))for(var o=0;o<t.length;o++)Ee(e,t[o],n,r,i);else n=Re(n),e&&e[_l]?Le(e,t,n,l(r)?!!r.capture:!!r,i):Se(e,t,n,!1,r,i)}function Se(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i,s=je(e);if(s||(e[kl]=s=new ke(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=Oe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}xl++}}function Oe(){var e=Me,t=ml?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function Te(e,t,n,r,i){if(a(t))for(var o=0;o<t.length;o++)Te(e,t[o],n,r,i);else n=Re(n),e&&e[_l]?Ue(e,t,n,l(r)?!!r.capture:!!r,i):Se(e,t,n,!0,r,i)}function Pe(e,t,n,r,i){if(a(t))for(var o=0;o<t.length;o++)Pe(e,t[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=Re(n),e&&e[_l]?(e=e.m,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=xe(o,n,r,i))&&(we(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=je(e))&&(t=e.a[t.toString()],e=-1,t&&(e=xe(t,n,r,i)),(n=-1<e?t[e]:null)&&Ne(n))}function Ne(e){if("number"!=typeof e&&e&&!e.na){var t=e.src;if(t&&t[_l])Ce(t.m,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),xl--,(n=je(t))?(Ce(n,e),0==n.b&&(n.src=null,t[kl]=null)):we(e)}}}function Ie(e){return e in Cl?Cl[e]:Cl[e]="on"+e}function Ae(e,t,n,r){var i=!0;if((e=je(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.na&&(o=De(o,r),i=i&&!1!==o)}return i}function De(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&Ne(e),n.call(r,t)}function Me(e,t){if(e.na)return!0;if(!ml){if(!t)e:{t=["window","event"];for(var n=xu,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(r=t,t=new be(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Ae(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Ae(r[i],e,!1,t),n=n&&o}return n}return De(e,new be(t,this))}function je(e){return e=e[kl],e instanceof ke?e:null}function Re(e){return u(e)?e:(e[El]||(e[El]=function(t){return e.handleEvent(t)}),e[El])}function Fe(){fe.call(this),this.m=new ke(this),this.Nb=this,this.Ua=null}function Le(e,t,n,r,i){e.m.add(String(t),n,!1,r,i)}function Ue(e,t,n,r,i){e.m.add(String(t),n,!0,r,i)}function Ve(e,t,n,r){if(!(t=e.m.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Ce(e.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Gb}function He(e,t,n){if(u(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:xu.setTimeout(e,t||0)}function Be(e){var t=null;return new G(function(n,r){-1==(t=He(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw xu.clearTimeout(t),e})}function We(t){if(t.S&&"function"==typeof t.S)return t.S();if(e(t))return t.split("");if(s(t)){for(var n=[],r=t.length,i=0;i<r;i++)n.push(t[i]);return n}n=[],r=0;for(i in t)n[r++]=t[i];return n}function qe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(s(t)||e(t)){var n=[];t=t.length;for(var r=0;r<t;r++)n.push(r);return n}n=[],r=0;for(var i in t)n[r++]=i;return n}}function ze(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(s(t)||e(t))Iu(t,n,void 0);else for(var r=qe(t),i=We(t),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],t)}function Ge(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ge)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ke(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ye(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Ye(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qe(e,t){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof Qe){this.f=void 0!==t?t:e.f,Xe(this,e.c),this.m=e.m,this.b=e.b,Je(this,e.i),this.g=e.g,t=e.a;var n=new st;n.c=t.c,t.a&&(n.a=new Ge(t.a),n.b=t.b),Ze(this,n),this.h=e.h}else e&&(n=String(e).match(Sl))?(this.f=!!t,Xe(this,n[1]||"",!0),this.m=it(n[2]||""),this.b=it(n[3]||"",!0),Je(this,n[4]),this.g=it(n[5]||"",!0),Ze(this,n[6]||"",!0),this.h=it(n[7]||"")):(this.f=!!t,this.a=new st(null,this.f))}function Xe(e,t,n){e.c=n?it(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Je(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ze(e,t,n){t instanceof st?(e.a=t,dt(e.a,e.f)):(n||(t=ot(t,Nl)),e.a=new st(t,e.f))}function et(e,t,n){e.a.set(t,n)}function tt(e,t){return e.a.get(t)}function nt(e){return e instanceof Qe?new Qe(e):new Qe(e,void 0)}function rt(e,t){var n=new Qe(null,void 0);return Xe(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(t,n,r){return e(t)?(t=encodeURI(t).replace(n,at),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function at(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function st(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ut(e){e.a||(e.a=new Ge,e.b=0,e.c&&$e(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function lt(e){var t=qe(e);if(void 0===t)throw Error("Keys are undefined");var n=new st(null,void 0);e=We(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];a(o)?ft(n,i,o):n.add(i,o)}return n}function ct(e,t){ut(e),t=pt(e,t),Ye(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ye(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ke(e)))}function ht(e,t){return ut(e),t=pt(e,t),Ye(e.a.b,t)}function ft(e,t,n){ct(e,t),0<n.length&&(e.c=null,e.a.set(pt(e,t),I(n)),e.b+=n.length)}function pt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function dt(e,t){t&&!e.f&&(ut(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ct(this,t),ft(this,n,e))},e)),e.f=t}function vt(){this.a="",this.b=Dl}function mt(e){return e instanceof vt&&e.constructor===vt&&e.b===Dl?e.a:(b("expected object of type Const, got '"+e+"'"),"type_error:Const")}function yt(e){var t=new vt;return t.a=e,t}function gt(){this.a="",this.b=Rl}function bt(e){return e instanceof gt&&e.constructor===gt&&e.b===Rl?e.a:(b("expected object of type TrustedResourceUrl, got '"+e+"' of type "+i(e)),"type_error:TrustedResourceUrl")}function _t(e,t){var n=mt(e);if(!jl.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ml,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof vt?mt(e):encodeURIComponent(String(e))}),wt(e)}function wt(e){var t=new gt;return t.a=e,t}function kt(){this.a="",this.b=Ll}function Ct(e){return e instanceof kt&&e.constructor===kt&&e.b===Ll?e.a:(b("expected object of type SafeUrl, got '"+e+"' of type "+i(e)),"type_error:SafeUrl")}function xt(e){return e instanceof kt?e:(e=e.ma?e.la():String(e),Fl.test(e)||(e="about:invalid#zClosurez"),Et(e))}function Et(e){var t=new kt;return t.a=e,t}function St(){this.a="",this.b=Ul}function Ot(e){return e instanceof St&&e.constructor===St&&e.b===Ul?e.a:(b("expected object of type SafeHtml, got '"+e+"' of type "+i(e)),"type_error:SafeHtml")}function Tt(e){var t=new St;return t.a=e,t}function Pt(t){var n=document;return e(t)?n.getElementById(t):t}function Nt(e,t){F(t,function(t,n){t&&t.ma&&(t=t.la()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Vl.hasOwnProperty(n)?e.setAttribute(Vl[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function It(t,n,r){var i=arguments,o=document,s=String(i[0]),u=i[1];if(!Al&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',D(u.name),'"'),u.type){s.push(' type="',D(u.type),'"');var l={};V(l,u),delete l.type,u=l}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(e(u)?s.className=u:a(u)?s.className=u.join(" "):Nt(s,u)),2<i.length&&At(o,s,i),s}function At(t,n,r){function i(r){r&&n.appendChild(e(r)?t.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||l(a)&&0<a.nodeType?i(a):Iu(Dt(a)?I(a):a,i)}}function Dt(e){if(e&&"number"==typeof e.length){if(l(e))return"function"==typeof e.item||"string"==typeof e.item;if(u(e))return"function"==typeof e.item}return!1}function Mt(e){var t=[];return Rt(new jt,e,t),t.join("")}function jt(){}function Rt(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(a(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Rt(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),i="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),Ft(r,n),n.push(":"),Rt(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ft(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Ft(e,t){t.push('"',e.replace(Bl,function(e){var t=Hl[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Hl[e]=t),t}),'"')}function Lt(){var e=rn();return il&&!!fl&&11==fl||/Edge\/\d+/.test(e)}function Ut(){return xu.window&&xu.window.location.href||self&&self.location&&self.location.href||""}function Vt(e,t){t=t||xu.window;var n="about:blank";e&&(n=Ct(xt(e))),t.location.href=n}function Ht(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Ht(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Bt(){var e=rn();return!((e=tn(e)!=zl?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!il||!fl||9<fl)}function Wt(e){return e=(e||rn()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function qt(e){e=e||xu.window;try{e.close()}catch(e){}}function zt(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=rn().toLowerCase(),r&&(t.target=r,M(n,"crios/")&&(t.target="_blank")),tn(rn())==ql&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof kt?n:xt(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((R("iPhone")&&!R("iPod")&&!R("iPad")||R("iPad")||R("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),t instanceof kt||t instanceof kt||(t=t.ma?t.la():String(t),Fl.test(t)||(t="about:invalid#zClosurez"),t=Et(t)),a.href=Ct(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Ct(t),a&&(al&&M(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,yt("b/12014412, meta tag with sanitized URL"),e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+D(e)+'">',e=Tt(e),a.document.write(Ot(e)),a.document.close())):(a=r.open(Ct(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function Gt(e){return new G(function(t){function n(){Be(2e3).then(function(){if(e&&!e.closed)return n();t()})}return n()})}function Kt(){var e=null;return new G(function(t){"complete"==xu.document.readyState?t():(e=function(){t()},Te(window,"load",e))}).s(function(t){throw Pe(window,"load",e),t})}function Yt(){return $t(void 0)?Kt().then(function(){return new G(function(e,t){var n=xu.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Q(Error("Cordova must run in an Android or iOS file scheme."))}function $t(e){return e=e||rn(),!("file:"!==ln()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){var e=xu.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Xt(){return"object"!=typeof xu.window&&"function"==typeof xu.importScripts}function Jt(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Xt()?"Worker":"Browser"}function Zt(){var e=Jt();return"ReactNative"===e||"Node"===e}function en(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function tn(e){var t=e.toLowerCase();return M(t,"opera/")||M(t,"opr/")||M(t,"opios/")?"Opera":M(t,"iemobile")?"IEMobile":M(t,"msie")||M(t,"trident/")?"IE":M(t,"edge/")?"Edge":M(t,"firefox/")?ql:M(t,"silk/")?"Silk":M(t,"blackberry")?"Blackberry":M(t,"webos")?"Webos":!M(t,"safari/")||M(t,"chrome/")||M(t,"crios/")||M(t,"android")?!M(t,"chrome/")&&!M(t,"crios/")||M(t,"edge/")?M(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":zl:"Safari"}function nn(e,t){t=t||[];var n,r=[],i={};for(n in Gl)i[Gl[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=Jt(),"Browser"===r?(i=rn(),r=tn(i)):"Worker"===r&&(i=rn(),r=tn(i)+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function rn(){return xu.navigator&&xu.navigator.userAgent||""}function on(e,t){e=e.split("."),t=t||xu;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function an(){try{var e=xu.localStorage,t=dn();if(e)return e.setItem(t,"1"),e.removeItem(t),!Lt()||!!xu.indexedDB}catch(e){return Xt()&&!!xu.indexedDB}return!1}function sn(){return(un()||"chrome-extension:"===ln()||$t())&&!Zt()&&an()&&!Xt()}function un(){return"http:"===ln()||"https:"===ln()}function ln(){return xu.location&&xu.location.protocol||null}function cn(e){return e=e||rn(),!Wt(e)&&tn(e)!=ql}function hn(e){return void 0===e?null:Mt(e)}function fn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function pn(e){if(null!==e)return JSON.parse(e)}function dn(e){return e||Math.floor(1e9*Math.random()).toString()}function vn(e){return e=e||rn(),"Safari"!=tn(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function mn(){var e=xu.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function yn(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=rn(),t=Jt(),this.b=Wt(e)||"ReactNative"===t}function gn(){var e=xu.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function bn(){var e=xu.document,t=null;return gn()||!e?$():new G(function(n){t=function(){gn()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function _n(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function wn(){return!(!on("fireauth.oauthhelper",xu)&&!on("fireauth.iframe",xu))}function kn(e){Yl[e]||(Yl[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}function Cn(e,t,n){Kl?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function xn(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Cn(e,n,t[n])}function En(e){var t={};return xn(t,e),t}function Sn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function On(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Tn(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)Cn(t,n,Tn(e[n]))}return t}function Pn(e){var t={},n=e[Xl],r=e[Jl];if(!(e=e[Zl])||e!=Ql&&!n)throw Error("Invalid provider user info!");t[tc]=r||null,t[ec]=n||null,Cn(this,rc,e),Cn(this,nc,Tn(t))}function Nn(e,t){this.code=ic+e,this.message=t||oc[e]||""}function In(e){var t=e&&e.code;return t?new Nn(t.substring(ic.length),e.message):null}function An(e){var t=e[lc];if(void 0===t)throw new Nn("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Nn("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ac];if(n&&"object"==typeof n){t=n[fc];var r=n[cc];if(n=n[hc],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Nn("argument-error",cc+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Nn("argument-error",hc+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Nn("argument-error",fc+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Nn("missing-android-pkg-name")}}else if(void 0!==n)throw new Nn("argument-error",ac+" property must be a non null object when specified.");if(this.f=null,(t=e[uc])&&"object"==typeof t){if("string"==typeof(t=t[pc])&&t.length)this.f=t;else if(void 0!==t)throw new Nn("argument-error",pc+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Nn("argument-error",uc+" property must be a non null object when specified.");if(void 0!==(e=e[sc])&&"boolean"!=typeof e)throw new Nn("argument-error",sc+" property must be a boolean when specified.");this.c=!!e}function Dn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f;for(var n in t)null===t[n]&&delete t[n];return t}function Mn(e){return Au(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function jn(e){var t="";return Rn(e,function(e){t+=String.fromCharCode(e)}),t}function Rn(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=vc[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Fn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Fn(){if(!dc){dc={},vc={};for(var e=0;65>e;e++)dc[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),vc[dc[e]]=e,62<=e&&(vc["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Ln(e){this.c=e.sub,Ou(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Un(e){return(e=Vn(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ln(e):null}function Vn(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(jn(e))}catch(e){}return null}function Hn(e){for(var t in gc)if(gc[t].Na==e)return gc[t];return null}function Bn(e){var t={};t["facebook.com"]=zn,t["google.com"]=Kn,t["github.com"]=Gn,t["twitter.com"]=Yn;var n=e&&e[_c];try{if(n)return t[n]?new t[n](e):new qn(e);if(void 0!==e[bc])return new Wn(e)}catch(e){}return null}function Wn(e){var t=e[_c];if(!t&&e[bc]){var n=Un(e[bc]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Cn(this,"providerId",t),Cn(this,"isNewUser",n)}function qn(e){Wn.call(this,e),e=pn(e.rawUserInfo||"{}"),Cn(this,"profile",Tn(e||{}))}function zn(e){if(qn.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gn(e){if(qn.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Cn(this,"username",this.profile&&this.profile.login||null)}function Kn(e){if(qn.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yn(e){if(qn.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Cn(this,"username",e.screenName||null)}function $n(e){this.a=nt(e)}function Qn(e){var t=nt(e),n=tt(t,"link"),r=tt(nt(n),"link");return t=tt(t,"deep_link_id"),tt(nt(t),"link")||t||r||n||e}function Xn(e,t){return e.then(function(e){if(e[Uc]){var n=Un(e[Uc]);if(!n||t!=n.c)throw new Nn("user-mismatch");return e}throw new Nn("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==ic+"user-not-found"?new Nn("user-mismatch"):e})}function Jn(e,t,n){if(t.idToken||t.accessToken)t.idToken&&Cn(this,"idToken",t.idToken),t.accessToken&&Cn(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Nn("internal-error","failed to construct a credential");Cn(this,"accessToken",t.oauthToken),Cn(this,"secret",t.oauthTokenSecret)}Cn(this,"providerId",e),Cn(this,"signInMethod",n)}function Zn(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:lt(t).toString(),requestUri:"http://localhost"}}function er(e,t){this.Ac=t||[],xn(this,{providerId:e,isOAuthProvider:!0}),this.vb={},this.$a=(Hn(e)||{}).Ma||null,this.Ya=null}function tr(e){er.call(this,e,yc),this.a=[]}function nr(){tr.call(this,"facebook.com")}function rr(e){if(!e)throw new Nn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new nr).credential(null,t)}function ir(){tr.call(this,"github.com")}function or(e){if(!e)throw new Nn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new ir).credential(null,t)}function ar(){tr.call(this,"google.com"),this.ta("profile")}function sr(e,t){var n=e;return l(e)&&(n=e.idToken,t=e.accessToken),(new ar).credential(n,t)}function ur(){er.call(this,"twitter.com",mc)}function lr(e,t){var n=e;if(l(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Nn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jn("twitter.com",n,"twitter.com")}function cr(e,t,n){this.a=e,this.b=t,Cn(this,"providerId","password"),Cn(this,"signInMethod",n===hr.EMAIL_LINK_SIGN_IN_METHOD?hr.EMAIL_LINK_SIGN_IN_METHOD:hr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function hr(){xn(this,{providerId:"password",isOAuthProvider:!1})}function fr(e,t){if(!(t=pr(t)))throw new Nn("argument-error","Invalid email link!");return new cr(e,t,hr.EMAIL_LINK_SIGN_IN_METHOD)}function pr(e){e=Qn(e),e=new $n(e);var t=tt(e.a,"oobCode")||null;return"signIn"===(tt(e.a,"mode")||null)&&t?t:null}function dr(e){if(!(e.Sa&&e.Ra||e.Fa&&e.$))throw new Nn("internal-error");this.a=e,Cn(this,"providerId","phone"),Cn(this,"signInMethod","phone")}function vr(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Sa,code:e.a.Ra}}function mr(e){try{this.a=e||r.a.auth()}catch(e){throw new Nn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}xn(this,{providerId:"phone",isOAuthProvider:!1})}function yr(e,t){if(!e)throw new Nn("missing-verification-id");if(!t)throw new Nn("missing-verification-code");return new dr({Sa:e,Ra:t})}function gr(e){if(e.temporaryProof&&e.phoneNumber)return new dr({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return sr(e,n);case"facebook.com":return rr(n);case"github.com":return or(n);case"twitter.com":return lr(n,r);default:return new tr(t).credential(e,n)}}catch(e){return null}}function br(e){if(!e.isOAuthProvider)throw new Nn("invalid-oauth-provider")}function _r(e,t,n,r,i){if(this.b=e,this.c=t||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Nn("invalid-auth-event");if(this.f&&this.a)throw new Nn("invalid-auth-event");if(this.f&&!this.g)throw new Nn("invalid-auth-event")}function wr(e){return e=e||{},e.type?new _r(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&In(e.error)):null}function kr(){this.b=null,this.a=[]}function Cr(e){var t="unauthorized-domain",n=void 0,r=nt(e);e=r.b,r=r.c,"chrome-extension"==r?n=A("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=A("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Nn.call(this,t,n)}function xr(e,t,n){Nn.call(this,e,n),e=t||{},e.wb&&Cn(this,"email",e.wb),e.$&&Cn(this,"phoneNumber",e.$),e.credential&&Cn(this,"credential",e.credential)}function Er(e){if(e.code){var t=e.code||"";0==t.indexOf(ic)&&(t=t.substring(ic.length));var n={credential:gr(e)};if(e.email)n.wb=e.email;else{if(!e.phoneNumber)return new Nn(t,e.message||void 0);n.$=e.phoneNumber}return new xr(t,n,e.message)}return null}function Sr(){}function Or(e){return e.c||(e.c=e.b())}function Tr(){}function Pr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Nr(){}function Ir(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=f(this.bc,this),this.a.onerror=f(this.Bb,this),this.a.onprogress=f(this.cc,this),this.a.ontimeout=f(this.fc,this)}function Ar(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Dr(e,t,n){this.reset(e,t,n,void 0,void 0)}function Mr(e){this.f=e,this.b=this.c=this.a=null}function jr(e,t){this.name=e,this.value=t}function Rr(e){return e.c?e.c:e.a?Rr(e.a):(b("Root logger has no level set."),null)}function Fr(e){Nc||(Nc=new Mr(""),Pc[""]=Nc,Nc.c=Oc);var t;if(!(t=Pc[e])){t=new Mr(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=Fr(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,Pc[e]=t}return t}function Lr(e,t){e&&e.log(Tc,t,void 0)}function Ur(e){this.f=e}function Vr(e){Fe.call(this),this.i=e,this.readyState=Ic,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Fr("goog.net.FetchXmlHttp")}function Hr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Br(e){Fe.call(this),this.headers=new Ge,this.C=e||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Ac,this.v=this.O=!1}function Wr(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.C?e.C.a():Cc.a(),e.w=Or(e.C?e.C:Cc),e.a.onreadystatechange=f(e.Fb,e);try{Lr(e.b,ei(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(t){return Lr(e.b,ei(e,"Error opening Xhr: "+t.message)),void Gr(e,t)}t=r||"";var o=new Ge(e.headers);i&&ze(i,function(e,t){o.set(t,e)}),i=S(o.U()),r=xu.FormData&&t instanceof xu.FormData,!O(Mc,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{Qr(e),0<e.g&&(e.v=qr(e.a),Lr(e.b,ei(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=f(e.Ga,e)):e.u=He(e.Ga,e.g,e)),Lr(e.b,ei(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Lr(e.b,ei(e,"Send error: "+t.message)),Gr(e,t)}}function qr(e){return il&&ye(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function zr(e){return"content-type"==e.toLowerCase()}function Gr(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Kr(e),$r(e)}function Kr(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Yr(e){if(e.c&&void 0!==Cu)if(e.w[1]&&4==Xr(e)&&2==Jr(e))Lr(e.b,ei(e,"Local request error detected and ignored"));else if(e.i&&4==Xr(e))He(e.Fb,0,e);else if(e.dispatchEvent("readystatechange"),4==Xr(e)){Lr(e.b,ei(e,"Request complete")),e.c=!1;try{var t=Jr(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.l).match(Sl)[1]||null;if(!o&&xu.self&&xu.self.location){var a=xu.self.location.protocol;o=a.substr(0,a.length-1)}i=!Dc.test(o?o.toLowerCase():"")}r=i}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<Xr(e)?e.a.statusText:""}catch(t){Lr(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+Jr(e)+"]",Kr(e)}}finally{$r(e)}}}function $r(e,t){if(e.a){Qr(e);var r=e.a,i=e.w[0]?n:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{r.onreadystatechange=i}catch(t){(e=e.b)&&e.log(Ec,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Qr(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(xu.clearTimeout(e.u),e.u=null)}function Xr(e){return e.a?e.a.readyState:0}function Jr(e){try{return 2<Xr(e)?e.a.status:-1}catch(e){return-1}}function Zr(e){try{return e.a?e.a.responseText:""}catch(t){return Lr(e.b,"Can not get responseText: "+t.message),""}}function ei(e,t){return t+" ["+e.N+" "+e.l+" "+Jr(e)+"]"}function ti(e,t){this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function ni(e,t,n){e.a=!0,e.c=n,e.f=!t,si(e)}function ri(e){if(e.a){if(!e.l)throw new ui(e);e.l=!1}}function ii(e,t){oi(e,null,t,void 0)}function oi(e,t,n,r){e.g.push([t,n,r]),e.a&&si(e)}function ai(e){return Du(e.g,function(e){return u(e[1])})}function si(e){if(e.h&&e.a&&ai(e)){var t=e.h,n=jc[t];n&&(xu.clearTimeout(n.a),delete jc[t]),e.h=0}e.b&&(e.b.m--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.u,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(m(t)||"function"==typeof xu.Promise&&t instanceof xu.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ai(e)||(n=!0)}}e.c=t,r&&(s=f(e.o,e,!0),r=f(e.o,e,!1),t instanceof ti?(oi(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new ci(t),jc[t.a]=t,e.h=t.a)}function ui(){y.call(this)}function li(){y.call(this)}function ci(e){this.a=xu.setTimeout(f(this.c,this),0),this.b=e}function hi(e){var t={},n=t.document||document,r=bt(e),i=document.createElement("SCRIPT"),o={Hb:i,Ga:void 0},a=new ti(pi,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){di(i,!0);var e=new vi(Fc,"Timeout reached for loading script "+r);ri(a),ni(a,!1,e)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(di(i,t.dd||!1,s),a.C())},i.onerror=function(){di(i,!0,s);var e=new vi(Rc,"Error while loading script "+r);ri(a),ni(a,!1,e)},o=t.attributes||{},V(o,{type:"text/javascript",charset:"UTF-8"}),Nt(i,o),i.src=bt(e),fi(n).appendChild(i),a}function fi(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function pi(){if(this&&this.Hb){var e=this.Hb;e&&"SCRIPT"==e.tagName&&di(e,!0,this.Ga)}}function di(e,t,r){null!=r&&xu.clearTimeout(r),e.onload=n,e.onerror=n,e.onreadystatechange=n,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function vi(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),y.call(this,n),this.code=e}function mi(e){this.f=e}function yi(e,t,n){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Vc,this.f=U(e.secureTokenHeaders||Hc),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||Bc,this.a=U(e.firebaseHeaders||Wc),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==Jt(),!(n=xu.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!Xt())throw new Nn("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Xt()?this.c=new Ur(self):Zt()?this.c=new mi(n):this.c=new Nr}function gi(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function bi(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function _i(e,t,n,r,i,o,a){Bt()||Xt()?e=f(e.o,e):(Lc||(Lc=new G(function(e,t){wi(e,t)})),e=f(e.l,e)),e(t,n,r,i,o,a)}function wi(e,t){if(((window.gapi||{}).client||{}).request)e();else{xu[zc]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};ii(hi(_t(qc,{onload:zc})),function(){t(Error("CORS_UNSUPPORTED"))})}}function ki(e,t){return new G(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?_i(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?r(Hi(e)):e.access_token&&e.refresh_token?n(e):r(new Nn("internal-error")):r(new Nn("network-request-failed"))},"POST",lt(t).toString(),e.f,e.m.get()):r(new Nn("internal-error"))})}function Ci(e,t,n,r,i,o){var a=nt(e.g+t);et(a,"key",e.b),o&&et(a,"cb",Ou().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&et(a,u,r[u]);return new G(function(t,o){_i(e,a.toString(),function(e){e?e.error?o(Hi(e,i||{})):t(e):o(new Nn("network-request-failed"))},n,s?void 0:Mt(fn(r)),e.a,e.h.get())})}function xi(e){if(!kc.test(e.email))throw new Nn("invalid-email")}function Ei(e){"email"in e&&xi(e)}function Si(e,t){return Ui(e,Xc,{identifier:t,continueUri:un()?Ut():"http://localhost"}).then(function(e){return e.allProviders||[]})}function Oi(e,t){return Ui(e,Xc,{identifier:t,continueUri:un()?Ut():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function Ti(e){return Ui(e,ah,{}).then(function(e){return e.authorizedDomains||[]})}function Pi(e){if(!e[Uc])throw new Nn("internal-error")}function Ni(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Nn("internal-error")}else{if(!e.sessionInfo)throw new Nn("missing-verification-id");if(!e.code)throw new Nn("missing-verification-code")}}function Ii(e,t){return Ui(e,lh,t)}function Ai(e,t,n){return Ui(e,Zc,{idToken:t,deleteProvider:n})}function Di(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Nn("internal-error")}function Mi(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Er(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Er(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Er(e)):e.errorMessage&&(t=Vi(e.errorMessage)),t)throw t;if(!e[Uc])throw new Nn("internal-error")}function ji(e,t){return t.returnIdpCredential=!0,Ui(e,ph,t)}function Ri(e,t){return t.returnIdpCredential=!0,Ui(e,vh,t)}function Fi(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ui(e,dh,t)}function Li(e){if(!e.oobCode)throw new Nn("invalid-action-code")}function Ui(e,t,n){if(!On(n,t.T))return Q(new Nn("internal-error"));var r,i=t.Eb||"POST";return $(n).then(t.B).then(function(){return t.R&&(n.returnSecureToken=!0),Ci(e,t.endpoint,i,n,t.Tb,t.rb||!1)}).then(function(e){return r=e}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new Nn("internal-error");return r[t.da]})}function Vi(e){return Hi({error:{errors:[{message:e}],code:400,message:e}})}function Hi(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Nn(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},V(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Nn(r[i],t);return!t&&e&&(t=hn(e)),new Nn("internal-error",t)}function Bi(e){for(var t in wh)if(wh[t].id===e)return e=wh[t],{firebaseEndpoint:e.Za,secureTokenEndpoint:e.fb};return null}function Wi(e){this.b=e,this.a=null,this.bb=qi(this)}function qi(e){return Ki().then(function(){return new G(function(t,n){on("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},xh.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function zi(e,t){return e.bb.then(function(){return new G(function(n){e.a.send(t.type,t,n,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Gi(e,t){e.bb.then(function(){e.a.register("authEvent",t,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Ki(){return Eh||(Eh=new G(function(e,t){function n(){mn(),on("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){mn(),t(Error("Network Error"))},timeout:Ch.get()})}if(on("gapi.iframes.Iframe"))e();else if(on("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();xu[r]=function(){on("gapi.load")?n():t(Error("Network Error"))},r=_t(kh,{onload:r}),$(hi(r)).s(function(){t(Error("Network Error"))})}}).s(function(e){throw Eh=null,e}))}function Yi(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=rt(this.i,"/__/auth/iframe"),et(this.a,"apiKey",this.g),et(this.a,"appName",this.h),this.b=null,this.c=[]}function $i(e,t,n,r,i){this.o=e,this.l=t,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Qi(e){try{return r.a.app(e).auth().xa()}catch(e){return[]}}function Xi(e,t,n,r,i){this.l=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Ji(e){var t=Ut();return Ti(e).then(function(e){e:{var n=nt(t),r=n.c;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=nt(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Wl.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Cr(Ut())})}function Zi(e){return e.m?e.m:(e.m=Kt().then(function(){if(!e.u){var t=e.c,n=e.h,r=Qi(e.b),i=new Yi(e.l,e.f,e.b);i.f=t,i.b=n,i.c=I(r||[]),e.u=i.toString()}e.i=new Wi(e.u),no(e)}),e.m)}function eo(e){return e.o||(e.v=e.c?nn(e.c,Qi(e.b)):null,e.o=new yi(e.f,Bi(e.h),e.v)),e.o}function to(e,t,n,r,i,o,a,s,u,l){return e=new $i(e,t,n,r,i),e.i=o,e.g=a,e.h=s,e.b=U(u||null),e.f=l,e.toString()}function no(e){if(!e.i)throw Error("IfcHandler must be initialized!");Gi(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=wr(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return n={},n.status=r?"ACK":"ERROR",$(n)}return n.status="ERROR",$(n)})}function ro(e){var t={type:"webStorageSupport"};return Zi(e).then(function(){return zi(e.i,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function io(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Nn("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function oo(){if(!lo())throw new Nn("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=xu.indexedDB,this.type="indexedDB"}function ao(e){return new G(function(t,n){var r=e.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}function so(e){return new G(function(t,n){var r=e.g.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?t(r):ao(e).then(function(){return so(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function uo(e){return e.h||(e.h=so(e)),e.h}function lo(){try{return!!xu.indexedDB}catch(e){return!1}}function co(e){return e.objectStore("firebaseLocalStorage")}function ho(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function fo(e){return new G(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function po(e){function t(){return e.c=Be(800).then(f(e.Kc,e)).then(function(t){0<t.length&&Iu(e.a,function(e){e(t)})}).then(t).s(function(e){"STOP_EVENT"!=e.message&&t()}),e.c}e.c&&e.c.cancel("STOP_EVENT"),t()}function vo(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=$().then(function(){if(lo()){var e=dn(),r="__sak"+e;return Sh||(Sh=new oo),n=Sh,n.set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){Iu(t.a,function(t){t(e)})}),e})}function mo(){this.a={},this.type="inMemory"}function yo(){if(!bo()){if("Node"==Jt())throw new Nn("internal-error","The LocalStorage compatibility library was not found.");throw new Nn("web-storage-unsupported")}this.a=go()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function go(){try{var e=xu.localStorage,t=dn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function bo(){var e="Node"==Jt();if(!(e=go()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function _o(){this.type="nullStorage"}function wo(){if(!Co()){if("Node"==Jt())throw new Nn("internal-error","The SessionStorage compatibility library was not found.");throw new Nn("web-storage-unsupported")}this.a=ko()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ko(){try{var e=xu.sessionStorage,t=dn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Co(){var e="Node"==Jt();if(!(e=ko()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function xo(){var e={};e.Browser=Ph,e.Node=Nh,e.ReactNative=Ih,e.Worker=Ah,this.a=e[Jt()]}function Eo(e){var t=new Nn("invalid-persistence-type"),n=new Nn("unsupported-persistence-type");e:{for(r in Dh)if(Dh[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Jt()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!an()&&"none"!==e)throw n}}function So(){var e=!(vn(rn())||!Qt()),t=cn(),n=an();this.o=e,this.h=t,this.m=n,this.a={},Oh||(Oh=new xo),e=Oh;try{this.g=!Lt()&&wn()||!xu.indexedDB?new e.a.A:new vo(Xt()?new mo:new e.a.A)}catch(e){this.g=new mo,this.h=!0}try{this.i=new e.a.Qa}catch(e){this.i=new mo}this.l=new mo,this.f=f(this.Lb,this),this.b={}}function Oo(){return Th||(Th=new So),Th}function To(e,t){switch(t){case"session":return e.i;case"none":return e.l;default:return e.g}}function Po(e,t){return"firebase:"+e.name+(t?":"+t:"")}function No(e,t,n){var r=Po(t,n),i=To(e,t.A);return e.get(t,n).then(function(o){var a=null;try{a=pn(xu.localStorage.getItem(r))}catch(e){}if(a&&!o)return xu.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&xu.localStorage.removeItem(r)})}function Io(e,t,n){return n=Po(t,n),"local"==t.A&&(e.b[n]=null),To(e,t.A).P(n)}function Ao(e){Do(e),e.c=setInterval(function(){for(var t in e.a){var n=xu.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new be({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Lb(n))}},1e3)}function Do(e){e.c&&(clearInterval(e.c),e.c=null)}function Mo(e){this.a=e,this.b=Oo()}function jo(e){return e.b.get(jh,e.a).then(function(e){return wr(e)})}function Ro(){this.a=Oo()}function Fo(){this.b=-1}function Lo(e,t){this.b=-1,this.b=Rh,this.f=xu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.m=xu.Int32Array?new Int32Array(64):Array(64),void 0!==Mh||(Mh=xu.Int32Array?new Int32Array(Hh):Hh),this.reset()}function Uo(e){for(var t=e.f,n=e.m,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=l&c^~l&h,o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0,a=a+(0|Mh[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Vo(t,n,r){void 0===r&&(r=n.length);var i=0,o=t.c;if(e(n))for(;i<r;)t.f[o++]=n.charCodeAt(i++),o==t.b&&(Uo(t),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(Uo(t),o=0)}}t.c=o,t.g+=r}function Ho(){Lo.call(this,8,Bh)}function Bo(e,t,n,r,i){this.l=e,this.i=t,this.m=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new Ro,this.g=new Mo(this.h),this.f=null,this.b=[],this.a=this.c=null}function Wo(e){return new Nn("invalid-cordova-configuration",e)}function qo(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function zo(e){var t=new Ho;Vo(t,e),e=[];var n=8*t.g;56>t.c?Vo(t,Vh,56-t.c):Vo(t,Vh,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Uo(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return Mn(e)}function Go(e,t,n,r){var i=qo(),o=new _r(t,r,null,i,new Nn("no-auth-event")),a=on("BuildInfo.packageName",xu);if("string"!=typeof a)throw new Nn("invalid-cordova-configuration");var s=on("BuildInfo.displayName",xu),u={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!rn().toLowerCase().match(/android/))return Q(new Nn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=zo(i),u.sessionId=i;var l=to(e.l,e.i,e.m,t,n,null,r,e.o,u,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(jh,o.D(),t)}).then(function(){var t=on("cordova.plugins.browsertab.isAvailable",xu);if("function"!=typeof t)throw new Nn("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=on("cordova.plugins.browsertab.openUrl",xu)))throw new Nn("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=on("cordova.InAppBrowser.open",xu)))throw new Nn("invalid-cordova-configuration");t=rn(),t=!(!t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=n(l,t?"_blank":"_system","location=yes")}})})}function Ko(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Yo(e){return e.f||(e.f=e.ga().then(function(){return new G(function(t){function n(r){return t(r),e.Ka(n),!1}e.va(n),Qo(e)})})),e.f}function $o(e){var t=null;return jo(e.g).then(function(n){return t=n,n=e.g,Io(n.b,jh,n.a)}).then(function(){return t})}function Qo(e){function t(t){r=!0,i&&i.cancel(),$o(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;i=Qn(t.url),-1!=i.indexOf("/__/auth/callback")&&(o=nt(i),o=pn(tt(o,"firebaseError")||null),o=(o="object"==typeof o?In(o):null)?new _r(r.b,r.c,null,null,o):new _r(r.b,r.c,i,r.g)),i=o||n}Ko(e,i)})}var n=new _r("unknown",null,null,null,new Nn("no-auth-event")),r=!1,i=Be(500).then(function(){return $o(e).then(function(){r||Ko(e,n)})}),o=xu.handleOpenURL;xu.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(on("BuildInfo.packageName",xu).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},wc||(wc=new kr),wc.subscribe(t)}function Xo(e){this.a=e,this.b=Oo()}function Jo(e){return e.b.set(Wh,"pending",e.a)}function Zo(e){return Io(e.b,Wh,e.a)}function ea(e){return e.b.get(Wh,e.a).then(function(e){return"pending"==e})}function ta(e,t,n){this.v=e,this.m=t,this.l=n,this.h=[],this.f=!1,this.i=f(this.o,this),this.c=new ua,this.u=new va,this.g=new Xo(this.m+":"+this.l),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.u,this.b.linkViaPopup=this.u,this.b.reauthViaPopup=this.u,this.a=na(this.v,this.m,this.l,Kc)}function na(e,t,n,i){var o=r.a.SDK_VERSION||null;return $t()?new Bo(e,t,n,o,i):new Xi(e,t,n,o,i)}function ra(e){e.f||(e.f=!0,e.a.va(e.i));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function ia(e){e.a.Ib()&&ra(e).s(function(t){var n=new _r("unknown",null,null,null,new Nn("operation-not-supported-in-this-environment"));aa(t)&&e.o(n)}),e.a.Db()||la(e.c)}function oa(e,t,n,r,i,o){return e.a.zb(t,n,r,function(){e.f||(e.f=!0,e.a.va(e.i))},function(){e.reset()},i,o)}function aa(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function sa(e,t,n){var r=t+":"+n;return Gh[r]||(Gh[r]=new ta(e,t,n)),Gh[r]}function ua(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function la(e){e.g||(e.g=!0,pa(e,!1,null,null))}function ca(e,t,n){n=n.wa(t.b,t.c);var r=t.f,i=t.g,o=!!t.b.match(/Redirect$/);n(r,i).then(function(t){pa(e,o,t,null)}).s(function(t){pa(e,o,null,t)})}function ha(e,t){if(e.b=function(){return Q(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function fa(e,t){if(e.b=function(){return $(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function pa(e,t,n,r){t?r?ha(e,r):fa(e,n):fa(e,{user:null}),e.f=[],e.c=[]}function da(e){var t=new Nn("timeout");e.a&&e.a.cancel(),e.a=Be(zh.get()).then(function(){e.b||pa(e,!0,null,t)})}function va(){}function ma(e,t){var n=e.c,r=e.b;t.wa(r,n)(e.f,e.g).then(function(e){t.ha(r,e,null,n)}).s(function(e){t.ha(r,null,e,n)})}function ya(){this.pb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.pb},set:function(e){this.pb=e},enumerable:!1})}function ga(e,t){this.a=t,Cn(this,"verificationId",e)}function ba(e,t,n,r){return new mr(e).Ta(t,n).then(function(e){return new ga(e,r)})}function _a(e){var t=Vn(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Nn("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");xn(this,{token:e,expirationTime:_n(1e3*t.exp),authTime:_n(1e3*t.auth_time),issuedAtTime:_n(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function wa(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ka(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function Ca(e,t){e.stop(),e.b=Be(ka(e,t)).then(function(){return bn()}).then(function(){return e.h()}).then(function(){Ca(e,!0)}).s(function(t){e.i(t)&&Ca(e,!1)})}function xa(e){this.f=e,this.b=this.a=null,this.c=0}function Ea(e,t){var n=t[Uc],r=t.refreshToken;t=Oa(t.expiresIn),e.b=n,e.c=t,e.a=r}function Sa(e,t){e.b=t.b,e.a=t.a,e.c=t.c}function Oa(e){return Ou()+1e3*parseInt(e,10)}function Ta(e,t){return ki(e.f,t).then(function(t){return e.b=t.access_token,e.c=Oa(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function Pa(e,t){this.a=e||null,this.b=t||null,xn(this,{lastSignInTime:_n(t||null),creationTime:_n(e||null)})}function Na(e){return new Pa(e.a,e.b)}function Ia(e,t,n,r,i,o){xn(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Aa(e,t){ge.call(this,e);for(var n in t)this[n]=t[n]}function Da(e,t,n){this.G=[],this.l=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=r.a.SDK_VERSION?nn(r.a.SDK_VERSION):null,this.b=new yi(this.l,Bi(Kc),e),this.h=new xa(this.b),Ha(this,t[Uc]),Ea(this.h,t),Cn(this,"refreshToken",this.h.a),za(this,n||{}),Fe.call(this),this.I=!1,this.u&&sn()&&(this.a=sa(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=La(this),this.V=f(this.Ha,this);var i=this;this.ka=null,this.sa=function(e){i.oa(e.g)},this.X=null,this.O=[],this.ra=function(e){ja(i,e.c)},this.W=null}function Ma(e,t){e.X&&Pe(e.X,"languageCodeChanged",e.sa),(e.X=t)&&Ee(t,"languageCodeChanged",e.sa)}function ja(e,t){e.O=t,bi(e.b,r.a.SDK_VERSION?nn(r.a.SDK_VERSION,e.O):null)}function Ra(e,t){e.W&&Pe(e.W,"frameworkChanged",e.ra),(e.W=t)&&Ee(t,"frameworkChanged",e.ra)}function Fa(e){try{return r.a.app(e.o).auth()}catch(t){throw new Nn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function La(e){return new wa(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Ou()-3e5;return 0<t?t:0})}function Ua(e){e.C||e.w.b||(e.w.start(),Pe(e,"tokenChanged",e.V),Ee(e,"tokenChanged",e.V))}function Va(e){Pe(e,"tokenChanged",e.V),e.w.stop()}function Ha(e,t){e.qa=t,Cn(e,"_lat",t)}function Ba(e,t){P(e.N,function(e){return e==t})}function Wa(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Z(t).then(function(){return e})}function qa(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function za(e,t){xn(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new Pa(t.createdAt,t.lastLoginAt),providerData:[]})}function Ga(){}function Ka(e){return $().then(function(){if(e.C)throw new Nn("app-deleted")})}function Ya(e){return Au(e.providerData,function(e){return e.providerId})}function $a(e,t){t&&(Qa(e,t.providerId),e.providerData.push(t))}function Qa(e,t){P(e.providerData,function(e){return e.providerId==t})}function Xa(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Cn(e,t,n)}function Ja(e,t){e!=t&&(xn(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Cn(e,"metadata",Na(t.metadata)):Cn(e,"metadata",new Pa),Iu(t.providerData,function(t){$a(e,t)}),Sa(e.h,t.h),Cn(e,"refreshToken",e.h.a))}function Za(e){return e.F().then(function(t){var n=e.isAnonymous;return ts(e,t).then(function(){return n||Xa(e,"isAnonymous",!1),t})})}function es(e,t){t[Uc]&&e.qa!=t[Uc]&&(Ea(e.h,t),e.dispatchEvent(new Aa("tokenChanged")),Ha(e,t[Uc]),Xa(e,"refreshToken",e.h.a))}function ts(e,t){return Ui(e.b,nh,{idToken:t}).then(f(e.uc,e))}function ns(e){return(e=e.providerUserInfo)&&e.length?Au(e,function(e){return new Ia(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function rs(e,t){return Za(e).then(function(){if(O(Ya(e),t))return Wa(e).then(function(){throw new Nn("provider-already-linked")})})}function is(e,t,n){var r=gr(t);return t=Bn(t),En({user:e,credential:r,additionalUserInfo:t,operationType:n})}function os(e,t){return es(e,t),e.reload().then(function(){return e})}function as(e,t,n,i,o){if(!sn())return Q(new Nn("operation-not-supported-in-this-environment"));if(e.i&&!o)return Q(e.i);var a=Hn(n.providerId),s=dn(e.uid+":::"),u=null;(!cn()||Qt())&&e.u&&n.isOAuthProvider&&(u=to(e.u,e.l,e.o,t,n,null,s,r.a.SDK_VERSION||null));var l=zt(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(us(e),!o)return e.F().then(function(){})}).then(function(){return oa(e.a,l,t,n,s,!!u)}).then(function(){return new G(function(n,r){e.ha(t,null,new Nn("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=e.a.Ea(e,t,l,s)})}).then(function(e){return l&&qt(l),e?En(e):null}).s(function(e){throw l&&qt(l),e}),ls(e,i,o)}function ss(e,t,n,r,i){if(!sn())return Q(new Nn("operation-not-supported-in-this-environment"));if(e.i&&!i)return Q(e.i);var o=null,a=dn(e.uid+":::");return r=r().then(function(){if(us(e),!i)return e.F().then(function(){})}).then(function(){return e.aa=a,Wa(e)}).then(function(t){return e.ba&&(t=e.ba,t=t.b.set(Kh,e.D(),t.a)),t}).then(function(){return e.a.Ca(t,n,a)}).s(function(t){if(o=t,e.ba)return vs(e.ba);throw o}).then(function(){if(o)throw o}),ls(e,r,i)}function us(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Nn("internal-error");throw new Nn("auth-domain-config-required")}}function ls(e,t,n){var r=cs(e,t,n);return e.G.push(r),r.ia(function(){T(e.G,r)}),r}function cs(e,t,n){return e.i&&!n?(t.cancel(),Q(e.i)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Aa("userInvalidated")),e.i=t),t})}function hs(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Uc]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-Ou())/1e3;var r=new Da(t,n,e);return e.providerData&&Iu(e.providerData,function(e){e&&$a(r,En(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}function fs(e,t,n,r){var i=new Da(e,t);return n&&(i.ba=n),r&&ja(i,r),i.reload().then(function(){return i})}function ps(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.u,appName:e.o};var i=e.h,o={};return o[Uc]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-Ou())/1e3,t=new Da(t,o),n&&(t.ba=n),r&&ja(t,r),Ja(t,e),t}function ds(e){this.a=e,this.b=Oo()}function vs(e){return Io(e.b,Kh,e.a)}function ms(e,t){return e.b.get(Kh,e.a).then(function(e){return e&&t&&(e.authDomain=t),hs(e||{})})}function ys(e){this.a=e,this.b=Oo(),this.c=null,this.f=bs(this),this.b.addListener(_s("local"),this.a,f(this.g,this))}function gs(e,t){var n,r=[];for(n in Dh)Dh[n]!==t&&r.push(Io(e.b,_s(Dh[n]),e.a));return r.push(Io(e.b,Yh,e.a)),J(r)}function bs(e){var t=_s("local"),n=_s("session"),r=_s("none");return No(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Yh,e.a).then(function(e){return e?_s(e):t})})})}).then(function(t){return e.c=t,gs(e,t.A)}).s(function(){e.c||(e.c=t)})}function _s(e){return{name:"authUser",A:e}}function ws(e){return Es(e,function(){return e.b.set(Yh,e.c.A,e.a)})}function ks(e,t){return Es(e,function(){return e.b.set(e.c,t.D(),e.a)})}function Cs(e){return Es(e,function(){return Io(e.b,e.c,e.a)})}function xs(e,t){return Es(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),hs(e||{})})})}function Es(e,t){return e.f=e.f.then(t,t),e.f}function Ss(e){if(this.l=!1,Cn(this,"settings",new ya),Cn(this,"app",e),!Ls(this).options||!Ls(this).options.apiKey)throw new Nn("invalid-api-key");e=r.a.SDK_VERSION?nn(r.a.SDK_VERSION):null,this.b=new yi(Ls(this).options&&Ls(this).options.apiKey,Bi(Kc),e),this.N=[],this.o=[],this.I=[],this.Pb=r.a.INTERNAL.createSubscribe(f(this.ic,this)),this.O=void 0,this.Qb=r.a.INTERNAL.createSubscribe(f(this.jc,this)),Ds(this,null),this.h=new ys(Ls(this).options.apiKey+":"+Ls(this).name),this.w=new ds(Ls(this).options.apiKey+":"+Ls(this).name),this.V=Ws(this,js(this)),this.i=Ws(this,Rs(this)),this.X=!1,this.ka=f(this.Jc,this),this.Ha=f(this.Z,this),this.qa=f(this.Yb,this),this.ra=f(this.gc,this),this.sa=f(this.hc,this),Is(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.qc,this),this.u=0,Fe.call(this),Ps(this),this.G=[]}function Os(e){ge.call(this,"languageCodeChanged"),this.g=e}function Ts(e){ge.call(this,"frameworkChanged"),this.c=e}function Ps(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.oa(e)},enumerable:!1}),e.W=null}function Ns(e){return e.Ob||Q(new Nn("auth-domain-config-required"))}function Is(e){var t=Ls(e).options.authDomain,n=Ls(e).options.apiKey;t&&sn()&&(e.Ob=e.V.then(function(){if(!e.l){if(e.a=sa(t,n,Ls(e).name),e.a.subscribe(e),Us(e)&&qa(Us(e)),e.C){qa(e.C);var r=e.C;r.oa(e.ea()),Ma(r,e),r=e.C,ja(r,e.G),Ra(r,e),e.C=null}return e.a}}))}function As(e,t){var n={};return n.apiKey=Ls(e).options.apiKey,n.authDomain=Ls(e).options.authDomain,n.appName=Ls(e).name,e.V.then(function(){return fs(n,t,e.w,e.xa())}).then(function(t){return Us(e)&&t.uid==Us(e).uid?(Ja(Us(e),t),e.Z(t)):(Ds(e,t),qa(t),e.Z(t))}).then(function(){Hs(e)})}function Ds(e,t){Us(e)&&(Ba(Us(e),e.Ha),Pe(Us(e),"tokenChanged",e.qa),Pe(Us(e),"userDeleted",e.ra),Pe(Us(e),"userInvalidated",e.sa),Va(Us(e))),t&&(t.N.push(e.Ha),Ee(t,"tokenChanged",e.qa),Ee(t,"userDeleted",e.ra),Ee(t,"userInvalidated",e.sa),0<e.u&&Ua(t)),Cn(e,"currentUser",t),t&&(t.oa(e.ea()),Ma(t,e),ja(t,e.G),Ra(t,e))}function Ms(e){var t=ms(e.w,Ls(e).options.authDomain).then(function(t){return(e.C=t)&&(t.ba=e.w),vs(e.w)});return Ws(e,t)}function js(e){var t=Ls(e).options.authDomain,n=Ms(e).then(function(){return xs(e.h,t)}).then(function(t){return t?(t.ba=e.w,e.C&&(e.C.aa||null)==(t.aa||null)?t:t.reload().then(function(){return ks(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:Cs(e.h)})):null}).then(function(t){Ds(e,t||null)});return Ws(e,n)}function Rs(e){return e.V.then(function(){return e.fa()}).s(function(){}).then(function(){if(!e.l)return e.ka()}).s(function(){}).then(function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(_s("local"),t.a,e.ka)}})}function Fs(e,t){var n=null,r=null;return Ws(e,t.then(function(t){return n=gr(t),r=Bn(t),As(e,t)}).then(function(){return En({user:Us(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ls(e){return e.app}function Us(e){return e.currentUser}function Vs(e){return Us(e)&&Us(e)._lat||null}function Hs(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](Vs(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Vs(e))}}function Bs(e,t){e.I.push(t),Ws(e,e.i.then(function(){!e.l&&O(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(Vs(e)))}))}function Ws(e,t){return e.N.push(t),t.ia(function(){T(e.N,t)}),t}function qs(){}function zs(){this.a={},this.b=1e12}function Gs(e,t){return(t=Ks(t))?e.a[t]||null:null}function Ks(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ys(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Pt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ee(this.f,"click",this.i)}function $s(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Qs(){}function Xs(){this.b=xu.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Js(e,t,n,r,i,o,a){if(Cn(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=t,this.g=null,a?(Qh||(Qh=new Qs),a=Qh):(Zh||(Zh=new Xs),a=Zh),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[nf])throw new Nn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[rf],!xu.document)throw new Nn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Pt(t)||!this.i&&Pt(t).hasChildNodes())throw new Nn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new yi(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.m=[];var u=this.a[ef];this.a[ef]=function(e){if(Zs(s,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=on(u,xu);"function"==typeof t&&t(e)}};var l=this.a[tf];this.a[tf]=function(){if(Zs(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=on(l,xu);"function"==typeof e&&e()}}}function Zs(e,t){for(var n=0;n<e.m.length;n++)try{e.m[n](t)}catch(e){}}function eu(e,t){P(e.m,function(e){return e==t})}function tu(e,t){return e.h.push(t),t.ia(function(){T(e.h,t)}),t}function nu(e){if(e.C)throw new Nn("internal-error","RecaptchaVerifier instance has been destroyed.")}function ru(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(e){throw new Nn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Nn("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.a.SDK_VERSION?nn(r.a.SDK_VERSION,a):null,Js.call(this,n,e,t,function(){try{var e=o.b.auth().ea()}catch(t){e=null}return e},a,Bi(Kc),i)}function iu(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Nn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=of.length)throw new Nn("internal-error","Argument validator received an unsupported number of arguments.");n=of[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Nn("argument-error",e+" failed: "+r)}function ou(t,n){return{name:t||"",K:"a valid string",optional:!!n,M:e}}function au(e,n){return{name:e||"",K:"a boolean",optional:!!n,M:t}}function su(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:l}}function uu(e,t){return{name:e||"",K:"a function",optional:!!t,M:u}}function lu(e,t){return{name:e||"",K:"null",optional:!!t,M:o}}function cu(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function hu(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Ss)}}}function fu(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}}function pu(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ya||!n)}}}function du(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function vu(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&e(t.type)&&u(t.verify))}}}function mu(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function yu(e,t){for(var n in t){var r=t[n].name;e[r]=_u(r,e[n],t[n].j)}}function gu(e,t){for(var n in t){var r=t[n].name;if(r!==n){var i=t[n].qb;Object.defineProperty(e,r,{get:function(){return this[n]},set:function(e){iu(r,[i],[e],!0),this[n]=e},enumerable:!0})}}}function bu(e,t,n,r){e[t]=_u(t,n,r)}function _u(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return iu(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=wu(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function wu(e){return e=e.split("."),e[e.length-1]}var ku,Cu=Cu||{},xu=this,Eu="closure_uid_"+(1e9*Math.random()>>>0),Su=0,Ou=Date.now||function(){return+new Date};d(y,Error),y.prototype.name="CustomError",d(g,y),g.prototype.name="AssertionError",_.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Tu=new _(function(){return new x},function(e){e.reset()});k.prototype.add=function(e,t){var n=Tu.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},x.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},x.prototype.reset=function(){this.next=this.b=this.a=null};var Pu,Nu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(t,n){if(e(t))return e(n)&&1==n.length?t.indexOf(n,0):-1;for(var r=0;r<t.length;r++)if(r in t&&t[r]===n)return r;return-1},Iu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,r){for(var i=t.length,o=e(t)?t.split(""):t,a=0;a<i;a++)a in o&&n.call(r,o[a],a,t)},Au=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(t,n){for(var r=t.length,i=Array(r),o=e(t)?t.split(""):t,a=0;a<r;a++)a in o&&(i[a]=n.call(void 0,o[a],a,t));return i},Du=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(t,n){for(var r=t.length,i=e(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,t))return!0;return!1},Mu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ju=/&/g,Ru=/</g,Fu=/>/g,Lu=/"/g,Uu=/'/g,Vu=/\x00/g,Hu=/[\x00&<>"']/;e:{var Bu=xu.navigator;if(Bu){var Wu=Bu.userAgent;if(Wu){Pu=Wu;break e}}Pu=""}var qu,zu,Gu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ku=!1,Yu=new k,$u=0,Qu=2,Xu=3;K.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ju=new _(function(){return new K},function(e){e.reset()});G.prototype.then=function(e,t,n){return ne(this,u(e)?e:null,u(t)?t:null,n)},v(G),ku=G.prototype,ku.ia=function(e,t){return e=Y(e,e,t),e.c=!0,te(this,e),this},ku.s=function(e,t){return ne(this,null,e,t)},ku.cancel=function(e){this.a==$u&&W(function(){ee(this,new he(e))},this)},ku.Lc=function(e){this.a=$u,re(this,Qu,e)},ku.Mc=function(e){this.a=$u,re(this,Xu,e)},ku.Ub=function(){for(var e;e=se(this);)ue(this,e,this.a,this.i);this.h=!1};var Zu=H;d(he,y),he.prototype.name="cancel";var el=0,tl={};fe.prototype.pa=!1,fe.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},de[" "]=n;var nl,rl=R("Opera"),il=R("Trident")||R("MSIE"),ol=R("Edge"),al=ol||il,sl=R("Gecko")&&!(M(Pu.toLowerCase(),"webkit")&&!R("Edge"))&&!(R("Trident")||R("MSIE"))&&!R("Edge"),ul=M(Pu.toLowerCase(),"webkit")&&!R("Edge");e:{var ll="",cl=function(){var e=Pu;return sl?/rv:([^\);]+)(\)|;)/.exec(e):ol?/Edge\/([\d\.]+)/.exec(e):il?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ul?/WebKit\/(\S+)/.exec(e):rl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cl&&(ll=cl?cl[1]:""),il){var hl=me();if(null!=hl&&hl>parseFloat(ll)){nl=String(hl);break e}}nl=ll}var fl,pl={},dl=xu.document;fl=dl&&il?me()||("CSS1Compat"==dl.compatMode?parseInt(nl,10):5):void 0;var vl=Object.freeze||function(e){return e},ml=!il||9<=Number(fl),yl=il&&!ye("9"),gl=function(){if(!xu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return xu.addEventListener("test",n,t),xu.removeEventListener("test",n,t),e}();ge.prototype.preventDefault=function(){this.Gb=!1},d(be,ge);var bl=vl({2:"touch",3:"pen",4:"mouse"});be.prototype.preventDefault=function(){be.lb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,yl)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},be.prototype.f=function(){return this.a};var _l="closure_listenable_"+(1e6*Math.random()|0),wl=0;ke.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=xe(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):(t=new _e(t,this.src,o,!!r,i),t.Ia=n,e.push(t)),t};var kl="closure_lm_"+(1e6*Math.random()|0),Cl={},xl=0,El="__closure_events_fn_"+(1e9*Math.random()>>>0);d(Fe,fe),Fe.prototype[_l]=!0,Fe.prototype.addEventListener=function(e,t,n,r){Ee(this,e,t,n,r)},Fe.prototype.removeEventListener=function(e,t,n,r){Pe(this,e,t,n,r)},Fe.prototype.dispatchEvent=function(t){var n,r=this.Ua;if(r)for(n=[];r;r=r.Ua)n.push(r);r=this.Nb;var i=t.type||t;if(e(t))t=new ge(t,r);else if(t instanceof ge)t.target=t.target||r;else{var o=t;t=new ge(i,r),V(t,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.b=n[a];o=Ve(s,i,!0,t)&&o}if(s=t.b=r,o=Ve(s,i,!0,t)&&o,o=Ve(s,i,!1,t)&&o,n)for(a=0;a<n.length;a++)s=t.b=n[a],o=Ve(s,i,!1,t)&&o;return o},Fe.prototype.ua=function(){if(Fe.lb.ua.call(this),this.m){var e,t=this.m,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,we(r[i]);delete t.a[e],t.b--}}this.Ua=null},ku=Ge.prototype,ku.S=function(){Ke(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ku.U=function(){return Ke(this),this.a.concat()},ku.clear=function(){this.b={},this.c=this.a.length=0},ku.get=function(e,t){return Ye(this.b,e)?this.b[e]:t},ku.set=function(e,t){Ye(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ku.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Sl=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Qe.prototype.toString=function(){var e=[],t=this.c;t&&e.push(ot(t,Ol,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.m)&&e.push(ot(t,Ol,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?Pl:Tl,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",ot(n,Il)),e.join("")};var Ol=/[#\/\?@]/g,Tl=/[#\?:]/g,Pl=/[#\?]/g,Nl=/[#\?@]/g,Il=/#/g;ku=st.prototype,ku.add=function(e,t){ut(this),this.c=null,e=pt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ku.clear=function(){this.a=this.c=null,this.b=0},ku.forEach=function(e,t){ut(this),this.a.forEach(function(n,r){Iu(n,function(n){e.call(t,n,r,this)},this)},this)},ku.U=function(){ut(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ku.S=function(t){ut(this);var n=[];if(e(t))ht(this,t)&&(n=N(n,this.a.get(pt(this,t))));else{t=this.a.S();for(var r=0;r<t.length;r++)n=N(n,t[r])}return n},ku.set=function(e,t){return ut(this),this.c=null,e=pt(this,e),ht(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ku.get=function(e,t){return e=e?this.S(e):[],0<e.length?String(e[0]):t},ku.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Al=!il||9<=Number(fl);vt.prototype.ma=!0,vt.prototype.la=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var Dl={};yt(""),gt.prototype.ma=!0,gt.prototype.la=function(){return this.a},gt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ml=/%{(\w+)}/g,jl=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Rl={};kt.prototype.ma=!0,kt.prototype.la=function(){return this.a},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Fl=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Ll={};Et("about:blank"),St.prototype.ma=!0,St.prototype.la=function(){return this.a},St.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ul={};Tt("<!DOCTYPE html>"),Tt(""),Tt("<br>");var Vl={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Hl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Bl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ql="Firefox",zl="Chrome",Gl={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};yn.prototype.get=function(){var e=xu.navigator;return(e&&"boolean"==typeof e.onLine&&(un()||"chrome-extension:"===ln()||void 0!==e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kl,Yl={};try{var $l={};Object.defineProperty($l,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($l,"abcd",{configurable:!0,enumerable:!0,value:2}),Kl=2==$l.abcd}catch(e){Kl=!1}var Ql="EMAIL_SIGNIN",Xl="email",Jl="newEmail",Zl="requestType",ec="email",tc="fromEmail",nc="data",rc="operation";d(Nn,Error),Nn.prototype.D=function(){return{code:this.code,message:this.message}},Nn.prototype.toJSON=function(){return this.D()};var ic="auth/",oc={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ac="android",sc="handleCodeInApp",uc="iOS",lc="url",cc="installApp",hc="minimumVersion",fc="packageName",pc="bundleId",dc=null,vc=null;Ln.prototype.f=function(){return this.b};var mc="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yc=["client_id","response_type","scope","redirect_uri","state"],gc={Tc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",eb:yc},Vc:{Ma:null,Ba:500,Aa:620,Na:"github.com",eb:yc},Wc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",eb:yc},bd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",eb:mc}},bc="idToken",_c="providerId";d(qn,Wn),d(zn,qn),d(Gn,qn),d(Kn,qn),d(Yn,qn),Jn.prototype.ya=function(e){return ji(e,Zn(this))},Jn.prototype.c=function(e,t){var n=Zn(this);return n.idToken=t,Ri(e,n)},Jn.prototype.f=function(e,t){return Xn(Fi(e,Zn(this)),t)},Jn.prototype.D=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},er.prototype.Da=function(e){return this.vb=U(e),this},d(tr,er),tr.prototype.ta=function(e){return O(this.a,e)||this.a.push(e),this},tr.prototype.Ab=function(){return I(this.a)},tr.prototype.credential=function(e,t){if(!e&&!t)throw new Nn("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jn(this.providerId,{idToken:e||null,accessToken:t||null},this.providerId)},d(nr,tr),Cn(nr,"PROVIDER_ID","facebook.com"),Cn(nr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),d(ir,tr),Cn(ir,"PROVIDER_ID","github.com"),Cn(ir,"GITHUB_SIGN_IN_METHOD","github.com"),d(ar,tr),Cn(ar,"PROVIDER_ID","google.com"),Cn(ar,"GOOGLE_SIGN_IN_METHOD","google.com"),d(ur,er),Cn(ur,"PROVIDER_ID","twitter.com"),Cn(ur,"TWITTER_SIGN_IN_METHOD","twitter.com"),cr.prototype.ya=function(e){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Ui(e,eh,{email:this.a,oobCode:this.b}):Ui(e,yh,{email:this.a,password:this.b})},cr.prototype.c=function(e,t){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Ui(e,th,{idToken:t,email:this.a,oobCode:this.b}):Ui(e,hh,{idToken:t,email:this.a,password:this.b})},cr.prototype.f=function(e,t){return Xn(this.ya(e),t)},cr.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},xn(hr,{PROVIDER_ID:"password"}),xn(hr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),xn(hr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),dr.prototype.ya=function(e){return e.Ta(vr(this))},dr.prototype.c=function(e,t){var n=vr(this);return n.idToken=t,Ui(e,bh,n)},dr.prototype.f=function(e,t){var n=vr(this);return n.operation="REAUTH",e=Ui(e,_h,n),Xn(e,t)},dr.prototype.D=function(){var e={providerId:"phone"};return this.a.Sa&&(e.verificationId=this.a.Sa),this.a.Ra&&(e.verificationCode=this.a.Ra),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},mr.prototype.Ta=function(t,n){var r=this.a.b;return $(n.verify()).then(function(i){if(!e(i))throw new Nn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Ii(r,{phoneNumber:t,recaptchaToken:i}).then(function(e){return"function"==typeof n.reset&&n.reset(),e},function(e){throw"function"==typeof n.reset&&n.reset(),e});default:throw new Nn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},xn(mr,{PROVIDER_ID:"phone"}),xn(mr,{PHONE_SIGN_IN_METHOD:"phone"}),_r.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var wc=null;kr.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=on("universalLinks.subscribe",xu))&&e(null,this.b))},kr.prototype.unsubscribe=function(e){P(this.a,function(t){return t==e})},d(Cr,Nn),d(xr,Nn),xr.prototype.D=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.D();return t&&V(e,t),e},xr.prototype.toJSON=function(){return this.D()};var kc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;Sr.prototype.c=null;var Cc;d(Tr,Sr),Tr.prototype.a=function(){var e=Pr(this);return e?new ActiveXObject(e):new XMLHttpRequest},Tr.prototype.b=function(){var e={};return Pr(this)&&(e[0]=!0,e[1]=!0),e},Cc=new Tr,d(Nr,Sr),Nr.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ir;throw Error("Unsupported browser")},Nr.prototype.b=function(){return{}},ku=Ir.prototype,ku.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},ku.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},ku.abort=function(){this.a.abort()},ku.setRequestHeader=function(){},ku.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},ku.bc=function(){this.status=200,this.responseText=this.a.responseText,Ar(this,4)},ku.Bb=function(){this.status=500,this.responseText="",Ar(this,4)},ku.fc=function(){this.Bb()},ku.cc=function(){this.status=200,Ar(this,1)},ku.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Dr.prototype.a=null;var xc=0;Dr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||xc++,r||Ou(),delete this.a},jr.prototype.toString=function(){return this.name};var Ec=new jr("SEVERE",1e3),Sc=new jr("WARNING",900),Oc=new jr("CONFIG",700),Tc=new jr("FINE",500);Mr.prototype.log=function(e,t,n){if(e.value>=Rr(this).value)for(u(t)&&(t=t()),e=new Dr(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Pc={},Nc=null;d(Ur,Sr),Ur.prototype.a=function(){return new Vr(this.f)},Ur.prototype.b=function(e){return function(){return e}}({}),d(Vr,Fe);var Ic=0;ku=Vr.prototype,ku.open=function(e,t){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,Hr(this)},ku.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.i.fetch(new Request(this.c,t)).then(this.ec.bind(this),this.Cb.bind(this))},ku.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Hr(this)),this.readyState=Ic},ku.ec=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,Hr(this)),this.a&&(this.readyState=3,Hr(this),this.a&&e.text().then(this.dc.bind(this,e),this.Cb.bind(this))))},ku.dc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,Hr(this))},ku.Cb=function(e){var t=this.f;t&&t.log(Sc,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,Hr(this))},ku.setRequestHeader=function(e,t){this.g.append(e,t)},ku.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(Sc,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},ku.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(Sc,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},d(Br,Fe);var Ac="";Br.prototype.b=Fr("goog.net.XhrIo");var Dc=/^https?$/i,Mc=["POST","PUT"];ku=Br.prototype,ku.Ga=function(){void 0!==Cu&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Lr(this.b,ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},ku.abort=function(){this.a&&this.c&&(Lr(this.b,ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$r(this))},ku.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),$r(this,!0)),Br.lb.ua.call(this)},ku.Fb=function(){this.pa||(this.I||this.i||this.f?Yr(this):this.tc())},ku.tc=function(){Yr(this)},ku.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Ac:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Ec,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Lr(this.b,"Can not get response: "+e.message),null}},ti.prototype.cancel=function(e){if(this.a)this.c instanceof ti&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):0>=--t.m&&t.cancel()}this.v?this.v.call(this.u,this):this.l=!0,this.a||(e=new li(this),ri(this),ni(this,!1,e))}},ti.prototype.o=function(e,t){this.i=!1,ni(this,e,t)},ti.prototype.C=function(){ri(this),ni(this,!0,null)},ti.prototype.then=function(e,t,n){var r,i,o=new G(function(e,t){r=e,i=t});return oi(this,r,function(e){e instanceof li?o.cancel():i(e)}),o.then(e,t,n)},v(ti),d(ui,y),ui.prototype.message="Deferred has already fired",ui.prototype.name="AlreadyCalledError",d(li,y),li.prototype.message="Deferred was canceled",li.prototype.name="CanceledError",ci.prototype.c=function(){throw delete jc[this.a],this.b};var jc={},Rc=0,Fc=1;d(vi,y),d(mi,Sr),mi.prototype.a=function(){return new this.f},mi.prototype.b=function(){return{}};var Lc,Uc="idToken",Vc=new yn(3e4,6e4),Hc={"Content-Type":"application/x-www-form-urlencoded"},Bc=new yn(3e4,6e4),Wc={"Content-Type":"application/json"};yi.prototype.o=function(e,t,n,r,i,o){if(Xt()&&(void 0===xu.fetch||void 0===xu.Headers||void 0===xu.Request))throw new Nn("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Br(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Le(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(Zr(this))||null}catch(t){e=null}t&&t(e)}),Ue(a,"ready",function(){s&&clearTimeout(s),pe(this)}),Ue(a,"timeout",function(){s&&clearTimeout(s),pe(this),t&&t(null)}),Wr(a,e,n,r,i)};var qc=yt("https://apis.google.com/js/client.js?onload=%{onload}"),zc="__fcb"+Math.floor(1e6*Math.random()).toString();yi.prototype.l=function(e,t,n,r,i){var o=this;Lc.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},yi.prototype.Pa=function(){return Ui(this,fh,{})},yi.prototype.mb=function(e,t){return Ui(this,ch,{idToken:e,email:t})},yi.prototype.nb=function(e,t){return Ui(this,hh,{idToken:e,password:t})};var Gc={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};ku=yi.prototype,ku.ob=function(e,t){var n={idToken:e},r=[];return F(Gc,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ui(this,ch,n)},ku.hb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},V(e,t),Ui(this,oh,e)},ku.ib=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},V(e,t),Ui(this,rh,e)},ku.gb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},V(e,t),Ui(this,ih,e)},ku.Ta=function(e){return Ui(this,gh,e)},ku.Xa=function(e,t){return Ui(this,uh,{oobCode:e,newPassword:t})},ku.Ja=function(e){return Ui(this,$c,{oobCode:e})},ku.Va=function(e){return Ui(this,Yc,{oobCode:e})};var Kc,Yc={endpoint:"setAccountInfo",B:Li,da:"email"},$c={endpoint:"resetPassword",B:Li,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Nn("internal-error")}},Qc={endpoint:"signupNewUser",B:function(e){if(xi(e),!e.password)throw new Nn("weak-password")},J:Pi,R:!0},Xc={endpoint:"createAuthUri"},Jc={endpoint:"deleteAccount",T:["idToken"]},Zc={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(e){if(!a(e.deleteProvider))throw new Nn("internal-error")}},eh={endpoint:"emailLinkSignin",T:["email","oobCode"],B:xi,J:Pi,R:!0},th={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:xi,J:Pi,R:!0},nh={endpoint:"getAccountInfo"},rh={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Nn("internal-error");xi(e)},da:"email"},ih={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Nn("internal-error")},da:"email"},oh={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Nn("internal-error");xi(e)},da:"email"},ah={rb:!0,endpoint:"getProjectConfig",Eb:"GET"},sh={rb:!0,endpoint:"getRecaptchaParam",Eb:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Nn("internal-error")}},uh={endpoint:"resetPassword",B:Li,da:"email"},lh={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ch={endpoint:"setAccountInfo",T:["idToken"],B:Ei,R:!0},hh={endpoint:"setAccountInfo",T:["idToken"],B:function(e){if(Ei(e),!e.password)throw new Nn("weak-password")},J:Pi,R:!0},fh={endpoint:"signupNewUser",J:Pi,R:!0},ph={endpoint:"verifyAssertion",B:Di,J:Mi,R:!0},dh={endpoint:"verifyAssertion",B:Di,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Nn("user-not-found");if(e.errorMessage)throw Vi(e.errorMessage);if(!e[Uc])throw new Nn("internal-error")},R:!0},vh={endpoint:"verifyAssertion",B:function(e){if(Di(e),!e.idToken)throw new Nn("internal-error")},J:Mi,R:!0},mh={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new Nn("invalid-custom-token")},J:Pi,R:!0},yh={endpoint:"verifyPassword",B:function(e){if(xi(e),!e.password)throw new Nn("wrong-password")},J:Pi,R:!0},gh={endpoint:"verifyPhoneNumber",B:Ni,J:Pi},bh={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new Nn("internal-error");Ni(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Er(e);Pi(e)}},_h={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Ni,J:Pi},wh={Yc:{Za:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",fb:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{Za:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",fb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{Za:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",fb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Kc=Bi("__EID__")?"__EID__":void 0;var kh=yt("https://apis.google.com/js/api.js?onload=%{onload}"),Ch=new yn(3e4,6e4),xh=new yn(5e3,15e3),Eh=null;Yi.prototype.toString=function(){return this.f?et(this.a,"v",this.f):ct(this.a.a,"v"),this.b?et(this.a,"eid",this.b):ct(this.a.a,"eid"),this.c.length?et(this.a,"fw",this.c.join(",")):ct(this.a.a,"fw"),this.a.toString()},$i.prototype.toString=function(){var e=rt(this.o,"/__/auth/handler");if(et(e,"apiKey",this.l),et(e,"appName",this.c),et(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(e){n=null}t.Ya=n,et(e,"providerId",this.a.providerId),t=this.a,n=fn(t.vb);for(var i in n)n[i]=n[i].toString();i=t.Ac,n=U(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.$a&&t.Ya&&!n[t.$a]&&(n[t.$a]=t.Ya),L(n)||et(e,"customParameters",hn(n))}if("function"==typeof this.a.Ab&&(t=this.a.Ab(),t.length&&et(e,"scopes",t.join(","))),this.i?et(e,"redirectUrl",this.i):ct(e.a,"redirectUrl"),this.g?et(e,"eventId",this.g):ct(e.a,"eventId"),this.h?et(e,"v",this.h):ct(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!tt(e,s)&&et(e,s,this.b[s]);return this.f?et(e,"eid",this.f):ct(e.a,"eid"),s=Qi(this.c),s.length&&et(e,"fw",s.join(",")),e.toString()},ku=Xi.prototype,ku.Ea=function(e,t,n){var r=new Nn("popup-closed-by-user"),i=new Nn("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){ro(o).then(function(n){n||(e&&qt(e),t(i),a=!0)})}).s(function(){}).then(function(){if(!a)return Gt(e)}).then(function(){if(!a)return Be(n).then(function(){t(r)})})},ku.Ib=function(){var e=rn();return!cn(e)&&!vn(e)},ku.Db=function(){return!1},ku.zb=function(e,t,n,r,i,o,a){if(!e)return Q(new Nn("popup-blocked"));if(a&&!cn())return this.ga().s(function(t){qt(e),i(t)}),r(),$();this.a||(this.a=Ji(eo(this)));var s=this;return this.a.then(function(){var t=s.ga().s(function(t){throw qt(e),i(t),t});return r(),t}).then(function(){if(br(n),!a){Vt(to(s.l,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)}}).s(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},ku.Ca=function(e,t,n){this.a||(this.a=Ji(eo(this)));var r=this;return this.a.then(function(){br(t),Vt(to(r.l,r.f,r.b,e,t,Ut(),n,r.c,void 0,r.h))}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},ku.ga=function(){var e=this;return Zi(this).then(function(){return e.i.bb}).s(function(){throw e.a=null,new Nn("network-request-failed")})},ku.Mb=function(){return!0},ku.va=function(e){this.g.push(e)},ku.Ka=function(e){P(this.g,function(t){return t==e})},ku=io.prototype,ku.get=function(e){return $(this.a.getItem(e)).then(function(e){return e&&pn(e)})},ku.set=function(e,t){return $(this.a.setItem(e,hn(t)))},ku.P=function(e){return $(this.a.removeItem(e))},ku.Y=function(){},ku.ca=function(){};var Sh;ku=oo.prototype,ku.set=function(e,t){var n,r=!1,i=this;return uo(this).then(function(t){return n=t,t=co(ho(n,!0)),fo(t.get(e))}).then(function(o){var a=co(ho(n,!0));return o?(o.value=t,fo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=e,o.value=t,fo(a.add(o)))}).then(function(){i.f[e]=t}).ia(function(){r&&i.b--})},ku.get=function(e){return uo(this).then(function(t){return fo(co(ho(t,!1)).get(e))}).then(function(e){return e&&e.value})},ku.P=function(e){var t=!1,n=this;return uo(this).then(function(r){return t=!0,n.b++,fo(co(ho(r,!0)).delete(e))}).then(function(){delete n.f[e]}).ia(function(){t&&n.b--})},ku.Kc=function(){var e=this;return uo(this).then(function(e){var t=co(ho(e,!1));return t.getAll?fo(t.getAll()):new G(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Ht(e.f,n),e.f=n}return r})},ku.Y=function(e){0==this.a.length&&po(this),this.a.push(e)},ku.ca=function(e){P(this.a,function(t){return t==e}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},ku=vo.prototype,ku.get=function(e){return this.b.then(function(t){return t.get(e)})},ku.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},ku.P=function(e){return this.b.then(function(t){return t.P(e)})},ku.Y=function(e){this.a.push(e)},ku.ca=function(e){P(this.a,function(t){return t==e})},ku=mo.prototype,ku.get=function(e){return $(this.a[e])},ku.set=function(e,t){return this.a[e]=t,$()},ku.P=function(e){return delete this.a[e],$()},ku.Y=function(){},ku.ca=function(){},ku=yo.prototype,ku.get=function(e){var t=this;return $().then(function(){return pn(t.a.getItem(e))})},ku.set=function(e,t){var n=this;return $().then(function(){var r=hn(t);null===r?n.P(e):n.a.setItem(e,r)})},ku.P=function(e){var t=this;return $().then(function(){t.a.removeItem(e)})},ku.Y=function(e){xu.window&&Ee(xu.window,"storage",e)},ku.ca=function(e){xu.window&&Pe(xu.window,"storage",e)},ku=_o.prototype,ku.get=function(){return $(null)},ku.set=function(){return $()},ku.P=function(){return $()},ku.Y=function(){},ku.ca=function(){},ku=wo.prototype,ku.get=function(e){var t=this;return $().then(function(){return pn(t.a.getItem(e))})},ku.set=function(e,t){var n=this;return $().then(function(){var r=hn(t);null===r?n.P(e):n.a.setItem(e,r)})},ku.P=function(e){var t=this;return $().then(function(){t.a.removeItem(e)})},ku.Y=function(){},ku.ca=function(){};var Oh,Th,Ph={A:yo,Qa:wo},Nh={A:yo,Qa:wo},Ih={A:io,Qa:_o},Ah={A:yo,Qa:_o},Dh={Xc:"local",NONE:"none",Zc:"session"};ku=So.prototype,ku.get=function(e,t){return To(this,e.A).get(Po(e,t))},ku.set=function(e,t,n){var r=Po(e,n),i=this,o=To(this,e.A);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.A&&(i.b[r]=t)})},ku.addListener=function(e,t,n){e=Po(e,t),this.m&&(this.b[e]=xu.localStorage.getItem(e)),L(this.a)&&(To(this,"local").Y(this.f),this.h||(Lt()||!wn())&&xu.indexedDB||!this.m||Ao(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},ku.removeListener=function(e,t,n){e=Po(e,t),this.a[e]&&(P(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),L(this.a)&&(To(this,"local").ca(this.f),Do(this))},ku.Lb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=xu.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Wa(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?To(this,"local").ca(this.f):Do(this),this.o)if(n=xu.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?xu.localStorage.setItem(t,r):xu.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===xu.localStorage.getItem(t)||(o.b[t]=xu.localStorage.getItem(t),o.Wa(t))},il&&fl&&10==fl&&xu.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else Iu(e,f(this.Wa,this))},ku.Wa=function(e){this.a[e]&&Iu(this.a[e],function(e){e()})};var Mh,jh={name:"authEvent",A:"local"};d(Lo,Fo);for(var Rh=64,Fh=Rh-1,Lh=[],Uh=0;Uh<Fh;Uh++)Lh[Uh]=0;var Vh=N(128,Lh);Lo.prototype.reset=function(){this.g=this.c=0,this.a=xu.Int32Array?new Int32Array(this.h):I(this.h)};var Hh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(Ho,Lo);var Bh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];ku=Bo.prototype,ku.ga=function(){return this.za?this.za:this.za=Yt().then(function(){if("function"!=typeof on("universalLinks.subscribe",xu))throw Wo("cordova-universal-links-plugin is not installed");if(void 0===on("BuildInfo.packageName",xu))throw Wo("cordova-plugin-buildinfo is not installed");if("function"!=typeof on("cordova.plugins.browsertab.openUrl",xu))throw Wo("cordova-plugin-browsertab is not installed");if("function"!=typeof on("cordova.InAppBrowser.open",xu))throw Wo("cordova-plugin-inappbrowser is not installed")},function(){throw new Nn("cordova-not-ready")})},ku.Ea=function(e,t){return t(new Nn("operation-not-supported-in-this-environment")),$()},ku.zb=function(){return Q(new Nn("operation-not-supported-in-this-environment"))},ku.Mb=function(){return!1},ku.Ib=function(){return!0},ku.Db=function(){return!0},ku.Ca=function(e,t,n){if(this.c)return Q(new Nn("redirect-operation-pending"));var r=this,i=xu.document,o=null,a=null,s=null,u=null;return this.c=$().then(function(){return br(t),Yo(r)}).then(function(){return Go(r,e,t,n)}).then(function(){return new G(function(e,t){a=function(){var t=on("cordova.plugins.browsertab.close",xu);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),s=function(){o||(o=Be(2e3).then(function(){t(new Nn("redirect-cancelled-by-user"))}))},u=function(){gn()&&s()},i.addEventListener("resume",s,!1),rn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(e){return $o(r).then(function(){throw e})})}).ia(function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ka(a),r.c=null})},ku.va=function(e){this.b.push(e),Yo(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new _r("unknown",null,null,null,new Nn("no-auth-event")),e(t))})},ku.Ka=function(e){P(this.b,function(t){return t==e})};var Wh={name:"pendingRedirect",A:"session"};ta.prototype.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=na(this.v,this.m,this.l)},ta.prototype.subscribe=function(e){if(O(this.h,e)||this.h.push(e),!this.f){var t=this;ea(this.g).then(function(e){e?Zo(t.g).then(function(){ra(t).s(function(e){var n=new _r("unknown",null,null,null,new Nn("operation-not-supported-in-this-environment"));aa(e)&&t.o(n)})}):ia(t)}).s(function(){ia(t)})}},ta.prototype.unsubscribe=function(e){P(this.h,function(t){return t==e})},ta.prototype.o=function(e){if(!e)throw new Nn("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.sb(e.b,e.c)){(t=this.b[e.b])&&t.h(e,r),t=!0;break}}return la(this.c),t};var qh=new yn(2e3,1e4),zh=new yn(3e4,6e4);ta.prototype.fa=function(){return this.c.fa()},ta.prototype.Ca=function(e,t,n){var r,i=this;return Jo(this.g).then(function(){return i.a.Ca(e,t,n).s(function(e){if(aa(e))throw new Nn("operation-not-supported-in-this-environment");return r=e,Zo(i.g).then(function(){throw r})}).then(function(){return i.a.Mb()?new G(function(){}):Zo(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},ta.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},qh.get())};var Gh={};ua.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ua.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,r=e.c,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;"unknown"!=n||i||o?e.a?(pa(this,!0,null,e.a),$()):t.wa(n,r)?ca(this,e,t):Q(new Nn("invalid-auth-event")):(pa(this,!1,null,null),$())}else Q(new Nn("invalid-auth-event"))},ua.prototype.fa=function(){var e=this;return new G(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),da(e))})},va.prototype.h=function(e,t){if(e){var n=e.b,r=e.c;e.a?(t.ha(e.b,null,e.a,e.c),$()):t.wa(n,r)?ma(e,t):Q(new Nn("invalid-auth-event"))}else Q(new Nn("invalid-auth-event"))},ga.prototype.confirm=function(e){return e=yr(this.verificationId,e),this.a(e)},wa.prototype.start=function(){this.a=this.c,Ca(this,!0)},wa.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},xa.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},xa.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Q(new Nn("user-token-expired")):e||!this.b||Ou()>this.c-3e4?this.a?Ta(this,{grant_type:"refresh_token",refresh_token:this.a}):$(null):$({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Pa.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Aa,ge),d(Da,Fe),Da.prototype.oa=function(e){this.ka=e,gi(this.b,e)},Da.prototype.ea=function(){return this.ka},Da.prototype.xa=function(){return I(this.O)},Da.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Cn(Da.prototype,"providerId","firebase"),ku=Da.prototype,ku.reload=function(){var e=this;return ls(this,Ka(this).then(function(){return Za(e).then(function(){return Wa(e)}).then(Ga)}))},ku.ac=function(e){return this.F(e).then(function(e){return new _a(e)})},ku.F=function(e){var t=this;return ls(this,Ka(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Nn("internal-error");return e.accessToken!=t.qa&&(Ha(t,e.accessToken),t.dispatchEvent(new Aa("tokenChanged"))),Xa(t,"refreshToken",e.refreshToken),e.accessToken}))},ku.uc=function(e){if(!(e=e.users)||!e.length)throw new Nn("internal-error");e=e[0],za(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=ns(e),n=0;n<t.length;n++)$a(this,t[n]);Xa(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},ku.cb=function(e){var t=this,n=null;return ls(this,e.f(this.b,this.uid).then(function(e){return es(t,e),n=is(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},ku.vc=function(e){return kn("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.cb(e).then(function(){})},ku.ab=function(e){var t=this,n=null;return ls(this,rs(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.c(t.b,n)}).then(function(e){return n=is(t,e,"link"),os(t,e)}).then(function(){return n}))},ku.mc=function(e){return kn("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.ab(e).then(function(e){return e.user})},ku.nc=function(e,t){var n=this;return ls(this,rs(this,"phone").then(function(){return ba(Fa(n),e,t,f(n.ab,n))}))},ku.wc=function(e,t){var n=this;return ls(this,$().then(function(){return ba(Fa(n),e,t,f(n.cb,n))}),!0)},ku.mb=function(e){var t=this;return ls(this,this.F().then(function(n){return t.b.mb(n,e)}).then(function(e){return es(t,e),t.reload()}))},ku.Pc=function(e){var t=this;return ls(this,this.F().then(function(n){return e.c(t.b,n)}).then(function(e){return es(t,e),t.reload()}))},ku.nb=function(e){var t=this;return ls(this,this.F().then(function(n){return t.b.nb(n,e)}).then(function(e){return es(t,e),t.reload()}))},ku.ob=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ka(this);var t=this;return ls(this,this.F().then(function(n){return t.b.ob(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return es(t,e),Xa(t,"displayName",e.displayName||null),Xa(t,"photoURL",e.photoUrl||null),Iu(t.providerData,function(e){"password"===e.providerId&&(Cn(e,"displayName",t.displayName),Cn(e,"photoURL",t.photoURL))}),Wa(t)}).then(Ga))},ku.Nc=function(e){var t=this;return ls(this,Za(this).then(function(n){return O(Ya(t),e)?Ai(t.b,n,[e]).then(function(e){var n={};return Iu(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),Iu(Ya(t),function(e){n[e]||Qa(t,e)}),n[mr.PROVIDER_ID]||Cn(t,"phoneNumber",null),Wa(t)}):Wa(t).then(function(){throw new Nn("no-such-provider")})}))},ku.delete=function(){var e=this;return ls(this,this.F().then(function(t){return Ui(e.b,Jc,{idToken:t})}).then(function(){e.dispatchEvent(new Aa("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");Ma(e,null),Ra(e,null),e.G=[],e.C=!0,Va(e),Cn(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},ku.sb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},ku.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},ku.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?f(this.xb,this):"reauthViaPopup"==e&&t==(this.g||null)?f(this.yb,this):"linkViaRedirect"==e&&(this.aa||null)==t?f(this.xb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?f(this.yb,this):null},ku.oc=function(e){var t=this;return as(this,"linkViaPopup",e,function(){return rs(t,e.providerId).then(function(){return Wa(t)})},!1)},ku.xc=function(e){return as(this,"reauthViaPopup",e,function(){return $()},!0)},ku.pc=function(e){var t=this;return ss(this,"linkViaRedirect",e,function(){return rs(t,e.providerId)},!1)},ku.yc=function(e){return ss(this,"reauthViaRedirect",e,function(){return $()},!0)},ku.xb=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return ls(this,this.F().then(function(r){return Ri(n.b,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=is(n,e,"link"),os(n,e)}).then(function(){return r}))},ku.yb=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return ls(this,$().then(function(){return Xn(Fi(n.b,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=is(n,e,"reauthenticate"),es(n,e),n.i=null,n.reload()}).then(function(){return r}),!0)},ku.gb=function(e){var t=this,n=null;return ls(this,this.F().then(function(t){return n=t,void 0===e||L(e)?{}:Dn(new An(e))}).then(function(e){return t.b.gb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},ku.toJSON=function(){return this.D()},ku.D=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&V(e,this.metadata.D()),Iu(this.providerData,function(t){e.providerData.push(Sn(t))}),e};var Kh={name:"redirectUser",A:"session"};ys.prototype.g=function(){var e=this,t=_s("local");Es(this,function(){return $().then(function(){return e.c&&"local"!=e.c.A?e.b.get(t,e.a):null}).then(function(n){if(n)return gs(e,"local").then(function(){e.c=t})})})};var Yh={name:"persistence",A:"session"};ys.prototype.jb=function(e){var t=null,n=this;return Eo(e),Es(this,function(){return e!=n.c.A?n.b.get(n.c,n.a).then(function(r){return t=r,gs(n,e)}).then(function(){if(n.c=_s(e),t)return n.b.set(n.c,t,n.a)}):$()})},d(Ss,Fe),d(Os,ge),d(Ts,ge),ku=Ss.prototype,ku.jb=function(e){return e=this.h.jb(e),Ws(this,e)},ku.oa=function(e){this.W===e||this.l||(this.W=e,gi(this.b,this.W),this.dispatchEvent(new Os(this.ea())))},ku.ea=function(){return this.W},ku.Qc=function(){var e=xu.navigator;this.oa(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},ku.qc=function(e){this.G.push(e),bi(this.b,r.a.SDK_VERSION?nn(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Ts(this.G))},ku.xa=function(){return I(this.G)},ku.toJSON=function(){return{apiKey:Ls(this).options.apiKey,authDomain:Ls(this).options.authDomain,appName:Ls(this).name,currentUser:Us(this)&&Us(this).D()}},ku.sb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},ku.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},ku.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?f(this.Xb,this):null},ku.Xb=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ji(n.b,e).then(function(e){return r=gr(e),i=Bn(e),e});return e=n.V.then(function(){return o}).then(function(e){return As(n,e)}).then(function(){return En({user:Us(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),Ws(this,e)},ku.Hc=function(e){if(!sn())return Q(new Nn("operation-not-supported-in-this-environment"));var t=this,n=Hn(e.providerId),i=dn(),o=null;(!cn()||Qt())&&Ls(this).options.authDomain&&e.isOAuthProvider&&(o=to(Ls(this).options.authDomain,Ls(this).options.apiKey,Ls(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null));var a=zt(o,n&&n.Ba,n&&n.Aa);return n=Ns(this).then(function(t){return oa(t,a,"signInViaPopup",e,i,!!o)}).then(function(){return new G(function(e,n){t.ha("signInViaPopup",null,new Nn("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=t.a.Ea(t,"signInViaPopup",a,i)})}).then(function(e){return a&&qt(a),e?En(e):null}).s(function(e){throw a&&qt(a),e}),Ws(this,n)},ku.Ic=function(e){if(!sn())return Q(new Nn("operation-not-supported-in-this-environment"));var t=this;return Ws(this,Ns(this).then(function(){return ws(t.h)}).then(function(){return t.a.Ca("signInViaRedirect",e)}))},ku.fa=function(){if(!sn())return Q(new Nn("operation-not-supported-in-this-environment"));var e=this;return Ws(this,Ns(this).then(function(){return e.a.fa()}).then(function(e){return e?En(e):null}))},ku.Oc=function(e){if(!e)return Q(new Nn("null-user"));var t=this,n={};n.apiKey=Ls(this).options.apiKey,n.authDomain=Ls(this).options.authDomain,n.appName=Ls(this).name;var r=ps(e,n,t.w,t.xa());return Ws(this,this.i.then(function(){if(Ls(t).options.apiKey!=e.l)return r.reload()}).then(function(){return Us(t)&&e.uid==Us(t).uid?(Ja(Us(t),e),t.Z(e)):(Ds(t,r),qa(r),t.Z(r))}).then(function(){Hs(t)}))},ku.kb=function(){var e=this;return Ws(this,this.i.then(function(){return Us(e)?(Ds(e,null),Cs(e.h).then(function(){Hs(e)})):$()}))},ku.Jc=function(){var e=this;return xs(this.h,Ls(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Us(e)&&t){n=Us(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ja(Us(e),t),Us(e).F();(Us(e)||t)&&(Ds(e,t),t&&(qa(t),t.ba=e.w),e.a&&e.a.subscribe(e),Hs(e))}})},ku.Z=function(e){return ks(this.h,e)},ku.Yb=function(){Hs(this),this.Z(Us(this))},ku.gc=function(){this.kb()},ku.hc=function(){this.kb()},ku.ic=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Us(t))})},ku.jc=function(e){var t=this;Bs(this,function(){e.next(Us(t))})},ku.sc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){u(e)?e(Us(i)):u(e.next)&&e.next(Us(i))}),this.Pb(e,t,n)},ku.rc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),u(e)?e(Us(i)):u(e.next)&&e.next(Us(i))}),this.Qb(e,t,n)},ku.$b=function(e){var t=this;return Ws(this,this.i.then(function(){return Us(t)?Us(t).F(e).then(function(e){return{accessToken:e}}):null}))},ku.Jb=function(e){var t=this;return this.i.then(function(){return Fs(t,Ui(t.b,mh,{token:e}))}).then(function(e){var n=e.user;return Xa(n,"isAnonymous",!1),t.Z(n),e})},ku.Bc=function(e){return kn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Jb(e)},ku.Cc=function(e,t){return kn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Kb(e,t)},ku.Kb=function(e,t){var n=this;return this.i.then(function(){return Fs(n,Ui(n.b,yh,{email:e,password:t}))})},ku.ub=function(e,t){var n=this;return this.i.then(function(){return Fs(n,Ui(n.b,Qc,{email:e,password:t}))})},ku.Sb=function(e,t){return kn("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.ub(e,t)},ku.Ec=function(e){return kn("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(e).then(function(e){return e.user})},ku.Oa=function(e){var t=this;return this.i.then(function(){return Fs(t,e.ya(t.b))})},ku.Pa=function(){var e=this;return this.i.then(function(){var t=Us(e);if(t&&t.isAnonymous){return En({user:t,credential:null,additionalUserInfo:En({providerId:null,isNewUser:!1}),operationType:"signIn"})}return Fs(e,e.b.Pa()).then(function(t){var n=t.user;return Xa(n,"isAnonymous",!0),e.Z(n),t})})},ku.Dc=function(){return kn("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},ku.getUid=function(){return Us(this)&&Us(this).uid||null},ku.Rb=function(e){this.addAuthTokenListener(e),0<++this.u&&Us(this)&&Ua(Us(this))},ku.zc=function(e){var t=this;Iu(this.o,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&Us(this)&&Va(Us(this)),this.removeAuthTokenListener(e)},ku.addAuthTokenListener=function(e){var t=this;this.o.push(e),Ws(this,this.i.then(function(){t.l||O(t.o,e)&&e(Vs(t))}))},ku.removeAuthTokenListener=function(e){P(this.o,function(t){return t==e})},ku.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(_s("local"),e.a,this.ka)),this.a&&this.a.unsubscribe(this),r.a.Promise.resolve()},ku.Vb=function(e){return kn("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Ws(this,Si(this.b,e))},ku.Wb=function(e){return Ws(this,Oi(this.b,e))},ku.kc=function(e){return!!pr(e)},ku.ib=function(e,t){var n=this;return Ws(this,$().then(function(){var e=new An(t);if(!e.c)throw new Nn("argument-error",sc+" must be true when sending sign in link to email");return Dn(e)}).then(function(t){return n.b.ib(e,t)}).then(function(){}))},ku.Rc=function(e){return this.Ja(e).then(function(e){return e.data.email})},ku.Xa=function(e,t){return Ws(this,this.b.Xa(e,t).then(function(){}))},ku.Ja=function(e){return Ws(this,this.b.Ja(e).then(function(e){return new Pn(e)}))},ku.Va=function(e){return Ws(this,this.b.Va(e).then(function(){}))},ku.hb=function(e,t){var n=this;return Ws(this,$().then(function(){return void 0===t||L(t)?{}:Dn(new An(t))}).then(function(t){return n.b.hb(e,t)}).then(function(){}))},ku.Gc=function(e,t){return Ws(this,ba(this,e,t,f(this.Oa,this)))},ku.Fc=function(e,t){var n=this;return Ws(this,$().then(function(){var r=fr(e,t||Ut());return n.Oa(r)}))},qs.prototype.render=function(){},qs.prototype.reset=function(){},qs.prototype.getResponse=function(){},qs.prototype.execute=function(){};var $h=null;zs.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ys(e,t),this.b++},zs.prototype.reset=function(e){var t=Gs(this,e);e=Ks(e),t&&e&&(t.delete(),delete this.a[e])},zs.prototype.getResponse=function(e){return(e=Gs(this,e))?e.getResponse():null},zs.prototype.execute=function(e){(e=Gs(this,e))&&e.execute()},Ys.prototype.getResponse=function(){return $s(this),this.b},Ys.prototype.execute=function(){$s(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=en();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},Ys.prototype.delete=function(){$s(this),this.g=!0,clearTimeout(this.a),this.a=null,Pe(this.f,"click",this.i)},Qs.prototype.g=function(){return $h||($h=new zs),$($h)},Qs.prototype.c=function(){};var Qh=null,Xh=yt("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Jh=new yn(3e4,6e4);Xs.prototype.g=function(e){var t=this;return new G(function(n,r){var i=setTimeout(function(){r(new Nn("network-request-failed"))},Jh.get());if(!xu.grecaptcha||e!==t.f&&!t.b){xu[t.a]=function(){if(xu.grecaptcha){t.f=e;var o=xu.grecaptcha.render;xu.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(xu.grecaptcha)}else clearTimeout(i),r(new Nn("internal-error"));delete xu[t.a]};$(hi(_t(Xh,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(i),r(new Nn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(xu.grecaptcha)})},Xs.prototype.c=function(){this.b--};var Zh=null,ef="callback",tf="expired-callback",nf="sitekey",rf="size";ku=Js.prototype,ku.za=function(){var e=this;return this.f?this.f:this.f=tu(this,$().then(function(){if(un()&&!Xt())return Kt();throw new Nn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,Ui(e.u,sh,{})}).then(function(t){e.a[nf]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},ku.render=function(){nu(this);var e=this;return tu(this,this.za().then(function(){if(null===e.c){var t=e.l;if(!e.i){var n=Pt(t);t=It("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},ku.verify=function(){nu(this);var e=this;return tu(this,this.render().then(function(t){return new G(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(eu(e,i),n(t))};e.m.push(i),e.i&&e.g.execute(e.c)}})}))},ku.reset=function(){nu(this),null!==this.c&&this.g.reset(this.c)},ku.clear=function(){nu(this),this.C=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Pt(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}},d(ru,Js);var of="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");yu(Ss.prototype,{Va:{name:"applyActionCode",j:[ou("code")]},Ja:{name:"checkActionCode",j:[ou("code")]},Xa:{name:"confirmPasswordReset",j:[ou("code"),ou("newPassword")]},ub:{name:"createUserWithEmailAndPassword",j:[ou("email"),ou("password")]},Sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[ou("email"),ou("password")]},Vb:{name:"fetchProvidersForEmail",j:[ou("email")]},Wb:{name:"fetchSignInMethodsForEmail",j:[ou("email")]},fa:{name:"getRedirectResult",j:[]},kc:{name:"isSignInWithEmailLink",j:[ou("emailLink")]},rc:{name:"onAuthStateChanged",j:[mu(su(),uu(),"nextOrObserver"),uu("opt_error",!0),uu("opt_completed",!0)]},sc:{name:"onIdTokenChanged",j:[mu(su(),uu(),"nextOrObserver"),uu("opt_error",!0),uu("opt_completed",!0)]},hb:{name:"sendPasswordResetEmail",j:[ou("email"),mu(su("opt_actionCodeSettings",!0),lu(null,!0),"opt_actionCodeSettings",!0)]},ib:{name:"sendSignInLinkToEmail",j:[ou("email"),su("actionCodeSettings")]},jb:{name:"setPersistence",j:[ou("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[pu()]},Pa:{name:"signInAnonymously",j:[]},Dc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Ec:{name:"signInWithCredential",j:[pu()]},Jb:{name:"signInWithCustomToken",j:[ou("token")]},Bc:{name:"signInAndRetrieveDataWithCustomToken",j:[ou("token")]},Kb:{name:"signInWithEmailAndPassword",j:[ou("email"),ou("password")]},Fc:{name:"signInWithEmailLink",j:[ou("email"),ou("emailLink",!0)]},Cc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[ou("email"),ou("password")]},Gc:{name:"signInWithPhoneNumber",j:[ou("phoneNumber"),vu()]},Hc:{name:"signInWithPopup",j:[du()]},Ic:{name:"signInWithRedirect",j:[du()]},Oc:{name:"updateCurrentUser",j:[mu(function(e){return{name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Da)}}}(),lu(),"user")]},kb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ou(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[ou("code")]}}),gu(Ss.prototype,{lc:{name:"languageCode",qb:mu(ou(),lu(),"languageCode")}}),Ss.Persistence=Dh,Ss.Persistence.LOCAL="local",Ss.Persistence.SESSION="session",Ss.Persistence.NONE="none",yu(Da.prototype,{delete:{name:"delete",j:[]},ac:{name:"getIdTokenResult",j:[au("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[au("opt_forceRefresh",!0)]},ab:{name:"linkAndRetrieveDataWithCredential",j:[pu()]},mc:{name:"linkWithCredential",j:[pu()]},nc:{name:"linkWithPhoneNumber",j:[ou("phoneNumber"),vu()]},oc:{name:"linkWithPopup",j:[du()]},pc:{name:"linkWithRedirect",j:[du()]},cb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[pu()]},vc:{name:"reauthenticateWithCredential",j:[pu()]},wc:{name:"reauthenticateWithPhoneNumber",j:[ou("phoneNumber"),vu()]},xc:{name:"reauthenticateWithPopup",j:[du()]},yc:{name:"reauthenticateWithRedirect",j:[du()]},reload:{name:"reload",j:[]},gb:{name:"sendEmailVerification",j:[mu(su("opt_actionCodeSettings",!0),lu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ou(null,!0)]},Nc:{name:"unlink",j:[ou("provider")]},mb:{name:"updateEmail",j:[ou("email")]},nb:{name:"updatePassword",j:[ou("password")]},Pc:{name:"updatePhoneNumber",j:[pu("phone")]},ob:{name:"updateProfile",j:[su("profile")]}}),yu(zs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),yu(qs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),yu(G.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),gu(ya.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",qb:au("appVerificationDisabledForTesting")}}),yu(ga.prototype,{confirm:{name:"confirm",j:[ou("verificationCode")]}}),bu(hr,"credential",function(e,t){return new cr(e,t)},[ou("email"),ou("password")]),yu(nr.prototype,{ta:{name:"addScope",j:[ou("scope")]},Da:{name:"setCustomParameters",j:[su("customOAuthParameters")]}}),bu(nr,"credential",rr,[mu(ou(),su(),"token")]),bu(hr,"credentialWithLink",fr,[ou("email"),ou("emailLink")]),yu(ir.prototype,{ta:{name:"addScope",j:[ou("scope")]},Da:{name:"setCustomParameters",j:[su("customOAuthParameters")]}}),bu(ir,"credential",or,[mu(ou(),su(),"token")]),yu(ar.prototype,{ta:{name:"addScope",j:[ou("scope")]},Da:{name:"setCustomParameters",j:[su("customOAuthParameters")]}}),bu(ar,"credential",sr,[mu(ou(),mu(su(),lu()),"idToken"),mu(ou(),lu(),"accessToken",!0)]),yu(ur.prototype,{Da:{name:"setCustomParameters",j:[su("customOAuthParameters")]}}),bu(ur,"credential",lr,[mu(ou(),su(),"token"),ou("secret",!0)]),yu(tr.prototype,{ta:{name:"addScope",j:[ou("scope")]},credential:{name:"credential",j:[mu(ou(),lu(),"idToken",!0),mu(ou(),lu(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[su("customOAuthParameters")]}}),bu(mr,"credential",yr,[ou("verificationId"),ou("verificationCode")]),yu(mr.prototype,{Ta:{name:"verifyPhoneNumber",j:[ou("phoneNumber"),vu()]}}),yu(Nn.prototype,{toJSON:{name:"toJSON",j:[ou(null,!0)]}}),yu(xr.prototype,{toJSON:{name:"toJSON",j:[ou(null,!0)]}}),yu(Cr.prototype,{toJSON:{name:"toJSON",j:[ou(null,!0)]}}),yu(ru.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Ss,Error:Nn};bu(e,"EmailAuthProvider",hr,[]),bu(e,"FacebookAuthProvider",nr,[]),bu(e,"GithubAuthProvider",ir,[]),bu(e,"GoogleAuthProvider",ar,[]),bu(e,"TwitterAuthProvider",ur,[]),bu(e,"OAuthProvider",tr,[ou("providerId")]),bu(e,"PhoneAuthProvider",mr,[hu()]),bu(e,"RecaptchaVerifier",ru,[mu(ou(),cu(),"recaptchaContainer"),su("recaptchaParameters",!0),fu()]),r.a.INTERNAL.registerService("auth",function(e,t){return e=new Ss(e),t({INTERNAL:{getUid:f(e.getUid,e),getToken:f(e.$b,e),addAuthTokenListener:f(e.Rb,e),removeAuthTokenListener:f(e.zc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.a.INTERNAL.extendNamespace({User:Da})}()}).call(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169);n.n(r)},function(e,t,n){"use strict";(function(r){function i(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}function o(e){var t={};e.startsWith("?")&&(e=e.substring(1));for(var n=0,r=e.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):F("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}function a(e,t){return W(e.name,t.name)}function s(e,t){return W(e,t)}function u(e,t){if(void 0===t&&(t=null),null===e)return $e.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),y.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new Fe(e,u(t))}if(e instanceof Array||!Je){var n=$e.EMPTY_NODE,r=e;return y.forEach(r,function(e,t){if(y.contains(r,e)&&"."!==e.substring(0,1)){var i=u(t);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(u(t))}var i=[],o=!1,l=e;if(y.forEach(l,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=u(l[e]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new Ie(e,n)))}}),0==i.length)return $e.EMPTY_NODE;var c=Ge(i,a,function(e){return e.name},s);if(o){var h=Ge(i,Ue.getCompare());return new $e(c,u(t),new Ye({".priority":h},{".priority":Ue}))}return new $e(c,u(t),Ye.Default)}function l(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return En.getInstance().databaseFromApp(e,n)},{Reference:_n,Query:lt,Database:Sn,enableLogging:A,INTERNAL:Rn,ServerValue:zn,TEST_ACCESS:qn},null,!0);y.isNodeSdk()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0});var c,h,f,p,d,v,m,y=n(86),g=n(170),b=n(171),_=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(51)),w=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),y.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:y.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),k=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return y.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),C=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new w(t)}}catch(e){}return new k},x=C("localStorage"),E=C("sessionStorage"),S=new g.Logger("@firebase/database"),O=function(){var e=1;return function(){return e++}}(),T=function(e){var t=y.stringToByteArray(e),n=new y.Sha1;n.update(t);var r=n.digest();return y.base64.encodeByteArray(r)},P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=P.apply(null,e[r]):"object"==typeof e[r]?n+=y.stringify(e[r]):n+=e[r],n+=" ";return n},N=null,I=!0,A=function(e,t){y.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(S.logLevel=g.LogLevel.VERBOSE,N=S.log.bind(S),t&&E.set("logging_enabled",!0)):"function"==typeof e?N=e:(N=null,E.remove("logging_enabled"))},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===I&&(I=!1,null===N&&!0===E.get("logging_enabled")&&A(!0)),N){var n=P.apply(null,e);N(n)}},M=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];D.apply(void 0,[e].concat(t))}},j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+P.apply(void 0,e);S.error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+P.apply(void 0,e);throw S.error(n),new Error(n)},F=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+P.apply(void 0,e);S.warn(n)},L=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},U=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},V=function(e){if(y.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},H="[MIN_NAME]",B="[MAX_NAME]",W=function(e,t){if(e===t)return 0;if(e===H||t===B)return-1;if(t===H||e===B)return 1;var n=ee(e),r=ee(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},z=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+y.stringify(t))},G=function(e){if("object"!=typeof e||null===e)return y.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=y.stringify(t[i]),r+=":",r+=G(e[t[i]]);return r+="}"},K=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},Y=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else y.forEach(e,function(e,n){return t(n,e)})},$=function(e){y.assert(!U(e),"Invalid JSON number");var t,n,r,i,o,a,s;for(0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(s.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},Q=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},X=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},J=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},Z=new RegExp("^-?\\d{1,10}$"),ee=function(e){if(Z.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},te=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw F("Exception was thrown by user callback.",t),e},Math.floor(0))}},ne=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},re=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},ie=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=W(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),oe=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=y.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=y.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=y.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ae="long_polling",se=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=x.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&x.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){y.assert("string"==typeof e,"typeof type must == string"),y.assert("object"==typeof t,"typeof params must == object");var n;if("websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ae)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return y.forEach(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ue=function(e){var t=le(e),n=t.subdomain;"firebase"===t.domain&&R(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||L();var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new se(t.host,t.secure,n,r),path:new ie(t.pathString)}},le=function(e){var t="",n="",r="",a="",s=!0,u="https",l=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(a=i(e.substring(h,f)));var p=o(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=e.length;var d=t.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,c).toLowerCase()&&(n="localhost"),""===r&&"ns"in p&&(r=p.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:a}},ce=/[\[\].#$\/\u0000-\u001F\u007F]/,he=/[\[\].#$\u0000-\u001F\u007F]/,fe=function(e){return"string"==typeof e&&0!==e.length&&!ce.test(e)},pe=function(e){return"string"==typeof e&&0!==e.length&&!he.test(e)},de=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pe(e)},ve=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!U(e)||e&&"object"==typeof e&&y.contains(e,".sv")},me=function(e,t,n,r,i){i&&void 0===n||ye(y.errorPrefix(e,t,i),n,r)},ye=function(e,t,n){var r=n instanceof ie?new oe(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(U(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&y.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(y.forEach(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!fe(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),ye(e,n,r),r.pop()}),i&&o)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ge=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!fe(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ie.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},be=function(e,t,n,r,i){if(!i||void 0!==n){var o=y.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];y.forEach(n,function(e,t){var n=new ie(e);if(ye(o,t,r.child(n)),".priority"===n.getBack()&&!ve(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),ge(o,a)}},_e=function(e,t,n,r){if(!r||void 0!==n){if(U(n))throw new Error(y.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ve(n))throw new Error(y.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},we=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(y.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ke=function(e,t,n,r){if(!(r&&void 0===n||fe(n)))throw new Error(y.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ce=function(e,t,n,r){if(!(r&&void 0===n||pe(n)))throw new Error(y.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ce(e,t,n,r)},Ee=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},Se=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!fe(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!de(r))throw new Error(y.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Oe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(y.errorPrefix(e,t,r)+"must be a boolean.")},Te=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){y.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),y.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new y.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){y.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ee("OnDisconnect.remove",this.path_),y.validateCallback("OnDisconnect.remove",1,e,!0);var t=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){y.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ee("OnDisconnect.set",this.path_),me("OnDisconnect.set",1,e,this.path_,!1),y.validateCallback("OnDisconnect.set",2,t,!0);var n=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){y.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ee("OnDisconnect.setWithPriority",this.path_),me("OnDisconnect.setWithPriority",1,e,this.path_,!1),_e("OnDisconnect.setWithPriority",2,t,!1),y.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new y.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(y.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ee("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,F("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}be("OnDisconnect.update",1,e,this.path_,!1),y.validateCallback("OnDisconnect.update",2,t,!0);var i=new y.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),Pe=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return y.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ne=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i=r===t;t=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=e.charAt(r%64),r=Math.floor(r/64);y.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=e.charAt(n[o]);return y.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),Ie=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ae=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ie(H,e),r=new Ie(H,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ie.MIN},e}(),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return c},set:function(e){c=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return W(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw y.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(B,c)},t.prototype.makePost=function(e,t){return y.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,c)},t.prototype.toString=function(){return".key"},t}(Ae),Me=new De,je=function(e){return"number"==typeof e?"number:"+$(e):"string:"+e},Re=function(e){if(e.isLeafNode()){var t=e.val();y.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&y.contains(t,".sv"),"Priority must be a string or number.")}else y.assert(e===h||e.isEmpty(),"priority of unexpected type.");y.assert(e===h||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Fe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,y.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Re(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(y.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+je(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?$(this.value_):this.value_,this.lazyHash_=T(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(y.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return y.assert(i>=0,"Unknown leaf type: "+n),y.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?W(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(B,new Fe("[PRIORITY-POST]",d))},t.prototype.makePost=function(e,t){var n=p(e);return new Ie(t,new Fe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ae),Ue=new Le,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),He=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:We.EMPTY_NODE,this.right=null!=o?o:We.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return We.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new He(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),We=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,He.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}(),qe=Math.log(2),ze=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/qe,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ge=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0==s)return null;if(1==s)return o=e[t],a=n?n(o):o,new He(a,o.node,He.BLACK,null,null);var u=parseInt(s/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],a=n?n(o):o,new He(a,o.node,He.BLACK,l,c)},o=new ze(e.length),a=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],h=n?n(c):c;u(new He(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,He.BLACK):(s(h,He.BLACK),s(h,He.RED))}return o}(o);return new We(r||t,a)},Ke={},Ye=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return y.assert(Ke&&Ue,"ChildrenNode.ts has not been loaded"),v=v||new e({".priority":Ke},{".priority":Ue})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=y.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===Ke?null:t},e.prototype.hasIndex=function(e){return y.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){y.assert(t!==Me,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ie.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?Ge(r,t.getCompare()):Ke;var u=t.toString(),l=y.clone(this.indexSet_);l[u]=t;var c=y.clone(this.indexes_);return c[u]=s,new e(c,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(y.map(this.indexes_,function(e,i){var o=y.safeGet(r.indexSet_,i);if(y.assert(o,"Missing index implementation for "+i),e===Ke){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(Ie.Wrap),u=s.getNext();u;)u.name!=t.name&&a.push(u),u=s.getNext();return a.push(t),Ge(a,o.getCompare())}return Ke}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ie(t.name,l))),c.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(y.map(this.indexes_,function(e){if(e===Ke)return e;var r=n.get(t.name);return r?e.remove(new Ie(t.name,r)):e}),this.indexSet_)},e}(),$e=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Re(this.priorityNode_),this.children_.isEmpty()&&y.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return m||(m=new e(new We(s),null,Ye.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||m},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?m:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(y.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ie(t,n),i=void 0,o=void 0,a=void 0;return n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_)),a=i.isEmpty()?m:this.priorityNode_,new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;y.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ue,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+je(this.getPriority().val())+":"),this.forEachChild(Ue,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":T(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ie(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xe?-1:0},e.prototype.withIndex=function(t){if(t===Me||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Me||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ue),r=t.getIterator(Ue),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Me?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Qe=function(e){function t(){return e.call(this,new We(s),$e.EMPTY_NODE,Ye.Default)||this}return b.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return $e.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}($e),Xe=new Qe;Object.defineProperties(Ie,{MIN:{value:new Ie(H,$e.EMPTY_NODE)},MAX:{value:new Ie(B,Xe)}}),De.__EMPTY_NODE=$e.EMPTY_NODE,Fe.__childrenNodeConstructor=$e,function(e){h=e}(Xe),function(e){d=e}(Xe);var Je=!0;!function(e){p=e}(u);var Ze,et,tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?W(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(e,t){var n=u(e);return new Ie(t,n)},t.prototype.toString=function(){return".value"},t}(Ae),nt=new tt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,y.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return b.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?W(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=u(e),r=$e.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)},t.prototype.maxPost=function(){var e=$e.EMPTY_NODE.updateChild(this.indexPath_,Xe);return new Ie(B,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Ae),it=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return y.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return y.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return y.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return y.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){y.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),Ce("DataSnapshot.child",1,t,!1);var n=new ie(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ue)},e.prototype.hasChild=function(e){y.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ce("DataSnapshot.hasChild",1,e,!1);var t=new ie(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return y.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return y.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),y.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),Ue))})},e.prototype.hasChildren=function(){return y.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return y.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return y.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),ot=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+y.stringify(this.snapshot.exportVal())},e}(),at=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),st=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new ot("value",this,new it(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new at(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),ut=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,y.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new at(this,e,t):null},e.prototype.createEvent=function(e,t){y.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new ot(e.type,this,new it(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=y.getCount(t.callbacks_);if(n===y.getCount(this.callbacks_)){if(1===n){var r=y.getAnyKey(t.callbacks_),i=y.getAnyKey(this.callbacks_);return!(i!==r||t.callbacks_[r]&&this.callbacks_[i]&&t.callbacks_[r]!==this.callbacks_[i])}return y.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),lt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return y.assert(Ze,"Reference.ts has not been loaded"),Ze},set:function(e){Ze=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Me){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=H)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=B)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ue){if(null!=t&&!ve(t)||null!=n&&!ve(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(y.assert(e.getIndex()instanceof rt||e.getIndex()===nt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return y.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){y.validateArgCount("Query.on",2,4,arguments.length),we("Query.on",1,t,!1),y.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new st(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new ut(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){y.validateArgCount("Query.off",0,3,arguments.length),we("Query.off",1,e,!0),y.validateCallback("Query.off",2,t,!0),y.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){r=new st(t||null,null,n||null)}else e&&(t&&(i={},i[e]=t),r=new ut(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;y.validateArgCount("Query.once",1,4,arguments.length),we("Query.once",1,t,!1),y.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new y.Deferred;u.promise.catch(function(){});var l=function(e){s&&(s=!1,o.off(t,l),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,l,function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(y.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(y.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(y.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ce("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ie(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new rt(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){y.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Me);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){y.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Ue);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){y.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(nt);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),y.validateArgCount("Query.startAt",0,2,arguments.length),me("Query.startAt",1,t,this.path,!0),ke("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),y.validateArgCount("Query.endAt",0,2,arguments.length),me("Query.endAt",1,t,this.path,!0),ke("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(y.validateArgCount("Query.equalTo",1,2,arguments.length),me("Query.equalTo",1,e,this.path,!1),ke("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return y.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return y.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=G(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(y.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,y.validateCallback(e,3,r.cancel,!0),r.context=n,y.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(y.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),ct=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return y.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return y.isEmpty(this.set)},e.prototype.count=function(){return y.getCount(this.set)},e.prototype.each=function(e){y.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return y.forEach(this.set,function(t){e.push(t)}),e},e}(),ht=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){return this.children_.get(t).find(e)}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new ct);var r=t.getFront();this.children_.contains(r)||this.children_.add(r,new e);var i=this.children_.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Ue,function(e,t){n.remember(new ie(e),t)}),this.forget(e)}if(null!==this.children_){var r=e.getFront();if(e=e.popFront(),this.children_.contains(r)){this.children_.get(r).forget(e)&&this.children_.remove(r)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,r){var i=new ie(e.toString()+"/"+n);r.forEachTree(i,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),ft=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},pt=function(e,t){return e&&"object"==typeof e?(y.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},dt=function(e,t){var n=new ht;return e.forEachTree(new ie(""),function(e,r){n.remember(e,vt(r,t))}),n},vt=function(e,t){var n,r=e.getPriority().val(),i=pt(r,t);if(e.isLeafNode()){var o=e,a=pt(o.getValue(),t);return a!==o.getValue()||i!==o.getPriority().val()?new Fe(a,u(i)):e}var s=e;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new Fe(i))),s.forEachChild(Ue,function(e,r){var i=vt(r,t);i!==r&&(n=n.updateImmediateChild(e,i))}),n};!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(et||(et={}));var mt,yt,gt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,y.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=et.ACK_USER_WRITE,this.source=gt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return y.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ie(t));return new e(ie.Empty,n,this.revert)}return y.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),_t=function(){return mt||(mt=new We(q)),mt},wt=function(){function e(e,t){void 0===t&&(t=_t()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return y.forEach(t,function(e,t){n=n.set(new ie(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ie.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=i){return{path:new ie(n).child(i.path),value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.set(t.popFront(),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.setTree(t.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(ie.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ie.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ie.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(ie.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),kt=function(){function e(e,t){this.source=e,this.path=t,this.type=et.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,ie.Empty):new e(this.source,this.path.popFront())},e}(),Ct=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=et.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,ie.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),xt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=et.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new Ct(this.source,ie.Empty,n.value):new e(this.source,ie.Empty,n)}return y.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Et=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),St=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Et(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Et(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Et($e.EMPTY_NODE,!1,!1),new Et($e.EMPTY_NODE,!1,!1)),e}(),Ot=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),Tt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){y.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ot.childRemovedChange(t,a)):y.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ot.childAddedChange(t,n)):o.trackChildChange(Ot.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ue,function(e,r){t.hasChild(e)||n.trackChildChange(Ot.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(Ue,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ot.childChangedChange(t,r,i))}else n.trackChildChange(Ot.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?$e.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Pt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;y.assert(t==Ot.CHILD_ADDED||t==Ot.CHILD_CHANGED||t==Ot.CHILD_REMOVED,"Only child changes supported for tracking"),y.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=y.safeGet(this.changeMap_,n);if(r){var i=r.type;if(t==Ot.CHILD_ADDED&&i==Ot.CHILD_REMOVED)this.changeMap_[n]=Ot.childChangedChange(n,e.snapshotNode,r.snapshotNode);else if(t==Ot.CHILD_REMOVED&&i==Ot.CHILD_ADDED)delete this.changeMap_[n];else if(t==Ot.CHILD_REMOVED&&i==Ot.CHILD_CHANGED)this.changeMap_[n]=Ot.childRemovedChange(n,r.oldSnap);else if(t==Ot.CHILD_CHANGED&&i==Ot.CHILD_ADDED)this.changeMap_[n]=Ot.childAddedChange(n,e.snapshotNode);else{if(t!=Ot.CHILD_CHANGED||i!=Ot.CHILD_CHANGED)throw y.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap_[n]=Ot.childChangedChange(n,e.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return y.getValues(this.changeMap_)},e}(),Nt=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),It=new Nt,At=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Et(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Dt=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}(),Mt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){y.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),y.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,s=new Pt;if(n.type===et.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(t,u.path,u.snap,r,i,s):(y.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(t,u.path,u.snap,r,i,a,s))}else if(n.type===et.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,s):(y.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,a,s))}else if(n.type===et.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(t,c.path,r,i,s):this.ackUserWrite_(t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==et.LISTEN_COMPLETE)throw y.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,s)}var h=s.getChanges();return e.maybeAddValueEvent_(t,o,h),new Dt(o,h)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ot.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,s=void 0;if(t.isEmpty())if(y.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),l=u instanceof $e?u:$e.EMPTY_NODE,c=n.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(e.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var f=t.getFront();if(".priority"==f){y.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=e.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(t,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=t.popFront(),m=void 0;if(o.isCompleteForChild(f)){s=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),s);m=null!=g?o.getNode().getImmediateChild(f).updateChild(v,g):o.getNode().getImmediateChild(f)}else m=n.calcCompleteChild(f,e.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),f,m,v,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(t,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),p=u.getNode().getImmediateChild(h),d=p.updateChild(f,n);s=".priority"==h?l.updatePriority(u.getNode(),d):l.updateChild(u.getNode(),h,d,f,It,null)}var v=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),l.filtersNodes()),m=new At(r,v,i);return this.generateEventCacheAfterServerEvent_(v,t,r,m,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),l=new At(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var d=l.getCompleteChild(c);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):$e.EMPTY_NODE}if(f.equals(p))a=e;else{var v=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,l=e;u=t.isEmpty()?n:wt.Empty.setTree(t,n);var c=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(c.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new ie(t),h,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new ie(t),f,r,i,o,a)}}),l},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=wt.Empty;return s.getNode().forEachChild(Me,function(e,t){u=u.set(new ie(e),t)}),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var l=wt.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,l,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,It,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new At(n,e,r),s=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var c=e.getServerCache().getNode();y.assert(c instanceof $e,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(c)}l=l,u=this.filter_.updateFullNode(s,l,i)}else{var h=t.getFront(),f=n.calcCompleteChild(h,e.getServerCache());null==f&&e.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),u=null!=f?this.filter_.updateChild(s,h,f,t.popFront(),a,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,$e.EMPTY_NODE,t.popFront(),a,i):s,u.isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(ie.Empty),e.updateEventSnap(u,o,this.filter_.filtersNodes())},e}(),jt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach(function(e){e.type===Ot.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Ot.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,Ot.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,Ot.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,Ot.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,Ot.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,Ot.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw y.assertionError("Should only compare child_ events.");var n=new Ie(e.childName,e.snapshotNode),r=new Ie(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Rt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Tt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Mt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode($e.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode($e.EMPTY_NODE,a.getNode(),null),l=new Et(s,o.isFullyInitialized(),r.filtersNodes()),c=new Et(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new St(c,l),this.eventGenerator_=new jt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){y.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===et.MERGE&&null!==e.source.queryId&&(y.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),y.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),y.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){t.getNode().forEachChild(Ue,function(e,t){n.push(Ot.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(Ot.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Ft=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return y.assert(yt,"Reference.ts has not been loaded"),yt},set:function(e){y.assert(!yt,"__referenceConstructor has already been defined"),yt=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return y.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=y.safeGet(this.views_,r);return y.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var o=[];return y.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(e,t,n))}),o},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=y.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof $e?(s=n.calcCompleteEventChildren(r),u=!1):(s=$e.EMPTY_NODE,u=!1);var l=new St(new Et(s,u,!1),new Et(r,i,!1));a=new Rt(e,l),this.views_[o]=a}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i=t.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;y.forEach(this.views_,function(e,t){a=a.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete u.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var l=y.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:a}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return y.forEach(this.views_,function(n,r){t=t||r.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return y.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return y.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}(),Lt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new wt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ie.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new wt(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return y.forEach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,wt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(ie.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ue,function(t,n){e.push(new Ie(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Ie(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new wt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(ie.Empty,this.writeTree_,t)},e.Empty=new e(new wt(null)),e.applySubtreeWrite_=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(y.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e.applySubtreeWrite_(t.child(n),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r},e}(),Ut=function(){function e(){this.visibleWrites_=Lt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Vt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){y.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){y.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});y.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;y.forEach(u,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(ie.Empty)){var a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},s=e.layerTree_(this.allWrites_,a,t),u=n||$e.EMPTY_NODE;return s.apply(u)}return null}var l=this.visibleWrites_.getCompleteNode(t);if(null!=l)return l;var c=this.visibleWrites_.childCompoundWrite(t);if(c.isEmpty())return n;if(null!=n||c.hasCompleteWrite(ie.Empty)){var u=n||$e.EMPTY_NODE;return c.apply(u)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=$e.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Ue,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Ue,function(e,t){var r=i.childCompoundWrite(new ie(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){y.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(t)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(ie.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!y.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,ie.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Lt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=ie.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=ie.relativePath(a,n),r=r.addWrite(ie.Empty,o.snap.getChild(s)));else{if(!o.children)throw y.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=ie.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=ie.relativePath(a,n),s.isEmpty())r=r.addWrites(ie.Empty,o.children);else{var u=y.safeGet(o.children,s.getFront());if(u){var l=u.getChild(s.popFront());r=r.addWrite(ie.Empty,l)}}}}}return r},e}(),Vt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Ht=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=wt.Empty,this.pendingWriteTree_=new Ut,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new Ct(gt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=wt.fromObject(t);return this.applyOperationToSyncPoints_(new xt(gt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=wt.Empty;return null!=n.snap?r=r.set(ie.Empty,!0):y.forEach(n.children,function(e,t){r=r.set(new ie(e),t)}),this.applyOperationToSyncPoints_(new bt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Ct(gt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=wt.fromObject(t);return this.applyOperationToSyncPoints_(new xt(gt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new kt(gt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=ie.relativePath(a,t),l=new Ct(gt.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=ie.relativePath(a,t),l=wt.fromObject(n),c=new xt(gt.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=ie.relativePath(o,t),u=new kt(gt.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=ie.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(ie.Empty)):(a=new Ft,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;if(null!=i)s=!0;else{s=!1,i=$e.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(ie.Empty);n&&(i=i.updateImmediateChild(e,n))})}var u=a.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);y.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var c=e.getNextQueryTag_();this.queryToTagMap_[l]=c,this.tagToQueryMap_["_"+c]=l}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(t,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(t);f=f.concat(this.setupListener_(t,p))}return f},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],m=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}if(!h&&l.length>0&&!r)if(c){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else l.forEach(function(t){var n=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(l)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=ie.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){return[t.getCompleteView()]}var r=[];return t&&(r=t.getQueryViews()),y.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)y.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),y.forEach(n,function(e,t){r=r.concat(t)}),r}),l=0;l<u.length;++l){var c=u[l];this.listenProvider_.stopListening(e.queryForListening_(c),this.tagForQuery_(c))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||$e.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=J(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return y.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return y.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);y.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ie.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(ie.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(ie.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(ie.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(ie.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),l=e.operationForChild(t);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Bt=function(){function e(){this.rootNode_=$e.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Wt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(D("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(e)},e}(),qt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),y.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return y.deepCopy(this.counters_)},e}(),zt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new qt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Gt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=y.clone(e);return this.last_&&y.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Kt=1e4,Yt=3e4,$t=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gt(e);var n=Kt+(Yt-Kt)*Math.random();re(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;y.forEach(t,function(t,i){i>0&&y.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),re(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Qt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Xt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Xt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();N&&D("event: "+t.toString()),te(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Jt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},y.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){y.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),Zt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return b.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return y.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Jt),en=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||y.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return b.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return y.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Jt),tn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&te(function(){n.onMessage_(e[t])})}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},e}(),nn="pLPCommand",rn="pRTLPCB",on=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=M(e),this.stats_=zt.getCollection(t),this.urlFn=function(e){return t.connectionURL(ae,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new tn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),V(function(){if(!n.isClosed_){n.scriptTagHolder=new an(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1],o=e[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var e={};e.start="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!Q()&&!X()&&!y.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=y.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=y.base64Encode(t),r=K(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!y.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=y.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),an=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new ct,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,y.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=O(),window[nn+this.uniqueCallbackIdentifier]=t,window[rn+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){D("frame writing exception"),e.stack&&D(e.stack),D(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||D("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),y.isNodeSdk()&&this.myID){var n={};n.disconn="t",n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);e.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;y.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){D("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),sn=null;"undefined"!=typeof MozWebSocket?sn=MozWebSocket:"undefined"!=typeof WebSocket&&(sn=WebSocket);var un=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=M(this.connId),this.stats_=zt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={};return r.v="5",!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,x.set("previous_websocket_failure",!0);try{if(y.isNodeSdk()){var i=y.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+_.SDK_VERSION+"/"+r.platform+"/"+i}},a=Object({NODE_ENV:"production"}),s=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new sn(this.connURL,[],o)}else this.mySock=new sn(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==sn&&!e.forceDisallow_},e.previouslyFailed=function(){return x.isInMemoryStorage||!0===x.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){x.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=y.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(y.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=y.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=K(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ln=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[on,un]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=un&&un.isAvailable(),r=n&&!un.previouslyFailed();if(t.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{var i=this.transports_=[];Y(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&i.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),cn=function(){function e(e,t,n,r,i,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=M("c:"+this.id+":"),this.transportManager_=new ln(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=re(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=z("t",e),n=z("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=z("t",e),n=z("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},e.prototype.onControl_=function(e){var t=z("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?j("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),re(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):re(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(x.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),hn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fn=1e3,pn=3e5,dn=function(e){function t(n,r,i,o,a,s){var u=e.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=t.nextPersistentConnectionId_++,u.log_=M("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=fn,u.maxReconnectDelay_=pn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Zt.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&en.getInstance().on("online",u.onOnline_,u),u}return b.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(y.stringify(i)),y.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},y.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),y.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&y.contains(e,"w")){var n=y.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();F("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||y.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=y.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),y.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+y.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):j("Unrecognized action received from server: "+y.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;y.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=fn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,r())},c=function(e){y.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)};this.realtime_={close:l,sendRequest:c};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(t){s?D("getToken() completed but was canceled"):(D("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,u=new cn(i,o.repoInfo_,e,n,r,function(e){F(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(e){o.log_("Failed to get token: "+e),s||(y.CONSTANTS.NODE_ADMIN&&F(e),l())})}},t.prototype.interrupt=function(e){D("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){D("Resuming connection for reason: "+e),delete this.interruptReasons_[e],y.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=fn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return G(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ie(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===y.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){D("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),y.forEach(this.listens_,function(t,n){y.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";y.CONSTANTS.NODE_ADMIN?t="admin_node":y.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+_.SDK_VERSION.replace(/\./g,"-")]=1,y.isMobileCordova()?e["framework.cordova"]=1:y.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=en.getInstance().currentlyOnline();return y.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(hn),vn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=M("p:rest:"),i.listens_={},i}return b.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(y.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),y.safeGet(o.listens_,s)===u){var l;l=e?401==e?"permission_denied":"rest_error:"+e:"ok",i(l,null)}})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?"+y.querystring(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(s.status>=200&&s.status<300){try{e=y.jsonEval(s.responseText)}catch(e){F("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&F("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},t}(hn),mn=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ht,this.persistentConnection_=null;var i=new Wt(n);if(this.stats_=zt.getCollection(e),t||ne())this.server_=new vn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{y.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new dn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(e){r.server_.refreshAuthToken(e)}),this.statsReporter_=zt.getOrCreateReporter(e,function(){return new $t(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Bt,this.infoSyncTree_=new Ht({startListening:function(e,t,n,i){var o=[],a=r.infoData_.getNode(e.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ht({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,function(t,n){var o=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new ie(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return ft({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new ie(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=y.map(t,function(e){return u(e)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=u(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var l=y.map(t,function(e){return u(e)});o=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=u(t);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;Y(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new ie("/.info/"+e),r=u(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=u(t,n),s=vt(a,o),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,s,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),a.val(!0),function(t,n){var o="ok"===t;o||F("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)});var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(y.forEach(t,function(e,t){i=!1;var n=u(t);a[e]=vt(n,o)}),i)D("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||F("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,t,i)}),y.forEach(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=dt(this.onDisconnect_,t),r=[];n.forEachTree(ie.Empty,function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new ht,this.eventQueue_.raiseEventsForChangedPath(ie.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=u(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=u(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(y.isEmpty(t))return D("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(i,o){"ok"===i&&y.forEach(t,function(t,n){var i=u(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,i,o)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Gt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);y.forEach(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),D.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&te(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Sn(this))},enumerable:!0,configurable:!0}),e}(),yn=function(){function e(t){this.indexedFilter_=new Tt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ie(t,n))||(n=$e.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=$e.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority($e.EMPTY_NODE);var i=this;return t.forEachChild(Ue,function(e,t){i.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,$e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),gn=function(){function e(e){this.rangedFilter_=new yn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ie(t,n))||(n=$e.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=$e.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=$e.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority($e.EMPTY_NODE);var u=void 0,l=void 0,c=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var o=0,f=!1;i.hasNext();){var a=i.getNext();!f&&c(u,a)<=0&&(f=!0);var s=f&&o<this.limit_&&c(a,l)<=0;s?o++:r=r.updateImmediateChild(a.name,$e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;y.assert(s.numChildren()==this.limit_,"");var u=new Ie(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name==t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(c&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ot.childChangedChange(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ot.childRemovedChange(t,h));var d=s.updateImmediateChild(t,$e.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Ot.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(Ot.childRemovedChange(l.name,l.node)),i.trackChildChange(Ot.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,$e.EMPTY_NODE)):e},e}(),bn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:H},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:B},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return y.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Ue&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ue},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new Tt(this.getIndex()):this.hasLimit()?new gn(this):new yn(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Ue?r=t.PRIORITY_INDEX:this.index_===nt?r=t.VALUE_INDEX:this.index_===Me?r=t.KEY_INDEX:(y.assert(this.index_ instanceof rt,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=y.stringify(r),this.startSet_&&(n[t.START_AT]=y.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+y.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=y.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+y.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),_n=function(e){function t(t,n){if(!(t instanceof mn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,bn.DEFAULT,!1)||this}return b.__extends(t,e),t.prototype.getKey=function(){return y.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return y.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof ie||(null===this.path.getFront()?xe("Reference.child",1,e,!1):Ce("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){y.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){y.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){y.validateArgCount("Reference.set",1,2,arguments.length),Ee("Reference.set",this.path),me("Reference.set",1,e,this.path,!1),y.validateCallback("Reference.set",2,t,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(y.validateArgCount("Reference.update",1,2,arguments.length),Ee("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,F("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}be("Reference.update",1,e,this.path,!1),y.validateCallback("Reference.update",2,t,!0);var i=new y.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(y.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ee("Reference.setWithPriority",this.path),me("Reference.setWithPriority",1,e,this.path,!1),_e("Reference.setWithPriority",2,t,!1),y.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new y.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return y.validateArgCount("Reference.remove",0,1,arguments.length),Ee("Reference.remove",this.path),y.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(y.validateArgCount("Reference.transaction",1,3,arguments.length),Ee("Reference.transaction",this.path),y.validateCallback("Reference.transaction",1,e,!1),y.validateCallback("Reference.transaction",2,t,!0),Oe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new y.Deferred;"function"==typeof t&&r.promise.catch(function(){});var i=function(e,n,i){e?r.reject(e):r.resolve(new Pe(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){y.validateArgCount("Reference.setPriority",1,2,arguments.length),Ee("Reference.setPriority",this.path),_e("Reference.setPriority",1,e,!1),y.validateCallback("Reference.setPriority",2,t,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){y.validateArgCount("Reference.push",0,2,arguments.length),Ee("Reference.push",this.path),me("Reference.push",1,e,this.path,!0),y.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Ne(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return Ee("Reference.onDisconnect",this.path),new Te(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(lt);lt.__referenceConstructor=_n,Ft.__referenceConstructor=_n;var wn,kn=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),Cn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new kn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof ie?t:new ie(t),i=this;null!==(n=r.getFront());){i=new e(n,i,y.safeGet(i.node_.children,n)||new kn),r=r.popFront()}return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){y.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;y.forEach(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new ie(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=y.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(wn||(wn={})),mn.MAX_TRANSACTION_RETRIES_=25,mn.prototype.transactions_init_=function(){this.transactionQueueTree_=new Cn},mn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new _n(this,e);o.on("value",i);var a=function(){o.off("value",i)},s={path:e,update:t,onComplete:n,status:null,order:O(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(e);s.currentInputSnapshot=l;var c=s.update(l.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var h=new it(s.currentInputSnapshot,new _n(this,s.path),Ue);s.onComplete(null,!1,h)}}else{ye("transaction failed: Data returned ",c,s.path),s.status=wn.RUN;var f=this.transactionQueueTree_.subTree(e),p=f.getValue()||[];p.push(s),f.setValue(p);var d=void 0;if("object"==typeof c&&null!==c&&y.contains(c,".priority"))d=y.safeGet(c,".priority"),y.assert(ve(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{d=(this.serverSyncTree_.calcCompleteEventCache(e)||$e.EMPTY_NODE).getPriority().val()}d=d;var v=this.generateServerValues(),m=u(c,d),g=vt(m,v);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(e,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,b),this.sendReadyTransactions_()}},mn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||$e.EMPTY_NODE},mn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);y.assert(n.length>0,"Sending zero length transaction queue");n.every(function(e){return e.status===wn.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},mn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),i=this.getLatestState_(e,r),o=i,a=i.hash(),s=0;s<t.length;s++){var u=t[s];y.assert(u.status===wn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=wn.SENT,u.retryCount++;var l=ie.relativePath(e,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=e;this.server_.put(h.toString(),c,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=wn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new _n(n,t[a].path),l=new it(s,u,Ue);o.push(t[a].onComplete.bind(null,null,!0,l))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(var a=0;a<o.length;a++)te(o[a])}else{if("datastale"===r)for(var a=0;a<t.length;a++)t[a].status===wn.SENT_NEEDS_ABORT?t[a].status=wn.NEEDS_ABORT:t[a].status=wn.RUN;else{F("transaction at "+h.toString()+" failed: "+r);for(var a=0;a<t.length;a++)t[a].status=wn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}},a)},mn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},mn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter(function(e){return e.status===wn.RUN}),o=i.map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var s=e[a],l=ie.relativePath(t,s.path),c=!1,h=void 0;if(y.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===wn.NEEDS_ABORT)c=!0,h=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===wn.RUN)if(s.retryCount>=mn.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,o);s.currentInputSnapshot=f;var p=e[a].update(f.val());if(void 0!==p){ye("transaction failed: Data returned ",p,s.path);var d=u(p),v="object"==typeof p&&null!=p&&y.contains(p,".priority");v||(d=d.updatePriority(f.getPriority()));var m=s.currentWriteId,g=this.generateServerValues(),b=vt(d,g);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=b,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(m),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,b,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else c=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],c&&(e[a].status=wn.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===h){var _=new _n(this,e[a].path),w=e[a].currentInputSnapshot,k=new it(w,_,Ue);n.push(e[a].onComplete.bind(null,null,!1,k))}else n.push(e[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)te(n[a]);this.sendReadyTransactions_()}},mn.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},mn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},mn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},mn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==wn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},mn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},mn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)if(t[o].status===wn.SENT_NEEDS_ABORT);else if(t[o].status===wn.SENT)y.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=wn.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(y.assert(t[o].status===wn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(var o=0;o<n.length;o++)te(n[o])}};var xn,En=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return xn||(xn=new e),xn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&R("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=ue(n),i=r.repoInfo;return Se("Invalid Firebase Database URL",1,r),r.path.isEmpty()||R("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=y.safeGet(this.repos_,e.app.name);t&&y.safeGet(t,e.repoInfo_.toURLString())===e||R("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=y.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=y.safeGet(n,e.toURLString());return r&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new mn(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),Sn=function(){function e(e){this.repo_=e,e instanceof mn||R("Don't call new Database() directly - please use firebase.database()."),this.root_=new _n(e,ie.Empty),this.INTERNAL=new On(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),y.validateArgCount("database.ref",0,1,arguments.length),e instanceof _n?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),y.validateArgCount(t,1,1,arguments.length);var n=ue(e);Se(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&R(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&R("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){y.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){y.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),On=function(){function e(e){this.database=e}return e.prototype.delete=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(e){return this.database.checkDeleted_("delete"),En.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),Tn=function(){un.forceDisallow(),on.forceAllow()},Pn=function(){on.forceDisallow()},Nn=function(){return un.isAvailable()},In=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},An=function(e,t){e.repo.stats(t)},Dn=function(e,t){e.repo.statsIncrementCounter(t)},Mn=function(e){return e.repo.dataUpdateCount},jn=function(e,t){return e.repo.interceptServerData_(t)},Rn=Object.freeze({forceLongPolling:Tn,forceWebSockets:Pn,isWebSocketsAvailable:Nn,setSecurityDebugCallback:In,stats:An,statsIncrementCounter:Dn,dataUpdateCount:Mn,interceptServerData:jn}),Fn=dn;dn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},dn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ln=cn,Un=function(e){var t=dn.prototype.put;return dn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){dn.prototype.put=t}},Vn=se,Hn=function(e){return e.queryIdentifier()},Bn=function(e){return e.repo.persistentConnection_.listens_},Wn=function(e){En.getInstance().forceRestClient(e)},qn=Object.freeze({DataConnection:Fn,RealTimeConnection:Ln,hijackHash:Un,ConnectionTarget:Vn,queryIdentifier:Hn,listens:Bn,forceRestClient:Wn}),zn=Sn.ServerValue;l(_),t.registerDatabase=l,t.Database=Sn,t.Query=lt,t.Reference=_n,t.enableLogging=A,t.ServerValue=zn,t.DataSnapshot=it,t.OnDisconnect=Te}).call(t,n(50))},function(e,t,n){"use strict";function r(e){o.forEach(function(t){t.logLevel=e})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"setLogLevel",function(){return r}),n.d(t,"Logger",function(){return u}),n.d(t,"LogLevel",function(){return i});var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}()},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function c(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function v(e,t,n){function r(e){c[e]&&(l[e]=function(t){return new Promise(function(n,r){h.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(c[e](t))}catch(e){u(h[0][3],e)}}function o(e){e.value instanceof d?Promise.resolve(e.value.v).then(a,s):u(h[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(e,t||[]),h=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l}function m(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:d(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof h?h(e):e[Symbol.iterator]()}function g(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return k}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=l,t.__exportStar=c,t.__values=h,t.__read=f,t.__spread=p,t.__await=d,t.__asyncGenerator=v,t.__asyncDelegator=m,t.__asyncValues=y,t.__makeTemplateObject=g,t.__importStar=b,t.__importDefault=_;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.store=this.storageAvailability("localStorage")&&!t?localStorage:new a}return i(e,[{key:"storageAvailability",value:function(e){var t=null;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}}},{key:"getItem",value:function(e){return this.store.getItem(e)}},{key:"setItem",value:function(e,t){this.store.setItem(e,t)}},{key:"removeItem",value:function(e){this.store.removeItem(e)}}]),e}();t.default=o;var a=function(){function e(){r(this,e),this.store={}}return i(e,[{key:"getItem",value:function(e){return this.store[e]}},{key:"setItem",value:function(e,t){this.store[e]=t}},{key:"removeItem",value:function(e){delete this.store[e]}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={en:{revisit:[{type:"dialog",title:"Hey! This is not the first time you are here. What would you like to do?",buttons:["START AGAIN","CONTINUE"],payloads:["#init","#_continue"],samurai:"-1"}]},es:{revisit:[{type:"dialog",title:"¡Hola! No es la primera vez que estás aquí. ¿Qué deseas hacer?",buttons:["EMPEZAR","CONTINUAR"],payloads:["#init","#_continue"],samurai:"-1"}]},fr:{revisit:[{type:"dialog",title:"Salut! Ce n'est pas la première fois que tu es là. Qu'est-ce que tu aimerais faire?",buttons:["COMMENCER","CONTINUER"],payloads:["#init","#_continue"],samurai:"-1"}]},it:{revisit:[{type:"dialog",title:"Hey! Questa non é la prima volta che sei qui. Che ti piacerebbe fare?",buttons:["RICOMINCIARE","CONTINUARE"],payloads:["#init","#_continue"],samurai:"-1"}]},de:{revisit:[{type:"dialog",title:"Hallo! Dies ist nicht das erste Mal, dass Sie hier sind. Was würdest du gern tun?",buttons:["START","WEITER"],payloads:["#init","#_continue"],samurai:"-1"}]},pt:{revisit:[{type:"dialog",title:"Ei! Esta não é a primeira vez que você está aqui. O que você gostaria de fazer?",buttons:["INICIAR","CONTINUAR"],payloads:["#init","#_continue"],samurai:"-1"}]},nl:{revisit:[{type:"dialog",title:"Hallo! Dit is niet de eerste keer dat je hier bent. Wat zou je willen doen?",buttons:["START","DOORGAAN"],payloads:["#init","#_continue"],samurai:"-1"}]},zh:{revisit:[{type:"dialog",title:"嘿! 好像这不是你第一次来这里。 请问你想如何继续？",buttons:["开始","继续"],payloads:["#init","#_continue"],samurai:"-1"}]}},a=function(){function e(){r(this,e),this.lang=this.getLang()}return i(e,[{key:"getLang",value:function(){return(navigator.language||navigator.userLanguage).substring(0,2)}},{key:"getObject",value:function(e){return o[this.lang]&&o[this.lang][e]?o[this.lang][e]:o.en[e]}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(52),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){i(this,e),this.name=t,this.actions={},this.setupStandards()}return o(e,[{key:"setupStandards",value:function(){var e=this;window.addEventListener("message",function(t){var n=t.data,r={};try{r=JSON.parse(n)}catch(e){return}for(var i in r)e.actions[i]&&e.exec(i,r[i])}),this.on("landbot-listen",function(){return console.log("["+e.name+"-LB] listener is active")})}},{key:"on",value:function(e,t){var n=t||function(){};this.actions[e]?this.actions[e].push(n):this.actions[e]=[n]}},{key:"off",value:function(e,t){if(this.actions[e]&&t){var n=this.actions[e].indexOf(t);n>-1&&this.actions[e].splice(n,1)}else delete this.actions[e]}},{key:"exec",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.actions[e])for(var n=0;n<this.actions[e].length;n++)this.actions[e][n](t)}},{key:"send",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.assign(r({},e,t),{name:this.name});parent.postMessage(JSON.stringify(n),s.default.getOrigin()||"*")}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(176),u=n(177),l=n(178),c=function(){function e(t){i(this,e),this.name=t,this.logs={},"log"in console&&"group"in console&&"groupCollapsed"in console&&"groupEnd"in console||(this.append=function(){})}return a(e,[{key:"append",value:function(e,t,n){var i=[].concat(r(s(this.logs,t,[])),[{log:e,level:n}]);return u(this.logs,t,i),this}},{key:"report",value:function(){console.groupCollapsed("["+this.name+"]: Logger Report Details"),this.breakDown(this.logs),console.groupEnd()}},{key:"breakDown",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n instanceof Array?this.print(n,t):"object"===(void 0===n?"undefined":o(n))&&this.breakDown(n)}}},{key:"print",value:function(e,t){console.group(t);for(var n=0;n<e.length;n++)console[e[n].level||"log"].apply(null,l(e[n].log));console.groupEnd()}}]),e}();t.default=c},function(e,t,n){(function(t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=me?me(null):{}}function a(e){return this.has(e)&&delete this.__data__[e]}function s(e){var t=this.__data__;if(me){var n=t[e];return n===W?void 0:n}return ce.call(t,e)?t[e]:void 0}function u(e){var t=this.__data__;return me?void 0!==t[e]:ce.call(t,e)}function l(e,t){return this.__data__[e]=me&&void 0===t?W:t,this}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=[]}function f(e){var t=this.__data__,n=k(t,e);return!(n<0)&&(n==t.length-1?t.pop():de.call(t,n,1),!0)}function p(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]}function d(e){return k(this.__data__,e)>-1}function v(e,t){var n=this.__data__,r=k(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__={hash:new i,map:new(ve||c),string:new i}}function g(e){return O(this,e).delete(e)}function b(e){return O(this,e).get(e)}function _(e){return O(this,e).has(e)}function w(e,t){return O(this,e).set(e,t),this}function k(e,t){for(var n=e.length;n--;)if(j(e[n][0],t))return n;return-1}function C(e,t){t=P(t,e)?[t]:S(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[A(t[n++])];return n&&n==r?e:void 0}function x(e){return!(!F(e)||I(e))&&(R(e)||r(e)?fe:ee).test(D(e))}function E(e){if("string"==typeof e)return e;if(U(e))return ge?ge.call(e):"";var t=e+"";return"0"==t&&1/e==-q?"-0":t}function S(e){return _e(e)?e:be(e)}function O(e,t){var n=e.__data__;return N(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var r=n(e,t);return x(r)?r:void 0}function P(e,t){if(_e(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!U(e))||($.test(e)||!Y.test(e)||null!=t&&e in Object(t))}function N(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function I(e){return!!ue&&ue in e}function A(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-q?"-0":t}function D(e){if(null!=e){try{return le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function M(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(B);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(M.Cache||m),n}function j(e,t){return e===t||e!==e&&t!==t}function R(e){var t=F(e)?he.call(e):"";return t==z||t==G}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){return!!e&&"object"==typeof e}function U(e){return"symbol"==typeof e||L(e)&&he.call(e)==K}function V(e){return null==e?"":E(e)}function H(e,t,n){var r=null==e?void 0:C(e,t);return void 0===r?n:r}var B="Expected a function",W="__lodash_hash_undefined__",q=1/0,z="[object Function]",G="[object GeneratorFunction]",K="[object Symbol]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,Q=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Z=/\\(\\)?/g,ee=/^\[object .+?Constructor\]$/,te="object"==typeof t&&t&&t.Object===Object&&t,ne="object"==typeof self&&self&&self.Object===Object&&self,re=te||ne||Function("return this")(),ie=Array.prototype,oe=Function.prototype,ae=Object.prototype,se=re["__core-js_shared__"],ue=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),le=oe.toString,ce=ae.hasOwnProperty,he=ae.toString,fe=RegExp("^"+le.call(ce).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=re.Symbol,de=ie.splice,ve=T(re,"Map"),me=T(Object,"create"),ye=pe?pe.prototype:void 0,ge=ye?ye.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=u,i.prototype.set=l,c.prototype.clear=h,c.prototype.delete=f,c.prototype.get=p,c.prototype.has=d,c.prototype.set=v,m.prototype.clear=y,m.prototype.delete=g,m.prototype.get=b,m.prototype.has=_,m.prototype.set=w;var be=M(function(e){e=V(e);var t=[];return Q.test(e)&&t.push(""),e.replace(X,function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)}),t});M.Cache=m;var _e=Array.isArray;e.exports=H}).call(t,n(7))},function(e,t,n){(function(t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=_e?_e(null):{}}function a(e){return this.has(e)&&delete this.__data__[e]}function s(e){var t=this.__data__;if(_e){var n=t[e];return n===z?void 0:n}return de.call(t,e)?t[e]:void 0}function u(e){var t=this.__data__;return _e?void 0!==t[e]:de.call(t,e)}function l(e,t){return this.__data__[e]=_e&&void 0===t?z:t,this}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=[]}function f(e){var t=this.__data__,n=C(t,e);return!(n<0)&&(n==t.length-1?t.pop():ge.call(t,n,1),!0)}function p(e){var t=this.__data__,n=C(t,e);return n<0?void 0:t[n][1]}function d(e){return C(this.__data__,e)>-1}function v(e,t){var n=this.__data__,r=C(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__={hash:new i,map:new(be||c),string:new i}}function g(e){return T(this,e).delete(e)}function b(e){return T(this,e).get(e)}function _(e){return T(this,e).has(e)}function w(e,t){return T(this,e).set(e,t),this}function k(e,t,n){var r=e[t];de.call(e,t)&&F(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function C(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1}function x(e){return!(!U(e)||D(e))&&(L(e)||r(e)?me:re).test(j(e))}function E(e,t,n,r){if(!U(e))return e;t=I(t,e)?[t]:O(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=M(t[i]),l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):void 0,void 0===l&&(l=U(c)?c:N(t[i+1])?[]:{})}k(s,u,l),s=s[u]}return e}function S(e){if("string"==typeof e)return e;if(H(e))return ke?ke.call(e):"";var t=e+"";return"0"==t&&1/e==-G?"-0":t}function O(e){return xe(e)?e:Ce(e)}function T(e,t){var n=e.__data__;return A(t)?n["string"==typeof t?"string":"hash"]:n.map}function P(e,t){var r=n(e,t);return x(r)?r:void 0}function N(e,t){return!!(t=null==t?K:t)&&("number"==typeof e||ie.test(e))&&e>-1&&e%1==0&&e<t}function I(e,t){if(xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!H(e))||(J.test(e)||!X.test(e)||null!=t&&e in Object(t))}function A(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function D(e){return!!fe&&fe in e}function M(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-G?"-0":t}function j(e){if(null!=e){try{return pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function R(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(R.Cache||m),n}function F(e,t){return e===t||e!==e&&t!==t}function L(e){var t=U(e)?ve.call(e):"";return t==Y||t==$}function U(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function V(e){return!!e&&"object"==typeof e}function H(e){return"symbol"==typeof e||V(e)&&ve.call(e)==Q}function B(e){return null==e?"":S(e)}function W(e,t,n){return null==e?e:E(e,t,n)}var q="Expected a function",z="__lodash_hash_undefined__",G=1/0,K=9007199254740991,Y="[object Function]",$="[object GeneratorFunction]",Q="[object Symbol]",X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Z=/^\./,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=/\\(\\)?/g,re=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,oe="object"==typeof t&&t&&t.Object===Object&&t,ae="object"==typeof self&&self&&self.Object===Object&&self,se=oe||ae||Function("return this")(),ue=Array.prototype,le=Function.prototype,ce=Object.prototype,he=se["__core-js_shared__"],fe=function(){var e=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pe=le.toString,de=ce.hasOwnProperty,ve=ce.toString,me=RegExp("^"+pe.call(de).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=se.Symbol,ge=ue.splice,be=P(se,"Map"),_e=P(Object,"create"),we=ye?ye.prototype:void 0,ke=we?we.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=u,i.prototype.set=l,c.prototype.clear=h,c.prototype.delete=f,c.prototype.get=p,c.prototype.has=d,c.prototype.set=v,m.prototype.clear=y,m.prototype.delete=g,m.prototype.get=b,m.prototype.has=_,m.prototype.set=w;var Ce=R(function(e){e=B(e);var t=[];return Z.test(e)&&t.push(""),e.replace(ee,function(e,n,r,i){t.push(r?i.replace(ne,"$1"):n||e)}),t});R.Cache=m;var xe=Array.isArray;e.exports=W}).call(t,n(7))},function(e,t,n){(function(t){function n(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function r(e){return e.split("")}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e,t){return n(t,function(t){return e[t]})}function a(e,t){return null==e?void 0:e[t]}function s(e){return ee.test(e)}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){return s(e)?p(e):r(e)}function p(e){return e.match(Z)||[]}function d(e,t){var n=Oe(e)||x(e)?i(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!le.call(e,a)||o&&("length"==a||_(a,r))||n.push(a);return n}function v(e){return ce.call(e)}function m(e){return!(!P(e)||w(e))&&(O(e)||u(e)?he:W).test(C(e))}function y(e){if(!k(e))return ve(e);var t=[];for(var n in Object(e))le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function g(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function b(e,t){var n=a(e,t);return m(n)?n:void 0}function _(e,t){return!!(t=null==t?j:t)&&("number"==typeof e||q.test(e))&&e>-1&&e%1==0&&e<t}function w(e){return!!se&&se in e}function k(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||oe)}function C(e){if(null!=e){try{return ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function x(e){return S(e)&&le.call(e,"callee")&&(!de.call(e,"callee")||ce.call(e)==R)}function E(e){return null!=e&&T(e.length)&&!O(e)}function S(e){return N(e)&&E(e)}function O(e){var t=P(e)?ce.call(e):"";return t==F||t==L}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return!!e&&"object"==typeof e}function I(e){return"string"==typeof e||!Oe(e)&&N(e)&&ce.call(e)==H}function A(e){if(!e)return[];if(E(e))return I(e)?f(e):g(e);if(pe&&e[pe])return l(e[pe]());var t=Se(e);return(t==U?c:t==V?h:M)(e)}function D(e){return E(e)?d(e):y(e)}function M(e){return e?o(e,D(e)):[]}var j=9007199254740991,R="[object Arguments]",F="[object Function]",L="[object GeneratorFunction]",U="[object Map]",V="[object Set]",H="[object String]",B=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,z="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",G="\\ud83c[\\udffb-\\udfff]",K="(?:\\ud83c[\\udde6-\\uddff]){2}",Y="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",Q="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",K,Y].join("|")+")[\\ufe0e\\ufe0f]?"+$+")*",X="[\\ufe0e\\ufe0f]?"+$+Q,J="(?:"+["[^\\ud800-\\udfff]"+z+"?",z,K,Y,"[\\ud800-\\udfff]"].join("|")+")",Z=RegExp(G+"(?="+G+")|"+J+X,"g"),ee=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),te="object"==typeof t&&t&&t.Object===Object&&t,ne="object"==typeof self&&self&&self.Object===Object&&self,re=te||ne||Function("return this")(),ie=Function.prototype,oe=Object.prototype,ae=re["__core-js_shared__"],se=function(){var e=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ue=ie.toString,le=oe.hasOwnProperty,ce=oe.toString,he=RegExp("^"+ue.call(le).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=re.Symbol,pe=fe?fe.iterator:void 0,de=oe.propertyIsEnumerable,ve=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),me=b(re,"DataView"),ye=b(re,"Map"),ge=b(re,"Promise"),be=b(re,"Set"),_e=b(re,"WeakMap"),we=C(me),ke=C(ye),Ce=C(ge),xe=C(be),Ee=C(_e),Se=v;(me&&"[object DataView]"!=Se(new me(new ArrayBuffer(1)))||ye&&Se(new ye)!=U||ge&&"[object Promise]"!=Se(ge.resolve())||be&&Se(new be)!=V||_e&&"[object WeakMap]"!=Se(new _e))&&(Se=function(e){var t=ce.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?C(n):void 0;if(r)switch(r){case we:return"[object DataView]";case ke:return U;case Ce:return"[object Promise]";case xe:return V;case Ee:return"[object WeakMap]"}return t});var Oe=Array.isArray;e.exports=A}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={format:function(e,t){var n=null,r=null,i=null,o=null,a=null;switch(t){case"HH:mm":return n=new Date(e),r=("0"+n.getHours()).slice(-2),i=("0"+n.getMinutes()).slice(-2),r+":"+i;case"HH:mm:ss.ff":return n=new Date(e),r=("0"+n.getHours()).slice(-2),i=("0"+n.getMinutes()).slice(-2),o=("0"+n.getSeconds()).slice(-2),a=("0000"+n.getMilliseconds()).slice(-4),r+":"+i+":"+o+"."+a;default:return"0"}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={transformVariables:function(e,t,n){var r=e,i=/(?:^@|[^\w\d@]@)(\w+)/g,o=/@{([^}]*)}/g,a=null;for(a=i.exec(e);a;)r=r.replace("@"+a[1],n[a[1]]||(t[a[1]]||{}).default||""),a=i.exec(e);for(a=null,a=o.exec(e);a;)r=r.replace("@{"+a[1]+"}",n[a[1]]||(t[a[1]]||{}).default||""),a=o.exec(e);return r}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(87),a=i.default,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o.SET_CONFIG:return Object.assign({},e,t.config);default:return e}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(89),p=n(90),d=n(35),v=n(53),m=n(16),y=r(m),g=n(241),b=r(g),_=n(260),w=r(_),k=n(278),C=r(k),x=n(279),E=r(x),S=n(280),O=r(S),T=n(28),P=n(3),N=r(P),I=n(24),A=r(I),D=n(8),M=r(D),j=n(38),R=r(j),F=n(29),L=r(F),U=n(4),V=r(U),H=n(106),B=y.default.renderFlags,W=y.default.reception$,q=y.default.sending$,z=y.default.messageReception$,G=(y.default.typingState$,y.default.queueMessagesRender$),K=y.default.queueMessagesRenderSubject$,Y=(y.default.receiverReady$,y.default.initialChat$,y.default.newMessage$,y.default.initialChatReceive$),$=y.default.newMessageReceive$,Q=y.default.inputAnimation$,X=n(9),J=function(e){return{error_text:e.config.text.error,widget_hide_header:e.config.widget_hide_header,config:e.config,input:e.input,messagesList:e.messagesList,agents:e.agents,lastAvatar:e.chat.lastAvatar}},Z=function(e){return{addMessage:function(t){return e({type:f.ADD_MESSAGE,message:t})},addMessagesChunk:function(t){return e({type:f.ADD_MESSAGES_CHUNK,messages:t})},addOldMessagesChunk:function(t){return e({type:f.ADD_OLD_MESSAGES_CHUNK,messages:t})},editMessage:function(t,n){return e({type:f.EDIT_MESSAGE,key:t,message:n})},deleteMessage:function(t){return e({type:f.DELETE_MESSAGE,key:t})},resetChat:function(){return e({type:f.RESET_CHAT})},addAgent:function(t){return e({type:p.ADD_AGENT,agent:t})},setInput:function(t){return e({type:d.SET_INPUT,inputData:t})},disableEngage:function(){return e({type:v.DISABLE_ENGAGE})},setLastAvatar:function(t){return e({type:v.SET_LAST_AVATAR,avatar:t})},setFixedAvatar:function(t){return e({type:v.SET_FIXED_AVATAR,value:t})}}},ee=(s=(0,h.connect)(J,Z))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={disabled:!0,loadingOldMessages:!1},n.messagesContainer=null,n.moreMessagesButton=null,n.setupListeners(),n.getAgentsInfo(),n.scrollAnimation=null,n.scrollTopFixer=null,n.scrollFixer=null,n.scrollAuto=!0,n.mobileHA=!0,window.temp_data={name:"",phone:"",email:""},window.setFixedAvatar=function(t){return e.setFixedAvatar(t)},n}return a(t,e),l(t,[{key:"setupListeners",value:function(){var e=this;G.subscribe(function(t){if(null!==t){var n=e.processedMessage(t);if("brand"===n.author){var r=n.data.samurai;-1!=r&&N.default.emit("hu-query-get-agent",r);X(n,"data.extra.leaf",!1)&&e.props.disableEngage(),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Message render","landbot.messages["+n.data.key+"]");e.appendMessage(n,!0)}}}),W.subscribe({next:function(e){e&&A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Message received","landbot.messages["+e.key+"]").append(e,"landbot.messages["+e.key+"]")}}),z.subscribe(function(t){for(var n=t.filter(function(e){return e}).filter(function(e){return void 0!==e.samurai}).filter(e.messagesFilter).sort(function(e,t){return e.timestamp-t.timestamp}).map(function(e){return JSON.parse(JSON.stringify(e))}),r=0;r<n.length;r++){var i=n[r];if(null!==i&&r===n.length-1)if(i.role=M.default.addRoleType(i,"end-flow"),e.props.setLastAvatar(i.samurai),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+': Message defined as "end-flow"',"landbot.messages["+i.key+"]"),"referral"===i.type&&n[r-1])if(void 0!==n[r-1].samurai){var o=n[r-1],a=o.extra,s=o.key,u=o.message,l=o.role,c=o.samurai,h=o.type,f={data:{extra:a,key:s,message:u,role:l,samurai:c,type:h}};N.default.emit("hu-receive-last-group-message",f),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Previous message emitted as last group message","landbot.messages["+s+"]")}else A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Message is referral but none is emitted as last group message","landbot.messages["+i.key+"]","warn");else N.default.emit("hu-receive-last-group-message",e.processedMessage(i)),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Message emitted as last group message","landbot.messages["+i.key+"]");if(null!==i&&"finish"===i.action&&1===n.length){var p=e.props.messagesList[e.props.messagesList.length-1]||{};M.default.hasRoleType(p.data,"engage")&&e.props.deleteMessage(p.key)}null===i||"hidden"!==i.type?K.next(i):(new g.HiddenMessage(i),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": Hidden message processed","landbot.messages["+i.key+"]"))}}),q.subscribe(function(t){if(!1!==t.render){e.disableInput(function(){e.appendMessage(e.processedMessage(t),!0),B.up("initEngageFlag")})}}),N.default.on("hu-receive-ghost-message",function(t){e.appendMessage(e.processedMessage(t),!0)}),N.default.on("hu-initial-chat",function(t){if(B.initialChatFlag){B.down("initialChatFlag");var n=t.filter(e.messagesFilter).filter(function(e){return"hidden"!==e.type}).map(e.processedMessage).map(function(e){if("brand"===e.author){var t=e.data.samurai;-1!=t&&N.default.emit("hu-query-get-agent",t)}return e});e.renderInitialChat(n),e.onMessagesChunk(n)}}),N.default.on("hu-remove-chat",function(){B.down("initialChatFlag"),N.default.emit("hu-lb-message-flow-end"),K.next(null),Q.next("input_out"),e.props.resetChat(),e.props.setInput({hasOldMessages:!1}),e.setState({disabled:!0},function(){e.scrollBottom(350,"top"),Q.next("input_out")})}),N.default.on("hu-reset-chat",function(){N.default.emit("hu-lb-message-flow-end"),B.down("initialChatFlag"),B.up("restarting"),K.next(null),Y().subscribe({next:function(t){if(B.restarting){B.down("restarting");var n=t.filter(function(e){return e})[0].filter(e.messagesFilter).filter(function(e){return"hidden"!==e.type}).map(e.processedMessage).map(function(e){if("brand"===e.author){var t=e.data.samurai;-1!=t&&N.default.emit("hu-query-get-agent",t)}return e});e.renderInitialChat(n),e.onMessagesChunk(n)}}}),$().subscribe({next:function(e){B.restarting&&B.down("restarting")}}),e.moreMessagesButton&&(0,T.Animate)(e.moreMessagesButton,{opacity:0},{duration:500},function(){e.moreMessagesButton.style.opacity=0}),e.setState({disabled:!0},function(){e.scrollBottom(300,"top"),Q.next("input_out")}),setTimeout(function(){e.props.resetChat()},400),setTimeout(function(){e.props.setInput({hasOldMessages:!1}),N.default.emit("hu-lb-receiver-ready")},600)}),N.default.on("hu-old-chat",function(t){e.concatOldMessages(t.filter(e.messagesFilter).filter(function(e){return"hidden"!==e.type}).map(e.processedMessage))}),N.default.on("hu-get-agent",function(t){e.props.addAgent(t)}),N.default.on("hu-lb-engage-end",function(){B.up("endEngageFlag")}),N.default.on("hu-error-sending-message",function(){N.default.emit("hu-receive-message",{key:M.default.randomKey(20),type:"text",message:e.props.error_text,samurai:-1,role:["error","end-flow"],extra:{hide_textbox:!0,typing:!1}})})}},{key:"componentDidMount",value:function(){N.default.emit("hu-landbot-ready")}},{key:"isExtraWelcome",value:function(e){return!!X(e,"extra.welcome",!1)}},{key:"getAgentsInfo",value:function(){N.default.emit("hu-query-stored-agents")}},{key:"userMoveScroll",value:function(e){(0,T.Animate)(this.messagesContainer,"stop",{mobileHA:this.mobileHA});var t=this.messagesContainer.scrollHeight-this.messagesContainer.clientHeight;this.messagesContainer.scrollTop>=t-30?this.scrollAuto=!0:this.scrollAuto=!1}},{key:"scrollBottom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";this.scrollAuto&&((0,T.Animate)(this.messagesContainer,"stop",{mobileHA:this.mobileHA}),(0,T.Animate)("top"===n?this.scrollTopFixer:this.scrollFixer,"scroll",{duration:t,container:this.messagesContainer,mobileHA:this.mobileHA},function(){e.messagesContainer.scrollTop="top"===n?0:e.messagesContainer.scrollHeight}))}},{key:"processedMessage",value:function(e){return{key:e.key,author:void 0!==e.samurai?"brand":"user",data:e}}},{key:"messagesFilter",value:function(e){return H.MESSAGE_TYPES.indexOf(e.type)>-1}},{key:"appendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.messagesList;e.animate=t;var r=n[n.length-1],i=M.default.hasRoleType((r||{}).data,"engage");if(r&&(r.timestamp,e.timestamp),i?this.props.editMessage(r.key,e):this.props.addMessage(e),void 0===e.data.samurai)A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": ["+e.data.key+"] User message => No input changes","landbot.input");else if(e.data.samurai>=0)this.props.setInput({input_motion:!0,input_type:"text",field_type:"text",fixed:!0,backButton:!1}),this.setState({disabled:!1},function(){return M.default.disableInput()}),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": ["+e.data.key+"] Agent message => Input fixed","landbot.input");else{var o={},a=!1,s=this.getExtraTextareaFixed(e.data);s?(o={input_motion:!0,input_type:"text",field_type:"text",fixed:!0,backButton:!1},A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": ["+e.data.key+"] Bot message => Input fixed","landbot.input")):this.getReferralFilter(e.data)?(a=this.state.disabled,o={backButton:!1},A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": ["+e.data.key+"] Bot message => (Referral) No input changes","landbot.input")):(a=this.getDisabledInput(e),o={input_motion:!a,input_type:L.default.getInputType(e.data),field:this.getInputField(e.data),field_type:this.getFieldType(e.data),buttons:e.data.buttons,cards:e.data.cards,card_type:e.data.card_type,payloads:e.data.payloads,urls:e.data.urls,extra:e.data.extra,backButton:!M.default.hasRoleType(e.data,"welcome")&&!M.default.hasRoleType(e.data,"revisit")&&!this.isExtraWelcome(e.data)&&"referral"!==e.data.type&&M.default.showBackButton(),fixed:!1}),this.props.setInput(o),this.setState({disabled:a},function(){a||s||(i&&Q.next("input_enable"),M.default.enableInput())}),A.default.append(R.default.format(new Date,"HH:mm:ss.ff")+": ["+e.data.key+"] Bot message => Input "+L.default.getInputType(e.data),"landbot.input")}}},{key:"renderInitialChat",value:function(e){var t=this;if(0!==e.length){var n=e.length>=this.props.config.messagesLimit,r=e[e.length-1],i=this.getLastBrandMessage(e);if(this.props.addMessagesChunk(e),i.data.samurai>=0||this.getExtraTextareaFixed(i.data))this.props.setInput({hasOldMessages:n,input_motion:!0,input_type:"text",field_type:"text",fixed:!0,backButton:!1}),this.setState({disabled:!1},function(){M.default.disableInput(),setTimeout(function(){Q.next("input_enable")},100)});else if(void 0===r.data.samurai)this.props.setInput({hasOldMessages:n}),setTimeout(function(){return t.scrollBottom(350)},10);else{var o={},a=!0,s=this.getExtraTextareaFixed(r.data);s?(a=!1,o={hasOldMessages:n,input_motion:!0,input_type:"text",field_type:"text",fixed:!0,backButton:!1}):(a=this.getDisabledInput(r),o={hasOldMessages:n,input_type:L.default.getInputType(r.data),field:this.getInputField(r.data),field_type:this.getFieldType(r.data),buttons:r.data.buttons,cards:r.data.cards,card_type:r.data.card_type,payloads:r.data.payloads,urls:r.data.urls,extra:r.data.extra,backButton:!M.default.hasRoleType(r.data,"welcome")&&!M.default.hasRoleType(r.data,"revisit")&&!this.isExtraWelcome(r.data)&&"referral"!==r.data.type&&M.default.showBackButton(),fixed:!1}),this.props.setInput(o),this.setState({disabled:a},function(){a?setTimeout(function(){t.scrollBottom(350)},100):(M.default.enableInput(),setTimeout(function(){Q.next("input_enable")},100))})}}}},{key:"concatOldMessages",value:function(e){this.props.addOldMessagesChunk(e),0!==e.length?this.props.setInput({hasOldMessages:!0}):this.props.setInput({hasOldMessages:!1}),this.setState({loadingOldMessages:!1})}},{key:"getLastBrandMessage",value:function(e){for(var t=1,n=e[e.length-t];void 0===n.data.samurai&&t<e.length-1||void 0!==n.data.samurai&&this.getReferralFilter(n.data);)t+=1,n=e[e.length-t];return n}},{key:"onMessagesChunk",value:function(e){var t=e[e.length-1],n=this.getLastBrandMessage(e);t&&(void 0!==t.data.samurai?(A.default.append("Message emitted as last group message "+R.default.format(new Date,"HH:mm:ss.ff"),"landbot.messages["+n.data.key+"]").append(n,"landbot.messages["+n.data.key+"]"),N.default.emit("hu-receive-last-group-message",n)):(A.default.append("Message emitted as last brand message "+R.default.format(new Date,"HH:mm:ss.ff"),"landbot.messages["+n.data.key+"]").append(t,"landbot.messages["+n.data.key+"]"),N.default.emit("hu-receive-last-brand-message",n)))}},{key:"queryOldMessages",value:function(){this.state.loadingOldMessages||(N.default.emit("hu-query-old-messages"),this.setState({loadingOldMessages:!0}))}},{key:"getReferralFilter",value:function(e){return"referral"===e.type&&!1===X(e,"extra.referral")}},{key:"getInputField",value:function(e){return X(e,"extra.textarea.field",!1)}},{key:"getFieldType",value:function(e){return X(e,"extra.textarea.type",null)}},{key:"getExtraTextareaFixed",value:function(e){return X(e,"extra.textarea.fixed",!1)}},{key:"disableInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.props.input.fixed?e():(M.default.disableInput(),this.setState({disabled:!0},e))}},{key:"getDisabledInput",value:function(e){return"none"===L.default.getInputType(e.data)||void 0===e.data.samurai}},{key:"render",value:function(e,t){var n=this,r=e.widget_hide_header,i=e.messagesList,o=e.config,a=o.logo,s=o.brand_name,u=o.tagline,l=(o.keywords,o.branding,e.input),h=l.hasOldMessages,f=(l.input_motion,l.input_type,l.field,l.field_type,l.buttons,l.cards,l.card_type,l.payloads,l.urls,l.extra,l.backButton,l.fixed),p=t.disabled;t.loadingOldMessages,this.disableInput.bind(this);return(0,c.h)("div",{id:"hu-messenger",className:"hu-display-flex hu-flex-1 hu-flex-dir-column hu-overflow-hidden"+(f?" hu-input-fixed":"")},(0,c.h)("div",{id:"hu-messages-container",className:"hu-zindex-0 hu-flex-1 hu-overflow-auto",onTouchMove:function(e){return n.userMoveScroll(e)},onWheel:function(e){return n.userMoveScroll(e)},ref:function(e){return n.messagesContainer=e}},(0,c.h)("div",{id:"scroll-top-fixer",ref:function(e){return n.scrollTopFixer=e}}),!r&&(0,c.h)("div",{id:"hu-header-mobile",className:"hu-a-center hu-m-display-none"},a&&(0,c.h)("img",{className:"hu-header-logo hu-display-block",src:a,alt:""}),(0,c.h)("h1",{className:"hu-header-brand_name hu-w-bold hu-s-23 hu-color_header-text"},s),(0,c.h)("p",{className:"hu-header-tagline hu-s-13 hu-color_header-text hu-margin-0-auto"},u&&V.default.getVirtualDOM(u))),(0,c.h)("div",{className:"hu-messages-wrapper"},(0,c.h)("div",{className:"hu-old-chat"},h&&(0,c.h)("button",{className:"more-messages hu-color_contrast hu-border-color_contrast hu-s-15",ref:function(e){n.moreMessagesButton=e},onClick:this.queryOldMessages.bind(this),tabIndex:-1},(0,c.h)("span",{className:"more-messages-text"},"Load more..."))),i.map(function(e,t,r){return(0,c.h)(b.default,{_key:e.key,author:e.author,data:e.data,animate:e.animate,mobileHA:n.mobileHA,scrollBottom:n.scrollBottom.bind(n)})}),(0,c.h)(w.default,{disabled:p,mobileHA:this.mobileHA,scrollBottom:this.scrollBottom.bind(this)},!f&&(0,c.h)(O.default,{id:"main",disabled:p,emoji:"hu-message-input"})),(0,c.h)("div",{id:"scroll-bottom-fixer",ref:function(e){return n.scrollFixer=e}}))),f&&(0,c.h)(C.default,{disabled:p,mobileHA:this.mobileHA,scrollBottom:this.scrollBottom.bind(this)},(0,c.h)(O.default,{id:"fixed",disabled:p,emoji:"hu-footer-input-fixed"})),(0,c.h)(E.default,{disabled:p,mobileHA:this.mobileHA,scrollBottom:this.scrollBottom.bind(this)},(0,c.h)(O.default,{id:"mobile",disabled:p})),(0,c.h)("div",{id:"hu-msn-sandbox",className:"hu-messages-wrapper"}),(0,c.h)("div",{id:"hu-input-sandbox"}),(0,c.h)("div",{id:"hu-mobile-input-sandbox"}))}}]),t}(c.Component))||u;t.default=ee},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideLoader$=t.appReady$=void 0;var r=n(1);n(59),n(93),n(98),n(65),n(99);var i=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=(r.Observable.fromEvent(o.default,"hu-umicore-ready"),r.Observable.fromEvent(o.default,"hu-landbot-ready")),s=a.first(),u=r.Observable.fromEvent(o.default,"hu-receive-message"),l=r.Observable.fromEvent(o.default,"hu-initial-chat"),c=r.Observable.merge(u,l).first();t.appReady$=s,t.hideLoader$=c},function(e,t,n){"use strict";function r(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(a.empty)}var i=n(5),o=n(57),a=n(92);t.toSubscriber=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=i},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)}function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:o.noop}var o=n(187);t.pipe=r,t.pipeFromArray=i},function(e,t,n){"use strict";function r(){}t.noop=r},function(e,t,n){"use strict";var r=n(189);t.fromEvent=r.FromEventObservable.create},function(e,t,n){"use strict";function r(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function i(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function o(e){return!!e&&"[object NodeList]"===d.call(e)}function a(e){return!!e&&"[object HTMLCollection]"===d.call(e)}function s(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var u=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(1),c=n(36),h=n(55),f=n(25),p=n(17),d=Object.prototype.toString,v=function(e){function t(t,n,r,i){e.call(this),this.sourceObj=t,this.eventName=n,this.selector=r,this.options=i}return u(t,e),t.create=function(e,n,r,i){return h.isFunction(r)&&(i=r,r=void 0),new t(e,n,i,r)},t.setupSubscription=function(e,n,u,l,c){var h;if(o(e)||a(e))for(var f=0,d=e.length;f<d;f++)t.setupSubscription(e[f],n,u,l,c);else if(s(e)){var v=e;e.addEventListener(n,u,c),h=function(){return v.removeEventListener(n,u)}}else if(i(e)){var m=e;e.on(n,u),h=function(){return m.off(n,u)}}else{if(!r(e))throw new TypeError("Invalid event target");var y=e;e.addListener(n,u),h=function(){return y.removeListener(n,u)}}l.add(new p.Subscription(h))},t.prototype._subscribe=function(e){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,a=o?function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=c.tryCatch(o).apply(void 0,t);r===f.errorObject?e.error(f.errorObject.e):e.next(r)}:function(t){return e.next(t)};t.setupSubscription(n,r,a,e,i)},t}(l.Observable);t.FromEventObservable=v},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,u=e[e.length-1];return a.isScheduler(u)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof i.Observable?e[0]:s.mergeAll(n)(new o.ArrayObservable(e,r))}var i=n(1),o=n(37),a=n(26),s=n(94);t.merge=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";function r(e){return e}t.identity=r},function(e,t,n){"use strict";function r(e,t){return i.distinctUntilChanged(e,t)(this)}var i=n(194);t.distinctUntilChanged=r},function(e,t,n){"use strict";function r(e,t){return function(n){return n.lift(new u(e,t))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),a=n(36),s=n(25);t.distinctUntilChanged=r;var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.compare,this.keySelector))},e}(),l=function(e){function t(t,n,r){e.call(this,t),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,n=e;if(t&&(n=a.tryCatch(this.keySelector)(e))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=a.tryCatch(this.compare)(this.key,n))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(e))},t}(o.Subscriber)},function(e,t,n){"use strict";function r(){return i.pairwise()(this)}var i=n(196);t.pairwise=r},function(e,t,n){"use strict";function r(){return function(e){return e.lift(new a)}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5);t.pairwise=r;var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return i(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e,t,n){return i.first(e,t,n)(this)}var i=n(198);t.first=r},function(e,t,n){"use strict";function r(e,t,n){return function(r){return r.lift(new s(e,t,n,r))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),a=n(199);t.first=r;var s=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)},t.prototype._emit=function(e,t){if(this.resultSelector)return void this._tryResultSelector(e,t);this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(o.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(17),o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i.Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(66),o=n(101),a=function(e){function t(t){e.call(this),this._value=t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=a},function(e,t,n){"use strict";var r=n(1),i=n(102);r.Observable.from=i.from},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(56),o=n(96),a=n(97),s=n(204),u=n(205),l=n(37),c=n(206),h=n(63),f=n(1),p=n(207),d=n(58),v=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[d.observable])return e instanceof f.Observable&&!n?e:new t(e,n);if(i.isArray(e))return new l.ArrayObservable(e,n);if(a.isPromise(e))return new s.PromiseObservable(e,n);if("function"==typeof e[h.iterator]||"string"==typeof e)return new u.IteratorObservable(e,n);if(o.isArrayLike(e))return new c.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[d.observable]().subscribe(e):t[d.observable]().subscribe(new p.ObserveOnSubscriber(e,n,0))},t}(f.Observable);t.FromObservable=v},function(e,t,n){"use strict";function r(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function i(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(12),s=n(1),u=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return o(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){a.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return o.schedule(r,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.closed||e.add(o.schedule(r,0,{value:n,subscriber:e}))},function(t){e.closed||e.add(o.schedule(i,0,{err:t,subscriber:e}))}).then(null,function(e){a.root.setTimeout(function(){throw e})})},t}(s.Observable);t.PromiseObservable=u},function(e,t,n){"use strict";function r(e){var t=e[c.iterator];if(!t&&"string"==typeof e)return new f(e);if(!t&&void 0!==e.length)return new p(e);if(!t)throw new TypeError("object is not iterable");return e[c.iterator]()}function i(e){var t=+e.length;return isNaN(t)?0:0!==t&&o(t)?(t=a(t)*Math.floor(Math.abs(t)),t<=0?0:t>d?d:t):t}function o(e){return"number"==typeof e&&u.root.isFinite(e)}function a(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=n(12),l=n(1),c=n(63),h=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=r(t)}return s(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,i=e.subscriber;if(n)return void i.error(e.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),e.index=t+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(e))},t.prototype._subscribe=function(e){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(l.Observable);t.IteratorObservable=h;var f=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[c.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),p=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=i(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[c.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),d=Math.pow(2,53)-1},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),o=n(60),a=n(61),s=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,i=e.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(t[n]),e.index=n+1,this.schedule(e)}},t.prototype._subscribe=function(e){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(t.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:e});for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);t.ArrayLikeObservable=s},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),a=n(103);t.observeOn=r;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return i(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=u;var l=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=l},function(e,t,n){"use strict";var r=n(1),i=n(104);r.Observable.of=i.of},function(e,t,n){"use strict";var r=n(1),i=n(210);r.Observable.timer=i.timer},function(e,t,n){"use strict";var r=n(211);t.timer=r.TimerObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(212),o=n(1),a=n(27),s=n(26),u=n(105),l=function(e){function t(t,n,r){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):s.isScheduler(n)&&(r=n),s.isScheduler(r)||(r=a.async),this.scheduler=r,this.dueTime=u.isDate(t)?+t-this.scheduler.now():t}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),new t(e,n,r)},t.dispatch=function(e){var t=e.index,n=e.period,r=e.subscriber,i=this;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,i.schedule(e,n)}},t.prototype._subscribe=function(e){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(t.dispatch,i,{index:0,period:r,subscriber:e})},t}(o.Observable);t.TimerObservable=l},function(e,t,n){"use strict";function r(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}var i=n(56);t.isNumeric=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(12),o=n(214),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?t:i.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(o.Action);t.AsyncAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(17),o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.Subscription);t.Action=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(216),o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}},t}(i.Scheduler);t.AsyncScheduler=o},function(e,t,n){"use strict";var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},function(e,t,n){"use strict";var r=n(1),i=n(218);r.Observable.prototype.startWith=i.startWith},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i.startWith.apply(void 0,e)(this)}var i=n(219);t.startWith=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var r=e.length;return 1===r?s.concat(new o.ScalarObservable(e[0],n),t):r>1?s.concat(new i.ArrayObservable(e,n),t):s.concat(new a.EmptyObservable(n),t)}}var i=n(37),o=n(60),a=n(61),s=n(220),u=n(26);t.startWith=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&i.isScheduler(e[1])?a.from(e[0]):s.concatAll()(o.of.apply(void 0,e))}var i=n(26),o=n(104),a=n(102),s=n(221);t.concat=r},function(e,t,n){"use strict";function r(){return i.mergeAll(1)}var i=n(94);t.concatAll=r},function(e,t,n){"use strict";var r=n(1),i=n(223);r.Observable.prototype.concatMap=i.concatMap},function(e,t,n){"use strict";function r(e,t){return i.concatMap(e,t)(this)}var i=n(224);t.concatMap=r},function(e,t,n){"use strict";function r(e,t){return i.mergeMap(e,t,1)}var i=n(95);t.concatMap=r},function(e,t,n){"use strict";var r=n(1),i=n(226);r.Observable.prototype.delay=i.delay},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=i.async),o.delay(e,t)(this)}var i=n(27),o=n(227);t.delay=r},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=o.async);var n=a.isDate(e),r=n?+e-t.now():Math.abs(e);return function(e){return e.lift(new l(r,t))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(27),a=n(105),s=n(5),u=n(103);t.delay=r;var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new h(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(u.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},t}(s.Subscriber),h=function(){function e(e,t){this.time=e,this.notification=t}return e}()},function(e,t,n){"use strict";var r=n(1),i=n(229);r.Observable.prototype.delayWhen=i.delayWhen},function(e,t,n){"use strict";function r(e,t){return i.delayWhen(e,t)(this)}var i=n(230);t.delayWhen=r},function(e,t,n){"use strict";function r(e,t){return t?function(n){return new h(n,t).lift(new l(e))}:function(t){return t.lift(new l(e))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),a=n(1),s=n(64),u=n(62);t.delayWhen=r;var l=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.delayDurationSelector))},e}(),c=function(e){function t(t,n){e.call(this,t),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),n=null;return-1!==t&&(n=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),n},t.prototype.tryDelay=function(e,t){var n=u.subscribeToResult(this,e,t);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),h=function(e){function t(t,n){e.call(this),this.source=t,this.subscriptionDelay=n}return i(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(a.Observable),f=function(e){function t(t,n){e.call(this),this.parent=t,this.source=n,this.sourceSubscribed=!1}return i(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(o.Subscriber)},function(e,t,n){"use strict";var r=n(1),i=n(232);r.Observable.prototype.bufferWhen=i.bufferWhen},function(e,t,n){"use strict";function r(e){return i.bufferWhen(e)(this)}var i=n(233);t.bufferWhen=r},function(e,t,n){"use strict";function r(e){return function(t){return t.lift(new c(e))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(17),a=n(36),s=n(25),u=n(64),l=n(62);t.bufferWhen=r;var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.closingSelector))},e}(),h=function(e){function t(t,n){e.call(this,t),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return i(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var n=a.tryCatch(this.closingSelector)();n===s.errorObject?this.error(s.errorObject.e):(e=new o.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(l.subscribeToResult(this,n)),this.subscribing=!1)},t}(u.OuterSubscriber)},function(e,t,n){"use strict";var r=n(1),i=n(235);r.Observable.prototype.debounceTime=i.debounceTime},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=i.async),o.debounceTime(e,t)(this)}var i=n(27),o=n(236);t.debounceTime=r},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=s.async),function(n){return n.lift(new u(e,t))}}function i(e){e.debouncedNext()}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(5),s=n(27);t.debounceTime=r;var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.dueTime,this.scheduler))},e}(),l=function(e){function t(t,n,r){e.call(this,t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userMessageAnimation$=t.brandMessageAnimation$=t.avatarQuery$=t.messageMotion$=t.messageAvatarResponded$=t.messageMounted$=void 0;var i=n(1),o=n(66);n(59),n(93),n(98),n(65),n(238),n(99);var a=n(3),s=r(a),u=n(24),l=r(u),c=n(22),h=r(c),f=n(8),p=r(f),d=n(38),v=r(d),m=n(100),y=n(54),g=r(y),b=function(){return i.Observable.fromEvent(s.default,"hu-lb-message-mounted")},_=function(){return i.Observable.fromEvent(s.default,"hu-lb-response-avatar-coords")},w=function(){return i.Observable.merge(b(),_()).distinctUntilChanged().pairwise().map(function(e){return e.filter(function(e){return void 0!==e})[0]}).first()},k=function(){return i.Observable.fromEvent(s.default,"hu-lb-query-avatar-coords")},C=function(e){return(new o.Subject).concatMap(function(e){return i.Observable.from(["brand_init","brand_avatar_in","brand_bubble_left_in","brand_typing_on","brand_typing_off","brand_bubble_resize","brand_input_enable","brand_flow_end"]).concatMap(function(t){var n=h.default.getState().config.typing_options;switch(t){case"brand_init":return i.Observable.of(t).delay(0);case"brand_avatar_in":return i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-avatar-translation-end"),i.Observable.timer(250))}).first();case"brand_bubble_left_in":return i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-bubble-in"),i.Observable.timer(250))}).first();case"brand_typing_on":return e.typing?p.default.hasRoleType(e,"engage")?(m.typingState$.next({key:e.key,state:e.typingDelay}),g.default.endEngageFlag?(l.default.append(v.default.format(new Date,"HH:mm:ss.ff")+": End Engage Flag was True. Disabling typing...","landbot.messages["+e.key+"]"),g.default.down("endEngageFlag"),i.Observable.of(t).delay(0)):(l.default.append(v.default.format(new Date,"HH:mm:ss.ff")+": Typing enabled till timer || engage-end event received","landbot.messages["+e.key+"]"),i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.timer(e.typingDelay),i.Observable.fromEvent(s.default,"hu-lb-engage-end"))}))):!0===n.state?(l.default.append(v.default.format(new Date,"HH:mm:ss.ff")+": Typing enabled","landbot.messages["+e.key+"]"),m.typingState$.next({key:e.key,state:e.typingDelay}),i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.timer(e.typingDelay),i.Observable.fromEvent(s.default,"hu-lb-key-arrowdown"))})):i.Observable.of(t).delay(0):(l.default.append(v.default.format(new Date,"HH:mm:ss.ff")+": Typing disabled","landbot.messages["+e.key+"]"),m.typingState$.next({key:e.key,state:!1}),i.Observable.of(t).delay(0));case"brand_typing_off":return g.default.down("endEngageFlag"),m.typingState$.next({key:e.key,state:!1}),i.Observable.of(t).delay(0);case"brand_bubble_resize":return i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-bubble-resize-end"),i.Observable.timer(0))}).first();case"brand_input_enable":return i.Observable.of(t).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-input-resize-end"),i.Observable.timer(0))}).first();case"brand_flow_end":default:return i.Observable.of(t).delay(0)}})})},x=function(e){return(new o.Subject).concatMap(function(e){return i.Observable.from(["user_input_out","user_bubble_right_in","user_bubble_resize","user_flow_end"]).concatMap(function(e){switch(e){case"user_input_out":return i.Observable.of(e).delay(0);case"user_bubble_right_in":return i.Observable.of(e).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-bubble-in"),i.Observable.timer(350))}).first();case"user_bubble_resize":return i.Observable.of(e).delayWhen(function(){return i.Observable.merge(i.Observable.fromEvent(s.default,"hu-lb-bubble-resize-end"),i.Observable.timer(350))}).first();case"user_flow_end":default:return i.Observable.of(e).delay(0)}})})};t.messageMounted$=b,t.messageAvatarResponded$=_,t.messageMotion$=w,t.avatarQuery$=k,t.brandMessageAnimation$=C,t.userMessageAnimation$=x},function(e,t,n){"use strict";var r=n(1),i=n(239);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";function r(e,t){return i.map(e,t)(this)}var i=n(240);t.map=r},function(e,t,n){"use strict";function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5);t.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=a;var s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenMessage=void 0;var i=n(242),o=r(i),a=n(259),s=r(a);t.HiddenMessage=s.default,t.default=o.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_class,_preact=__webpack_require__(0),_preactRedux=__webpack_require__(2),_actions=__webpack_require__(53),_reactive=__webpack_require__(16),_reactive2=_interopRequireDefault(_reactive),_EventDriver=__webpack_require__(3),_EventDriver2=_interopRequireDefault(_EventDriver),_Logger=__webpack_require__(24),_Logger2=_interopRequireDefault(_Logger),_Avatar=__webpack_require__(243),_Avatar2=_interopRequireDefault(_Avatar),_constants=__webpack_require__(106),_Animate=__webpack_require__(28),_DateUtils=__webpack_require__(38),_DateUtils2=_interopRequireDefault(_DateUtils),_ChatUtils=__webpack_require__(8),_ChatUtils2=_interopRequireDefault(_ChatUtils),_SpecialUtils=__webpack_require__(67),_SpecialUtils2=_interopRequireDefault(_SpecialUtils),_DomUtils=__webpack_require__(4),_DomUtils2=_interopRequireDefault(_DomUtils),renderFlags=_reactive2.default.renderFlags,typingState$=_reactive2.default.typingState$,queueMessagesRenderSubject$=_reactive2.default.queueMessagesRenderSubject$,inputAnimation$=_reactive2.default.inputAnimation$,messageMotion$=_reactive2.default.messageMotion$,avatarQuery$=_reactive2.default.avatarQuery$,brandMessageAnimation$=_reactive2.default.brandMessageAnimation$,userMessageAnimation$=_reactive2.default.userMessageAnimation$,_get=__webpack_require__(9),mapStateToProps=function(e){return{error_text:e.config.text.error,avatar_shape:e.config.avatar_shape,logo:e.config.logo,avatar_url:e.config.avatar_url,brand_name:e.config.brand_name,engage_protocol:e.config.engage_protocol,typing_options:e.config.typing_options,fixed:e.input.fixed,messagesList:e.messagesList,agents:e.agents,chat:e.chat,lastAvatar:e.chat.lastAvatar,fixed_avatar:e.chat.fixed_avatar}},mapDispatchToProps=function(e){return{enableEngage:function(){return e({type:_actions.ENABLE_ENGAGE})}}},Message=(_dec=(0,_preactRedux.connect)(mapStateToProps,mapDispatchToProps))(_class=function(_Component){function Message(e){_classCallCheck(this,Message);var t=_possibleConstructorReturn(this,(Message.__proto__||Object.getPrototypeOf(Message)).call(this,e));t.state={typing:e.data.typing,url:"image"===e.data.type?"string"==typeof e.data.url?e.data.url:t.getUrls([e.data.url])[0]:e.data.url,urls:"multiple_images"===e.data.type?"string"==typeof e.data.urls[0]?e.data.urls:t.getUrls(e.data.urls):[],avatarVisibility:!0,eval:!1},t.messageElement=null,t.messageInfo=null,t.messageContentRef=null,t.messageInnerContent=null,t.bubbleElem=null,t.motion=!1,t.mobileHA=e.mobileHA||!1,t.setupListeners(),t.scrollBottom=e.scrollBottom,t.fadeOut=t.fadeOut.bind(t);if(t.props.animate){var n="brand"===e.author?brandMessageAnimation$(e.data):userMessageAnimation$(e.data);n.subscribe({next:function(n){switch(n){case"brand_init":t.scrollBottom(250);break;case"brand_avatar_in":case"brand_bubble_left_in":case"brand_typing_on":break;case"brand_typing_off":t.setBubbleSize(250);break;case"brand_bubble_resize":break;case"brand_input_enable":inputAnimation$.next("input_enable");break;case"brand_flow_end":_EventDriver2.default.emit("hu-lb-message-flow-end");break;case"user_input_out":inputAnimation$.next("input_out"),t.setUserMessageSize();break;case"user_bubble_right_in":case"user_bubble_resize":break;case"user_flow_end":e.engage_protocol&&(e.fixed||setTimeout(function(){renderFlags.initEngageFlag&&e.chat.engage?(queueMessagesRenderSubject$.next(null),queueMessagesRenderSubject$.next({key:"engage_"+renderFlags.engageIndex++,type:"text",message:e.error_text,samurai:t.props.lastAvatar||-1,role:["engage","end-flow"],extra:{hide_textbox:!0}})):renderFlags.initEngageFlag&&!e.chat.engage&&e.enableEngage()},500)),_EventDriver2.default.emit("hu-lb-message-flow-end")}}}),n.next(t.props.data)}return t.__fixed_avatar=!0===t.props.fixed_avatar?t.props.avatar_url:t.props.fixed_avatar,t}return _inherits(Message,_Component),_createClass(Message,[{key:"setupListeners",value:function(){var e=this;messageMotion$().subscribe({next:function(t){e.motion&&!e.rendered&&(e.rendered=!0,e.setAvatarTranslation(t))}})}},{key:"setupMountedListeners",value:function(){var e=this;if("brand"===this.props.author)var t=avatarQuery$().subscribe({next:function(n){if(e.messageElement&&n===e.props.data.key){t.unsubscribe();var r=e.messageElement.offsetTop+e.messageElement.offsetHeight;_EventDriver2.default.emit("hu-lb-response-avatar-coords",r),e.setState({avatarVisibility:!1})}}});var n=this.state.typing,r=this.props.data.key;if(n)var i=typingState$.subscribe({next:function(t){t.key===r&&(!1===t.state?(_Logger2.default.append(["%c"+_DateUtils2.default.format(new Date,"HH:mm:ss.ff")+": Typing OFF","color:blue"],"landbot.messages["+r+"]"),i&&i.unsubscribe(),_EventDriver2.default.emit("hu-lb-bubble-typing-end")):(_Logger2.default.append(["%c"+_DateUtils2.default.format(new Date,"HH:mm:ss.ff")+": Typing ON","color:blue"],"landbot.messages["+r+"]"),e.setState({typing:t.state})))}});_EventDriver2.default.on("hu-reset-chat",this.fadeOut)}},{key:"componentDidMount",value:function(){this.setupMountedListeners(),_EventDriver2.default.emit("hu-lb-message-mounted"),this.motion||(this.rendered=!0),this.state.eval||this.executeScripts(),this.messageElement&&this.messageElement.removeAttribute("style")}},{key:"componentWillUnmount",value:function(){_EventDriver2.default.removeListener("hu-reset-chat",this.fadeOut),this.messageElement&&this.messageElement.removeAttribute("style"),this.messageContentRef&&this.messageContentRef.removeAttribute("style"),this.messageInnerContent&&this.messageInnerContent.removeAttribute("style")}},{key:"shouldComponentUpdate",value:function(e,t){for(var n=["url","avatarVisibility","eval","typing"],r=!1,i=0;i<n.length;i++)this.state[n[i]]!==t[n[i]]&&(r=!0);JSON.stringify(this.state.urls)!==JSON.stringify(t.urls)&&(r=!0);for(var o=this.props.data,a=["message","title","url"],s=0;s<a.length;s++)o[a[s]]!==e.data[a[s]]&&(r=!0);for(var u=["extraClass","avatar_shape","logo","avatar_url","fixed_avatar"],l=0;l<u.length;l++)this.props[u[l]]!==e[u[l]]&&(r=!0);return JSON.stringify(this.props.agents)!==JSON.stringify(e.agents)&&(r=!0),JSON.stringify(this.props.data.role)!==JSON.stringify(e.data.role)&&(r=!0),r}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data.role?this.props.data.role:[],n=e.data.role?e.data.role:[];t.indexOf("engage")>-1&&-1===n.indexOf("engage")&&(this.__fixed_avatar=!0===this.props.fixed_avatar?this.props.avatar_url:this.props.fixed_avatar)}},{key:"componentDidUpdate",value:function(e){var t=this.props.data.key,n=e.data.role?e.data.role:[],r=this.props.data.role?this.props.data.role:[];n.indexOf("engage")>-1&&-1===r.indexOf("engage")&&("image"===this.props.data.type&&this.setState({url:this.props.data.url}),"multiple_images"===this.props.data.type&&this.setState({urls:this.props.data.urls}),_EventDriver2.default.emit("hu-lb-engage-end"),_Logger2.default.append(_DateUtils2.default.format(new Date,"HH:mm:ss.ff")+": Sent endEngage event","landbot.messages["+t+"]"),this.executeScripts())}},{key:"fadeOut",value:function(){var e=this;(0,_Animate.Animate)(this.messageElement,{opacity:0},{duration:500},function(){e.messageElement.style.opacity=0})}},{key:"getUrls",value:function(e){for(var t=this,n=[],r=0;r<e.length;r++)!function(r){var i=new FileReader;i.readAsDataURL(e[r]),i.onload=function(e){n[r]=e.target.result,t.setState({url:n[0],urls:n})}}(r);return Array(e.length).fill(null)}},{key:"messageEnvironment",value:function(e){var t=this.props.messagesList,n=this.getMessageIndex(e);return-1===n?{prev:void 0,next:void 0}:{prev:t[n-1],next:t[n+1]}}},{key:"getMessageIndex",value:function(e){var t=this.props.messagesList,n=0;for(n;n<t.length;n++)if(t[n].key===e)return n;return-1}},{key:"getInfoRelativeCoords",value:function(e){return this.messageElement?e-(this.messageElement.offsetTop+this.messageElement.offsetHeight):0}},{key:"setAvatarTranslation",value:function(e){if(this.messageInfo){var t=this.messageInfo,n=this.getInfoRelativeCoords(e);t.style.transition="transform 0ms",t.style.visibility="hidden",t.style.transform="translateY("+n+"px)",t.style.visibility="",t.addEventListener("transitionend",function(e){"transform"===e.propertyName&&_EventDriver2.default.emit("hu-lb-avatar-translation-end")}),setTimeout(function(){t.style.transition="transform .25s",t.style.transform="translateY(0px)"},10)}}},{key:"setBubbleSize",value:function(e){var t=this,n=e.duration,r=void 0===n?250:n;if(this.bubbleElem){var i=this.bubbleElem,o=this.messageElement.cloneNode(!0);o.className=o.className.replace(/\sanimate/,"");var a=o.querySelector(".hu-message-bubble");a.style.width="auto",a.style.height="auto",document.getElementById("hu-msn-sandbox").appendChild(o);var s=_DomUtils2.default.getComputedStyle(a).width,u=_DomUtils2.default.getComputedStyle(a).height,l="upper_image"===_ChatUtils2.default.getMessageType(this.props.data)?"block":"inline-block";this.setState({typing:!1},function(){(0,_Animate.Animate)(i,{width:s,height:u},{duration:r,mobileHA:t.mobileHA,complete:function(){_EventDriver2.default.emit("hu-lb-bubble-resize-end"),(0,_Animate.Animate)(t.messageInnerContent,{opacity:1},{duration:0,display:l,mobileHA:t.mobileHA}),setTimeout(function(){i.style.width="auto",i.style.height="auto"},200)}},function(){i.style.width="auto",i.style.height="auto",t.messageInnerContent.style.display=l})}),this.scrollBottom(250);for(var c=document.getElementById("hu-msn-sandbox");c.firstChild;)c.removeChild(c.firstChild)}}},{key:"setUserMessageSize",value:function(){var e=this.messageElement,t=_DomUtils2.default.getComputedStyle(e.childNodes[0]).height;(0,_Animate.Animate)(e,{height:t},{duration:350,mobileHA:this.mobileHA,complete:function(){_EventDriver2.default.emit("hu-lb-bubble-resize-end"),setTimeout(function(){e.style.height="auto"},400)}},function(){e.style.height="auto"}),this.scrollBottom(350)}},{key:"executeScripts",value:function executeScripts(){var div=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.messageInnerContent;if(div&&this.props.animate){for(var evalScript=function evalScript(scriptText){try{eval(scriptText)}catch(e){console.error(e)}},scripts=div.getElementsByTagName("script"),extraScript=_get(this.props.data,"extra.script",""),i=0;i<scripts.length;i++)evalScript(scripts[i].textContent);evalScript(extraScript),this.setState({eval:!0})}}},{key:"getAgent",value:function(){var e=this.props,t=e.data,n=e.agents,r=(e.logo,e.avatar_url),i=e.brand_name,o=UmiCoreConfig.staticUrl+"landbot/files/lb-default-avatar.jpg";return this.__fixed_avatar?{avatar:this.__fixed_avatar,name:i}:t.samurai>0?n[t.samurai]?n[t.samurai]:{avatar:o,name:"landbot"}:t.samurai<-1&&n[t.samurai]?n[t.samurai]:{avatar:r,name:i}}},{key:"onBubbleClick",value:function(){this.state.typing&&_EventDriver2.default.emit("hu-lb-key-arrowdown")}},{key:"getYoutubeURL",value:function(e){var t="",n="",r=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=e.match(r);return i&&11==i[2].length&&(t=i[2],n="https://www.youtube.com/embed/"+t),n}},{key:"render",value:function(e,t){var n=this,r=e.avatar_shape,i=e.avatar_url,o=e.author,a=e.timestamp,s=e.data,u=(e.agents,e.animate),l=s.key,c=s.type,h=(s.message,s.title,s.file_name,s.brand,s.url_referral,t.typing),f=_get(e,"data.extra.extraClass",""),p=t.url,d=t.urls,v=t.avatarVisibility,m=_DateUtils2.default.format(a||Date.now(),"HH:mm"),y=_constants.mapMessagesContent[_ChatUtils2.default.getMessageType(s)],g=(0,_preact.h)(y,{animate:u,data:s,author:o,url:p,urls:d,messageInnerContent:function(e){return n.messageInnerContent=e},getYoutubeURL:this.getYoutubeURL.bind(this)}),b=this.messageEnvironment(l),_=b.prev,w=b.next,k=this.motion,C=this.rendered,x=!1,E=!1,S=v,O=s.samurai>0,T=this.getAgent();u&&"brand"===o&&(void 0!==_?"user"===_.author?x=!0:"brand"===_.author&&(_.data.samurai!==s.samurai?x=!0:(x=!1,_EventDriver2.default.emit("hu-lb-avatar-translation-end")),C||k||(this.motion=!0),_EventDriver2.default.emit("hu-lb-query-avatar-coords",_.key)):x=!0),void 0!==w&&("user"===w.author?S=!0:"brand"===w.author&&(s.samurai!==w.data.samurai?(S=!0,E=!0):S=!1));var P=["animate","left-in"],N=[u,x].map(function(e,t){return!!e&&P[t]}).filter(function(e){return e}).join(" ");return(0,_preact.h)("div",{id:l,className:"hu-message "+o+" "+N+" "+f+(E?" splitter":""),"data-type":c,"data-samurai":s.samurai,"data-role":(e.data.role||[]).join(",")||null,ref:function(e){return n.messageElement=e}},(0,_preact.h)("div",{className:"hu-message-container"},(0,_preact.h)("div",{className:"hu-message-margin"},i&&(0,_preact.h)("div",{className:"hu-message-info"+(S?" visible":""),ref:function(e){return n.messageInfo=e}},"brand"===o&&(0,_preact.h)(_Avatar2.default,{avatar_shape:r,isAgent:O,agent:T}),(0,_preact.h)("div",{className:"hu-message-date hu-a-center hu-s-10 hu-color_contrast"},(0,_preact.h)("span",null,O?T.name:m))),(0,_preact.h)("div",{key:l,className:"hu-message-content",ref:function(e){return n.messageContentRef=e}},(0,_preact.h)("div",{className:"hu-message-bubble hu-position-relative"+(h?" typing":"")+("brand"===o?" hu-background-color_bot-message-background":" hu-background-color_user-message-background"),ref:function(e){return n.bubbleElem=e},onClick:this.onBubbleClick.bind(this)},"brand"===o&&(0,_preact.h)("div",{className:"typing-spinner"},(0,_preact.h)("div",{className:"ball hu-background-color_accent"}),(0,_preact.h)("div",{className:"ball hu-background-color_accent"}),(0,_preact.h)("div",{className:"ball hu-background-color_accent"})),g)))))}}]),Message}(_preact.Component))||_class;exports.default=Message},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){var t=e.avatar_shape,n=e.isAgent,i=e.agent;return(0,r.h)("div",{key:i.avatar,className:"hu-message-avatar hu-background-color_contrast-fade "+t+(n?" agent":"")},(0,r.h)("div",{className:"hu-message-avatar_img hu-background-contain hu-width-full hu-height-full",style:{backgroundImage:i.avatar?"url("+i.avatar+")":null}}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){var t=e.data,n=e.author,i=e.messageInnerContent;return(0,r.h)("p",{className:"hu-message-text "+("brand"===n?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:i},o.default.getVirtualDOM(t.message))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){this.DEFAULTS={linkify:{enable:!0,class:"hu-link",class_big:"hu-big"},code:{enable:!0,class:"hu-code"},html:{enable:!1},symbols:{"*":{class:"hu-bold"},_:{class:"hu-italic"}}},this.extendDefaults=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(e[n]=t[n]);return e},this.options=this.extendDefaults(this.DEFAULTS,t),this.transform=function(t,n){if(t instanceof Node==!1)throw new Error("[RichText]: 1st argument must be a Node");if("string"!=typeof n)throw new Error("[RichText]: 2nd argument must be a String");if(t.innerHTML="",""!=n){var r=new e.Transformer(n,this.options);this.options.html.enable&&r.htmlInjection(),this.options.code.enable&&r.codify(),r.divideByLine(),r.domify(),!0===this.options.linkify.enable&&r.linkify();for(var i=r.sections,o=0;o<i.length;o++)t.appendChild(i[o]);return i}}};r.Transformer=function(e,t){this.raw=e,this.sections=[e],this.utils=new r.Utils(t),this.htmlInjection=function(){var e=this,t=new RegExp(/{html}([\s\S]*?){\/html}/g);this.sections=this.utils.splitStringFocus(this.sections,t),this.sections=this.sections.map(function(n){return e.utils.convertToHtml(n,t)})},this.codify=function(){var e=this,t=new RegExp(/```([\s\S]*?)```/g);this.sections=this.utils.splitStringFocus(this.sections,t),this.sections=this.sections.map(function(n){return e.utils.convertToCode(n,t)})},this.divideByLine=function(){this.sections=this.utils.splitStringFocus(this.sections,"\n")},this.domify=function(){var e=this;this.sections=this.sections.map(function(t,n){return e.utils.domifyString(t)}),this.sections=this.utils.levelUpArray(this.sections)},this.linkify=function(){var e=this;this.sections=this.sections.map(function(t,n){return e.utils.linkifyNode(t)}),this.sections=this.utils.levelUpArray(this.sections)}},r.FormatNode=function(e){this.index=e.index>-1?e.index:-1,this.symbols=e.symbols||[],this.hasSymbol=function(e){return this.symbols.indexOf(e)>-1},this.removeSymbol=function(e){this.symbols=this.symbols.filter(function(t,n){return t!=e})}},r.Utils=function(e){this.symbols=e.symbols,this.symbolsArr=Object.keys(e.symbols),this.linkify=e.linkify,this.code=e.code,this.splitStringFocus=function(e,t){var n=t instanceof RegExp?t:new RegExp(t,"g"),r=e.map(function(e,t){return"string"==typeof e?e.replace(n,"¡çÇ!$&¡çÇ!").split("¡çÇ!"):e});return r=this.levelUpArray(r.slice(0))},this.levelUpArray=function(e){for(var t=0;t<e.length;t++)e[t]instanceof Array?e.splice.apply(e,[t,1].concat(e[t])):(""==e[t].textContent&&"BR"!=e[t].tagName&&""==e[t].innerHTML||""==e[t])&&e.splice(t--,1);return e},this.domifyString=function(e){if("string"!=typeof e)return e;if("\n"==e)return document.createElement("br");var t=this.getFormatNodes(e);t=this.cleanFormatNodes(t.slice(0));var n=this.getNodeSections(e,t);return this.nodeProcessor(n,t)},this.getFormatNodes=function(e){for(var t=this,n=[""," ","\n","\t","(","[","{","'",'"',"`","¡","¿"],i=[" ","\n","\t",")","]","}","'",'"',"`","!","?",",",".",";",":"],o=[],a=!1,s=0;s<e.length;s++){var u=this.discoverSymbol(e.slice(s));if(1==u.state){var l=o[o.length-1];if(1==(!!l&&l.symbols.indexOf(u.symbol)>-1)){var c=e.charAt(s+u.symbol.length);((function(e){if(!e||""==e)return!0;var n=t.composeRegExp(t.symbolsArr,"exclusive");return null!=e.match(n)})(e.slice(s+u.symbol.length).split(t.composeRegExp(i))[0])||i.indexOf(c)>-1)&&o.push(this.createSubstractorNode(u.symbol,s,l)),a=!0}else{var h=e.charAt(s-1);(a||n.indexOf(h)>-1)&&(o.push(this.createAdderNode(u.symbol,s,l)),a=!0)}}else a=!1;s+=u.symbol?u.symbol.length-1:0}return o[0]&&0==o[0].index||o.unshift(new r.FormatNode({index:0,symbols:[]})),o},this.discoverSymbol=function(e){var t,n=this.symbolsArr;return n=n.filter(function(t,n){return t==e.slice(0,t.length)}),t=n.sort(function(e,t){return t.length-e.length})[0],{state:void 0!=t,symbol:t}},this.createSubstractorNode=function(e,t,n){return new r.FormatNode({index:t,symbols:n.symbols.slice(0).filter(function(t,n){return t!=e})})},this.createAdderNode=function(e,t,n){return new r.FormatNode({index:t,symbols:n?function(){var t=n.symbols.slice(0);return t.push(e),t}():[e]})},this.cleanFormatNodes=function(e){var t=e.length-1;if(!e[t])return e;if(0==e[t].symbols.length)return e;for(var n=e.slice(0),r=e[t].symbols,i=r.map(function(){return!1});t>-1;){for(var o=0;o<r.length;o++)n[t].hasSymbol(r[o])||(i[o]=!0),i[o]||n[t].removeSymbol(r[o]);n[t+1]&&JSON.stringify(n[t+1].symbols)==JSON.stringify(n[t].symbols)&&n.splice(t+1,1),t--}return n},this.getNodeSections=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r].index,o=t[r+1]?t[r+1].index:e.length;n.push(e.slice(i,o))}return n},this.nodeProcessor=function(e,t){var n=this;return e.map(function(e,r){var i=!!t[r-1]&&t[r-1].symbols;return n.spanify(e,t[r].symbols,i)})},this.spanify=function(e,t,n){var r=this;if("string"!=typeof e)return e;var i,o;i=n?t.concat(n):t,o=this.composeRegExp(i,"begins"),e=e.replace(o,"");var a=t.map(function(e){return r.symbols[e].class});if(a.length>0){var s=document.createElement("span");return s.className="rich-text "+a.join(" "),s.textContent=e,s}return document.createTextNode(e)},this.escapeRegExp=function(e){if(!e)return"";var t=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],n=RegExp("["+t.join("\\")+"]","g");return e.replace(n,"\\$&")},this.composeRegExp=function(e,t){var n=this;return"begins"===t?new RegExp("^("+e.map(function(e){return n.escapeRegExp(e)}).join("|")+")+","g"):"exclusive"===t?new RegExp("^("+e.map(function(e){return n.escapeRegExp(e)}).join("|")+")+$","g"):new RegExp("("+e.map(function(e){return n.escapeRegExp(e)}).join("|")+")+","g")},this.convertToCode=function(e,t){if("string"!=typeof e||""===e)return e;if(null===e.match(t))return e;var n=document.createElement("span");return n.className="rich-text "+this.code.class,n.textContent=e.replace(t,"$1"),n},this.convertToHtml=function(e,t){if("string"!=typeof e||""===e)return e;if(null===e.match(t))return e;var n=document.createElement("div");return n.className="rich-text rich-text-noop",n.innerHTML=e.replace(t,"$1").trim(),n},this.linkifyNode=function(e){if(e.className&&e.className.indexOf("rich-text-noop")>-1)return e;for(var t,n=this,r=e.textContent,i=/(http(s)?(:\/\/))?(www\.)?([-\w\.]+@)?(?:(?:[-\w\.]+(\.(?:nl|se|no|es|milru|fr|es|uk|ca|de|jp|au|us|ch|it|io|org|com|net|int|edu|mil|arpa|ly|in)))|(?:(?:(?:[0-9]{1,3}\.){3}[0-9]{1,3})|(?:localhost)(?:[0-9]{1,5})?))([-a-zA-Z0-9:%_\+.~#?&\/\/=@]*)(?:(?:\[.+?\])*(?:!!)*)/gi,o=r,a=[];t=i.exec(o);){var s=document.createTextNode(o.slice(0,t.index)),u=function(e){var t="!!"==e.slice(e.length-2,e.length),r=null!=e.match(/\[.*\]/g),i="http"==e.slice(0,4),o=/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e),a=document.createElement("a"),s=t?n.linkify.class+" "+n.linkify.class_big:n.linkify.class,u=t?e.slice(0,e.length-2):e;u=r?u.replace(/(^.*)\[(.*)\](.*)/g,"$2"):u;var l=t?e.slice(0,e.length-2):e;return l=r?l.replace(/(^.*)\[(.*)\](.*)/g,"$1"):l,l=i||o?l:"http://".concat(l),l=o?"mailto:".concat(l):l,a.className="rich-text "+s,a.href=l,a.target=o?"_top":"_blank",a.textContent=u,a}(o.slice(t.index,t.index+t[0].length));a.push(s,u),o=o.slice(t.index+t[0].length),i.lastIndex=0}if(a.length>0&&""!=o&&a.push(document.createTextNode(o)),a.length>0){if(e.innerHTML="",!(e instanceof HTMLElement))return a;for(var l=0;l<a.length;l++)""!=a[l].textContent&&e.appendChild(a[l])}return[e]}},r.VERSION="2.0.5";var i=new r({linkify:{enable:!0,class:"hu-link",class_big:"hu-size-big"},code:{enable:!0,class:"hu-code"},html:{enable:!0},symbols:{"*":{class:"hu-w-bold"},_:{class:"hu-st-italic"},"%h1":{class:"hu-s-20"},"%c1":{class:"hu-color_accent"},"%c2":{class:"hu-color_dark"},"[vcenter]":{class:"hu-v-middle"}}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(67),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){var t=e.data,n=e.author,i=e.messageInnerContent;return(0,r.h)("p",{className:"hu-message-text "+("brand"===n?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:i},t.message,(0,r.h)("div",{className:"referral-buttons"},(0,r.h)("a",{href:o.default.getReferralUrl("facebook"),target:"_blank",className:"menu-button referral-facebook hu-a-center hu-s-13"},(0,r.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,r.h)("path",{fill:"#FFFFFF",d:"M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z"})),(0,r.h)("span",null,"Facebook")),(0,r.h)("a",{href:o.default.getReferralUrl("twitter"),target:"_blank",className:"menu-button referral-twitter hu-a-center hu-s-13"},(0,r.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,r.h)("path",{fill:"#FFFFFF",d:"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"})),(0,r.h)("span",null,"Twitter")),(0,r.h)("a",{href:o.default.getReferralUrl("linkedin"),target:"_blank",className:"menu-button referral-linkedin hu-a-center hu-s-13"},(0,r.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,r.h)("path",{fill:"#FFFFFF",d:"M21,21H17V14.25C17,13.19 15.81,12.31 14.75,12.31C13.69,12.31 13,13.19 13,14.25V21H9V9H13V11C13.66,9.93 15.36,9.24 16.5,9.24C19,9.24 21,11.28 21,13.75V21M7,21H3V9H7V21M5,3A2,2 0 0,1 7,5A2,2 0 0,1 5,7A2,2 0 0,1 3,5A2,2 0 0,1 5,3Z"})),(0,r.h)("span",null,"LinkedIn")),(0,r.h)("a",{href:o.default.getReferralUrl("whatsapp"),target:"_blank",className:"menu-button referral-whatsapp hu-a-center hu-s-13"},(0,r.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,r.h)("path",{fill:"#FFFFFF",d:"M16.75,13.96C17,14.09 17.16,14.16 17.21,14.26C17.27,14.37 17.25,14.87 17,15.44C16.8,16 15.76,16.54 15.3,16.56C14.84,16.58 14.83,16.92 12.34,15.83C9.85,14.74 8.35,12.08 8.23,11.91C8.11,11.74 7.27,10.53 7.31,9.3C7.36,8.08 8,7.5 8.26,7.26C8.5,7 8.77,6.97 8.94,7H9.41C9.56,7 9.77,6.94 9.96,7.45L10.65,9.32C10.71,9.45 10.75,9.6 10.66,9.76L10.39,10.17L10,10.59C9.88,10.71 9.74,10.84 9.88,11.09C10,11.35 10.5,12.18 11.2,12.87C12.11,13.75 12.91,14.04 13.15,14.17C13.39,14.31 13.54,14.29 13.69,14.13L14.5,13.19C14.69,12.94 14.85,13 15.08,13.08L16.75,13.96M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C10.03,22 8.2,21.43 6.65,20.45L2,22L3.55,17.35C2.57,15.8 2,13.97 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.72 4.54,15.31 5.46,16.61L4.5,19.5L7.39,18.54C8.69,19.46 10.28,20 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"})),(0,r.h)("span",null,"WhatsApp"))))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){var t=e.data,n=e.author,i=e.messageInnerContent;return(0,r.h)("p",{className:"hu-message-text "+("brand"===n?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:i},o.default.getVirtualDOM(t.title))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){var t=e.data,n=e.url,i=e.file_name,o=e.messageInnerContent;return(0,r.h)("div",{className:"hu-message-image",ref:o},(n||t.url)&&(0,r.h)("a",{className:"image-anchor",href:n||t.url,target:"_blank"},(0,r.h)("img",{src:n||t.url,alt:i})))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){var t=e.urls,n=e.messageInnerContent;return(0,r.h)("div",{className:"hu-message-image",ref:n},t.map(function(e){return e&&(0,r.h)("a",{className:"image-anchor",href:e,target:"_blank"},(0,r.h)("img",{src:e}))}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){var t=e.data,n=e.messageInnerContent,i=e.getYoutubeURL;return(0,r.h)("div",{className:"hu-message-iframe",ref:n},t.url&&(0,r.h)("iframe",{type:"text/html",width:"640",height:"360",src:i(t.url),frameborder:"0",allowFullScreen:!0}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){var t=e.data,n=e.author,i=e.messageInnerContent;return(0,r.h)("p",{style:{borderBottom:"1px solid black"},className:"hu-message-document "+("brand"===n?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:i},(0,r.h)("a",{style:{textDecoration:"none"},href:"string"==typeof t.url?t.url:null,target:"_blank"},(0,r.h)("i",{style:{marginRight:5},className:"fi document"}),"File"))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(4),l=(function(e){e&&e.__esModule}(u),n(9)),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={time:e.animate?l(e,"data.extra.redirect.timeout","X"):0},n.countdown=null,n}return o(t,e),a(t,[{key:"componentDidMount",value:function(){"number"==typeof this.state.time&&!0===this.props.animate&&(this.countdown=setInterval(this.tick.bind(this),1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdown)}},{key:"tick",value:function(){var e=this.state.time-1;e<0?this.finalize():this.setState({time:e})}},{key:"finalize",value:function(){clearInterval(this.countdown),window.top!=window.self?window.top.location.href=this.props.data.url||this.props.data.extra.redirect.url:location.href=this.props.data.url||this.props.data.extra.redirect.url}},{key:"render",value:function(e,t){var n=["dialog","menu"].indexOf(e.data.type)>-1?e.data.title:e.data.message,r=n.indexOf("{timeout}"),i=r+"{timeout}".length;return(0,s.h)("p",{className:"hu-message-text "+("brand"===e.data.author?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:e.messageInnerContent},r>-1?[n.substring(0,r),(0,s.h)("b",null,t.time),n.substring(i)]:n)}}]),t}(s.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(9),s=function(e){var t=e.data,n=e.author,i=e.messageInnerContent,s=a(t,"extra.message.upper_image",!1);return(0,r.h)("p",{className:"hu-message-text "+("brand"===n?"hu-color_bot-message-text":"hu-color_user-message-text"),ref:i},s&&(0,r.h)("div",{className:"hu-message_upper-image hu-background-cover",style:{backgroundImage:"url("+s+")"}}),o.default.getVirtualDOM(t.title||t.message))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(107),o=function(e){var t=e.data,n=e.messageInnerContent,o="https://maps.googleapis.com/maps/api/staticmap?center="+t.latitude+","+t.longitude+"&size=600x300&zoom=15&markers=color:red%7C"+t.latitude+","+t.longitude+"&key="+i.GOOGLE_API_KEY,a="https://www.google.com/maps/search/?api=1&query="+t.latitude+","+t.longitude;return(0,r.h)("div",{className:"hu-message-location",ref:n},(0,r.h)("a",{className:"image-anchor",href:a,target:"_blank"},(0,r.h)("img",{src:o})))};t.default=o},function(e,t,n){"use strict";/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(t,r,i){void 0!==e&&e.exports?e.exports=i():n(256)(r,i)}(0,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),s=!o&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),l=!u&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),h=/silk/i.test(e),f=/sailfish/i.test(e),p=/tizen/i.test(e),d=/(web|hpw)os/i.test(e),v=/windows phone/i.test(e),m=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),y=!i&&!h&&/macintosh/i.test(e),g=!s&&!f&&!p&&!d&&/linux/i.test(e),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),k=!w&&/[^-]mobi/i.test(e),C=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:a,version:_||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:a,version:_||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:a,version:_||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:a,version:_||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},b?(r.msedge=a,r.version=b):(r.msie=a,r.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:a,version:b}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?r={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=a,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:_||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(r={name:"WebOS",osname:"WebOS",webos:a,version:_||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=a)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?r={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:a},_&&(r.version=_)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||_}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=a):(r.name=r.name||"Webkit",r.webkit=a),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=a,r.version=r.version||t(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&i?(r[i]=a,r.ios=a,r.osname="iOS"):y?(r.mac=a,r.osname="macOS"):C?(r.xbox=a,r.osname="Xbox"):m?(r.windows=a,r.osname="Windows"):g&&(r.linux=a,r.osname="Linux"):(r.android=a,r.osname="Android");var x="";r.windows?x=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?x=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(x=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),x=x.replace(/[_\s]/g,".")):i?(x=t(/os (\d+([_\s]\d+)*) like mac os x/i),x=x.replace(/[_\s]/g,".")):s?x=t(/android[ \/-](\d+(\.\d+)*)/i):r.webos?x=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?x=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?x=t(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(x=t(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(r.osversion=x);var E=!r.windows&&x.split(".")[0];return w||l||"ipad"==i||s&&(3==E||E>=4&&!k)||r.silk?r.tablet=a:(k||"iphone"==i||"ipod"==i||s||u||r.blackberry||r.webos||r.bada)&&(r.mobile=a),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=a:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=a:r.x=a,r}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var o=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(o=e(i));var a=""+o.version;for(var u in t)if(t.hasOwnProperty(u)&&o[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return r([a,t[u]])<0}return n}function o(e,t,n){return!i(e,t,n)}var a=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=o,s._detect=e,s.detect=e,s})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";(function(e){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){function t(e){var t=e.length,r=n.type(e);return"function"!==r&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var n=function e(t,n){return new e.fn.init(t,n)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==(void 0===e?"undefined":o(e))||"function"==typeof e?i[s.call(e)]||"object":void 0===e?"undefined":o(e):e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},n.each=function(e,n,r){var i=0,o=e.length,a=t(e);if(r){if(a)for(;i<o&&!1!==n.apply(e[i],r);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===n.apply(e[i],r))break}else if(a)for(;i<o&&!1!==n.call(e[i],i,e[i]);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(e[i],i,e[i]))break;return e},n.data=function(e,t,i){if(void 0===i){var o=e[n.expando],a=o&&r[o];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var s=e[n.expando]||(e[n.expando]=++n.uuid);return r[s]=r[s]||{},r[s][t]=i,i}},n.removeData=function(e,t){var i=e[n.expando],o=i&&r[i];o&&(t?n.each(t,function(e,t){delete o[t]}):delete r[i])},n.extend=function(){var e,t,r,i,a,s,u=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[l]||{},l++),"object"!=(void 0===u?"undefined":o(u))&&"function"!==n.type(u)&&(u={}),l===c&&(u=this,l--);l<c;l++)if(a=arguments[l])for(i in a)a.hasOwnProperty(i)&&(e=u[i],r=a[i],u!==r&&(h&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,s=e&&n.isArray(e)?e:[]):s=e&&n.isPlainObject(e)?e:{},u[i]=n.extend(h,s,r)):void 0!==r&&(u[i]=r)));return u},n.queue=function(e,r,i){if(e){r=(r||"fx")+"queue";var o=n.data(e,r);return i?(!o||n.isArray(i)?o=n.data(e,r,function(e,n){var r=[];return e&&(t(Object(e))?function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];e.length=i}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}(i)):o.push(i),o):o||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var i=n.queue(r,t),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===t&&i.unshift("inprogress"),o.call(r,function(){n.dequeue(r,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}(e),r=this.offset(),i=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(i.top+=parseFloat(t.style.borderTopWidth)||0,i.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},a=i.hasOwnProperty,s=i.toString,u="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<u.length;l++)i["[object "+u[l]+"]"]=u[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(a){"object"==o(e)&&"object"==o(e.exports)?e.exports=a():(r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i))}(function(){return function(e,t,n,r){function i(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function o(e){return _.isWrapped(e)?e=g.call(e):_.isNode(e)&&(e=[e]),e}function a(e){var t=d.data(e,"velocity");return null===t?r:t}function s(e,t){var n=a(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function u(e,t){var n=a(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function l(e){return function(t){return Math.round(t*e)*(1/e)}}function c(e,n,r,i){function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function u(e,t,n){return((o(t,n)*e+a(t,n))*e+s(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*a(t,n)*e+s(t)}function c(t,n){for(var i=0;i<v;++i){var o=l(n,e,r);if(0===o)return n;n-=(u(n,e,r)-t)/o}return n}function h(){for(var t=0;t<b;++t)C[t]=u(t*_,e,r)}function f(t,n,i){var o,a,s=0;do{a=n+(i-n)/2,o=u(a,e,r)-t,o>0?i=a:n=a}while(Math.abs(o)>y&&++s<g);return a}function p(t){for(var n=0,i=1,o=b-1;i!==o&&C[i]<=t;++i)n+=_;--i;var a=(t-C[i])/(C[i+1]-C[i]),s=n+a*_,u=l(s,e,r);return u>=m?c(t,s):0===u?s:f(t,n,n+_)}function d(){x=!0,e===n&&r===i||h()}var v=4,m=.001,y=1e-7,g=10,b=11,_=1/(b-1),w="Float32Array"in t;if(4!==arguments.length)return!1;for(var k=0;k<4;++k)if("number"!=typeof arguments[k]||isNaN(arguments[k])||!isFinite(arguments[k]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var C=w?new Float32Array(b):new Array(b),x=!1,E=function(t){return x||d(),e===n&&r===i?t:0===t?0:1===t?1:u(p(t),n,i)};E.getControlPoints=function(){return[{x:e,y:n},{x:r,y:i}]};var S="generateBezier("+[e,n,r,i]+")";return E.toString=function(){return S},E}function h(e,t){var n=e;return _.isString(e)?x.Easings[e]||(n=!1):n=_.isArray(e)&&1===e.length?l.apply(null,e):_.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):!(!_.isArray(e)||4!==e.length)&&c.apply(null,e),!1===n&&(n=x.Easings[x.defaults.easing]?x.defaults.easing:C),n}function f(e){if(e){var t=x.timestamp&&!0!==e?e:y.now(),n=x.State.calls.length;n>1e4&&(x.State.calls=i(x.State.calls),n=x.State.calls.length);for(var o=0;o<n;o++)if(x.State.calls[o]){var s=x.State.calls[o],u=s[0],l=s[2],c=s[3],h=!!c,m=null,g=s[5],b=s[6];if(c||(c=x.State.calls[o][3]=t-16),g){if(!0!==g.resume)continue;c=s[3]=Math.round(t-b-16),s[5]=null}b=s[6]=t-c;for(var w=Math.min(b/l.duration,1),k=0,C=u.length;k<C;k++){var E=u[k],O=E.element;if(a(O)){var P=!1;if(l.display!==r&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var N=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];d.each(N,function(e,t){S.setPropertyValue(O,"display",t)})}S.setPropertyValue(O,"display",l.display)}l.visibility!==r&&"hidden"!==l.visibility&&S.setPropertyValue(O,"visibility",l.visibility);for(var I in E)if(E.hasOwnProperty(I)&&"element"!==I){var A,D=E[I],M=_.isString(D.easing)?x.Easings[D.easing]:D.easing;if(_.isString(D.pattern)){var j=1===w?function(e,t,n){var r=D.endValue[t];return n?Math.round(r):r}:function(e,t,n){var r=D.startValue[t],i=D.endValue[t]-r,o=r+i*M(w,l,i);return n?Math.round(o):o};A=D.pattern.replace(/{(\d+)(!)?}/g,j)}else if(1===w)A=D.endValue;else{var R=D.endValue-D.startValue;A=D.startValue+R*M(w,l,R)}if(!h&&A===D.currentValue)continue;if(D.currentValue=A,"tween"===I)m=A;else{var F;if(S.Hooks.registered[I]){F=S.Hooks.getRoot(I);var L=a(O).rootPropertyValueCache[F];L&&(D.rootPropertyValue=L)}var U=S.setPropertyValue(O,I,D.currentValue+(v<9&&0===parseFloat(A)?"":D.unitType),D.rootPropertyValue,D.scrollData);S.Hooks.registered[I]&&(S.Normalizations.registered[F]?a(O).rootPropertyValueCache[F]=S.Normalizations.registered[F]("extract",null,U[1]):a(O).rootPropertyValueCache[F]=U[1]),"transform"===U[0]&&(P=!0)}}l.mobileHA&&a(O).transformCache.translate3d===r&&(a(O).transformCache.translate3d="(0px, 0px, 0px)",P=!0),P&&S.flushTransformCache(O)}}l.display!==r&&"none"!==l.display&&(x.State.calls[o][2].display=!1),l.visibility!==r&&"hidden"!==l.visibility&&(x.State.calls[o][2].visibility=!1),l.progress&&l.progress.call(s[1],s[1],w,Math.max(0,c+l.duration-t),c,m),1===w&&p(o)}}x.State.isTicking&&T(f)}function p(e,t){if(!x.State.calls[e])return!1;for(var n=x.State.calls[e][0],i=x.State.calls[e][1],o=x.State.calls[e][2],s=x.State.calls[e][4],u=!1,l=0,c=n.length;l<c;l++){var h=n[l].element;t||o.loop||("none"===o.display&&S.setPropertyValue(h,"display",o.display),"hidden"===o.visibility&&S.setPropertyValue(h,"visibility",o.visibility));var f=a(h);if(!0!==o.loop&&(d.queue(h)[1]===r||!/\.velocityQueueEntryFlag/i.test(d.queue(h)[1]))&&f){f.isAnimating=!1,f.rootPropertyValueCache={};var p=!1;d.each(S.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,i=f.transformCache[t];f.transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(p=!0,delete f.transformCache[t])}),o.mobileHA&&(p=!0,delete f.transformCache.translate3d),p&&S.flushTransformCache(h),S.Values.removeClass(h,"velocity-animating")}if(!t&&o.complete&&!o.loop&&l===c-1)try{o.complete.call(i,i)}catch(e){setTimeout(function(){throw e},1)}s&&!0!==o.loop&&s(i),f&&!0===o.loop&&!t&&(d.each(f.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),x(h,"reverse",{loop:!0,delay:o.delay})),!1!==o.queue&&d.dequeue(h,o.queue)}x.State.calls[e]=!1;for(var v=0,m=x.State.calls.length;v<m;v++)if(!1!==x.State.calls[v]){u=!0;break}!1===u&&(x.State.isTicking=!1,delete x.State.calls,x.State.calls=[])}var d,v=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return r}(),m=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),y=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),g=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var r=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=r),this.slice)return e.call(this,t,n);var i,o=[],a=t>=0?t:Math.max(0,r+t),s=n<0?r+n:Math.min(n,r),u=s-a;if(u>0)if(o=new Array(u),this.charAt)for(i=0;i<u;i++)o[i]=this.charAt(a+i);else for(i=0;i<u;i++)o[i]=this[a+i];return o}}}(),b=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},_={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&_.isNumber(e.length)&&!_.isString(e)&&!_.isFunction(e)&&!_.isNode(e)&&(0===e.length||_.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},w=!1;if(e.fn&&e.fn.jquery?(d=e,w=!0):d=t.Velocity.Utilities,v<=8&&!w)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(v<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var k=400,C="swing",x={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:k,easing:C,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){d.data(e,"velocity",{isSVG:_.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();d.each(x.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}}),d.each(x.State.delayedElements,function(e,n){n&&s(n,t)})},resumeAll:function(e){var t=(new Date).getTime();d.each(x.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}}),d.each(x.State.delayedElements,function(e,n){n&&u(n,t)})}};t.pageYOffset!==r?(x.State.scrollAnchor=t,x.State.scrollPropertyLeft="pageXOffset",x.State.scrollPropertyTop="pageYOffset"):(x.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,x.State.scrollPropertyLeft="scrollLeft",x.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),u=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),l=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function e(t,r,i){var o,a,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,u.tension=t,u.friction=r,o=null!==i,o?(c=e(t,r),a=c/i*.016):a=.016;s=n(s||u,a),l.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(e){return l[e*(l.length-1)|0]}:c}}();x.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){x.Easings[t[0]]=c.apply(null,t[1])});var S=x.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,i;if(v)for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){r=S.Hooks.templates[n],i=r[0].split(" ");var o=r[1].match(S.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),S.Hooks.templates[n]=[i.join(" "),o.join(" ")])}for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){r=S.Hooks.templates[n],i=r[0].split(" ");for(var a in i)if(i.hasOwnProperty(a)){var s=n+i[a],u=a;S.Hooks.registered[s]=[n,u]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&b(S.Lists.units,n)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return S.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+S.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=S.Hooks.registered[e];if(n){var r=n[0],i=n[1];return t=S.Hooks.cleanRootPropertyValue(r,t),t.toString().match(S.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,n){var r=S.Hooks.registered[e];if(r){var i,o=r[0],a=r[1];return n=S.Hooks.cleanRootPropertyValue(o,n),i=n.toString().match(S.RegEx.valueSplit),i[a]=t,i.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return S.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(S.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return x.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(v<=8)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){function e(e,t,n){if("border-box"===S.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var r,i,o=0,a="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(r=0;r<s.length;r++)i=parseFloat(S.getPropertyValue(t,s[r])),isNaN(i)||(o+=i);return n?-o:o}return 0}function t(t,n){return function(r,i,o){switch(r){case"name":return t;case"extract":return parseFloat(o)+e(t,i,n);case"inject":return parseFloat(o)-e(t,i,n)+"px"}}}v&&!(v>9)||x.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var n=0;n<S.Lists.transformsBase.length;n++)!function(){var e=S.Lists.transformsBase[n];S.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return"transform";case"extract":return a(n)===r||a(n).transformCache[e]===r?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":x.State.isAndroid&&a(n).transformCache[e]===r&&i<1&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(a(n).transformCache[e]="("+i+")"),a(n).transformCache[e]}}}();for(var i=0;i<S.Lists.colors.length;i++)!function(){var e=S.Lists.colors[i];S.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return e;case"extract":var o;if(S.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?a=s[i]!==r?s[i]:s.black:S.RegEx.isHex.test(i)?a="rgb("+S.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(a=s.black),o=(a||i).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!v||v>8)&&3===o.split(" ").length&&(o+=" 1"),o;case"inject":return/^rgb/.test(i)?i:(v<=8?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(v<=8?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();S.Normalizations.registered.innerWidth=t("width",!0),S.Normalizations.registered.innerHeight=t("height",!0),S.Normalizations.registered.outerWidth=t("width"),S.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(v||x.State.isAndroid&&!x.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(x.State.prefixMatches[e])return[x.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;n<r;n++){var i;if(i=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),_.isString(x.State.prefixElement.style[i]))return x.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),t=n.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(_.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(_.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,i,o){function s(e,n){var i=0;if(v<=8)i=d.css(e,n);else{var u=!1;/^(width|height)$/.test(n)&&0===S.getPropertyValue(e,"display")&&(u=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e)));var l=function(){u&&S.setPropertyValue(e,"display","none")};if(!o){if("height"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return l(),c}if("width"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return l(),h}}var f;f=a(e)===r?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),i=9===v&&"filter"===n?f.getPropertyValue(n):f[n],""!==i&&null!==i||(i=e.style[n]),l()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(n)){var p=s(e,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(n))&&(i=d(e).position()[n]+"px")}return i}var u;if(S.Hooks.registered[n]){var l=n,c=S.Hooks.getRoot(l);i===r&&(i=S.getPropertyValue(e,S.Names.prefixCheck(c)[0])),S.Normalizations.registered[c]&&(i=S.Normalizations.registered[c]("extract",e,i)),u=S.Hooks.extractValue(l,i)}else if(S.Normalizations.registered[n]){var h,f;h=S.Normalizations.registered[n]("name",e),"transform"!==h&&(f=s(e,S.Names.prefixCheck(h)[0]),S.Values.isCSSNullValue(f)&&S.Hooks.templates[n]&&(f=S.Hooks.templates[n][1])),u=S.Normalizations.registered[n]("extract",e,f)}if(!/^[\d-]/.test(u)){var p=a(e);if(p&&p.isSVG&&S.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{u=e.getBBox()[n]}catch(e){u=0}else u=e.getAttribute(n);else u=s(e,S.Names.prefixCheck(n)[0])}return S.Values.isCSSNullValue(u)&&(u=0),x.debug>=2&&console.log("Get "+n+": "+u),u},setPropertyValue:function(e,n,r,i,o){var s=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=r:"Left"===o.direction?t.scrollTo(r,o.alternateValue):t.scrollTo(o.alternateValue,r);else if(S.Normalizations.registered[n]&&"transform"===S.Normalizations.registered[n]("name",e))S.Normalizations.registered[n]("inject",e,r),s="transform",r=a(e).transformCache[n];else{if(S.Hooks.registered[n]){var u=n,l=S.Hooks.getRoot(n);i=i||S.getPropertyValue(e,l),r=S.Hooks.injectValue(u,r,i),n=l}if(S.Normalizations.registered[n]&&(r=S.Normalizations.registered[n]("inject",e,r),n=S.Normalizations.registered[n]("name",e)),s=S.Names.prefixCheck(n)[0],v<=8)try{e.style[s]=r}catch(e){x.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else{var c=a(e);c&&c.isSVG&&S.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[s]=r}x.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(e){var t="",n=a(e);if((v||x.State.isAndroid&&!x.State.isChrome)&&n&&n.isSVG){var r=function(t){return parseFloat(S.getPropertyValue(e,t))},i={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};d.each(a(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(t+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var o,s;d.each(a(e).transformCache,function(n){if(o=a(e).transformCache[n],"transformPerspective"===n)return s=o,!0;9===v&&"rotateZ"===n&&(n="rotate"),t+=n+o+" "}),s&&(t="perspective"+s+" "+t)}S.setPropertyValue(e,"transform",t)}};S.Hooks.register(),S.Normalizations.register(),x.hook=function(e,t,n){var i;return e=o(e),d.each(e,function(e,o){if(a(o)===r&&x.init(o),n===r)i===r&&(i=S.getPropertyValue(o,t));else{var s=S.setPropertyValue(o,t,n);"transform"===s[0]&&x.CSS.flushTransformCache(o),i=s}}),i};var O=function e(){function i(){return v?O.promise||null:m}function l(e,i){function o(o){var c,p;if(u.begin&&0===P)try{u.begin.call(g,g)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===A){var v,m,y,k=/^x$/i.test(u.axis)?"Left":"Top",E=parseFloat(u.offset)||0;u.container?_.isWrapped(u.container)||_.isNode(u.container)?(u.container=u.container[0]||u.container,v=u.container["scroll"+k],y=v+d(e).position()[k.toLowerCase()]+E):u.container=null:(v=x.State.scrollAnchor[x.State["scrollProperty"+k]],m=x.State.scrollAnchor[x.State["scrollProperty"+("Left"===k?"Top":"Left")]],y=d(e).offset()[k.toLowerCase()]+E),l={scroll:{rootPropertyValue:!1,startValue:v,currentValue:v,endValue:y,unitType:"",easing:u.easing,scrollData:{container:u.container,direction:k,alternateValue:m}},element:e},x.debug&&console.log("tweensContainer (scroll): ",l.scroll,e)}else if("reverse"===A){if(!(c=a(e)))return;if(!c.tweensContainer)return void d.dequeue(e,u.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,C.easing||delete u.easing,C.duration||delete u.duration,u=d.extend({},c.opts,u),p=d.extend(!0,{},c?c.tweensContainer:null);for(var N in p)if(p.hasOwnProperty(N)&&"element"!==N){var I=p[N].startValue;p[N].startValue=p[N].currentValue=p[N].endValue,p[N].endValue=I,_.isEmptyObject(C)||(p[N].easing=u.easing),x.debug&&console.log("reverse tweensContainer ("+N+"): "+JSON.stringify(p[N]),e)}l=p}else if("start"===A){(c=a(e))&&c.tweensContainer&&!0===c.isAnimating&&(p=c.tweensContainer);var D=function(i,o){var a,h=S.Hooks.getRoot(i),f=!1,v=o[0],m=o[1],y=o[2];if(!(c&&c.isSVG||"tween"===h||!1!==S.Names.prefixCheck(h)[1]||S.Normalizations.registered[h]!==r))return void(x.debug&&console.log("Skipping ["+h+"] due to a lack of browser support."));(u.display!==r&&null!==u.display&&"none"!==u.display||u.visibility!==r&&"hidden"!==u.visibility)&&/opacity|filter/.test(i)&&!y&&0!==v&&(y=0),u._cacheValues&&p&&p[i]?(y===r&&(y=p[i].endValue+p[i].unitType),f=c.rootPropertyValueCache[h]):S.Hooks.registered[i]?y===r?(f=S.getPropertyValue(e,h),y=S.getPropertyValue(e,i,f)):f=S.Hooks.templates[h][1]:y===r&&(y=S.getPropertyValue(e,i));var g,b,w,k=!1,C=function(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=S.Values.getUnitType(e)),[r,n]};if(y!==v&&_.isString(y)&&_.isString(v)){a="";var E=0,O=0,T=[],P=[],N=0,I=0,A=0;for(y=S.Hooks.fixColors(y),v=S.Hooks.fixColors(v);E<y.length&&O<v.length;){var D=y[E],M=v[O];if(/[\d\.-]/.test(D)&&/[\d\.-]/.test(M)){for(var j=D,R=M,F=".",U=".";++E<y.length;){if((D=y[E])===F)F="..";else if(!/\d/.test(D))break;j+=D}for(;++O<v.length;){if((M=v[O])===U)U="..";else if(!/\d/.test(M))break;R+=M}var V=S.Hooks.getUnit(y,E),H=S.Hooks.getUnit(v,O);if(E+=V.length,O+=H.length,V===H)j===R?a+=j+V:(a+="{"+T.length+(I?"!":"")+"}"+V,T.push(parseFloat(j)),P.push(parseFloat(R)));else{var B=parseFloat(j),W=parseFloat(R);a+=(N<5?"calc":"")+"("+(B?"{"+T.length+(I?"!":"")+"}":"0")+V+" + "+(W?"{"+(T.length+(B?1:0))+(I?"!":"")+"}":"0")+H+")",B&&(T.push(B),P.push(0)),W&&(T.push(0),P.push(W))}}else{if(D!==M){N=0;break}a+=D,E++,O++,0===N&&"c"===D||1===N&&"a"===D||2===N&&"l"===D||3===N&&"c"===D||N>=4&&"("===D?N++:(N&&N<5||N>=4&&")"===D&&--N<5)&&(N=0),0===I&&"r"===D||1===I&&"g"===D||2===I&&"b"===D||3===I&&"a"===D||I>=3&&"("===D?(3===I&&"a"===D&&(A=1),I++):A&&","===D?++A>3&&(I=A=0):(A&&I<(A?5:4)||I>=(A?4:3)&&")"===D&&--I<(A?5:4))&&(I=A=0)}}E===y.length&&O===v.length||(x.debug&&console.error('Trying to pattern match mis-matched strings ["'+v+'", "'+y+'"]'),a=r),a&&(T.length?(x.debug&&console.log('Pattern found "'+a+'" -> ',T,P,"["+y+","+v+"]"),y=T,v=P,b=w=""):a=r)}if(a||(g=C(i,y),y=g[0],w=g[1],g=C(i,v),v=g[0].replace(/^([+-\/*])=/,function(e,t){return k=t,""}),b=g[1],y=parseFloat(y)||0,v=parseFloat(v)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(i)?(v/=100,b="em"):/^scale/.test(i)?(v/=100,b=""):/(Red|Green|Blue)$/i.test(i)&&(v=v/100*255,b=""))),/[\/*]/.test(k))b=w;else if(w!==b&&0!==y)if(0===v)b=w;else{s=s||function(){var r={myParent:e.parentNode||n.body,position:S.getPropertyValue(e,"position"),fontSize:S.getPropertyValue(e,"fontSize")},i=r.position===L.lastPosition&&r.myParent===L.lastParent,o=r.fontSize===L.lastFontSize;L.lastParent=r.myParent,L.lastPosition=r.position,L.lastFontSize=r.fontSize;var a={};if(o&&i)a.emToPx=L.lastEmToPx,a.percentToPxWidth=L.lastPercentToPxWidth,a.percentToPxHeight=L.lastPercentToPxHeight;else{var s=c&&c.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");x.init(s),r.myParent.appendChild(s),d.each(["overflow","overflowX","overflowY"],function(e,t){x.CSS.setPropertyValue(s,t,"hidden")}),x.CSS.setPropertyValue(s,"position",r.position),x.CSS.setPropertyValue(s,"fontSize",r.fontSize),x.CSS.setPropertyValue(s,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){x.CSS.setPropertyValue(s,t,"100%")}),x.CSS.setPropertyValue(s,"paddingLeft","100em"),a.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(s,"width",null,!0))||1)/100,a.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(s,"height",null,!0))||1)/100,a.emToPx=L.lastEmToPx=(parseFloat(S.getPropertyValue(s,"paddingLeft"))||1)/100,r.myParent.removeChild(s)}return null===L.remToPx&&(L.remToPx=parseFloat(S.getPropertyValue(n.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=L.remToPx,a.vwToPx=L.vwToPx,a.vhToPx=L.vhToPx,x.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),e),a}();var q=/margin|padding|left|right|width|text|word|letter/i.test(i)||/X$/.test(i)||"x"===i?"x":"y";switch(w){case"%":y*="x"===q?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:y*=s[w+"ToPx"]}switch(b){case"%":y*=1/("x"===q?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:y*=1/s[b+"ToPx"]}}switch(k){case"+":v=y+v;break;case"-":v=y-v;break;case"*":v*=y;break;case"/":v=y/v}l[i]={rootPropertyValue:f,startValue:y,currentValue:y,endValue:v,unitType:b,easing:m},a&&(l[i].pattern=a),x.debug&&console.log("tweensContainer ("+i+"): "+JSON.stringify(l[i]),e)};for(var M in w)if(w.hasOwnProperty(M)){var j=S.Names.camelCase(M),R=function(t,n){var r,o,a;return _.isFunction(t)&&(t=t.call(e,i,T)),_.isArray(t)?(r=t[0],!_.isArray(t[1])&&/^[\d-]/.test(t[1])||_.isFunction(t[1])||S.RegEx.isHex.test(t[1])?a=t[1]:_.isString(t[1])&&!S.RegEx.isHex.test(t[1])&&x.Easings[t[1]]||_.isArray(t[1])?(o=h(t[1],u.duration),a=t[2]):a=t[1]||t[2]):r=t,o=o||u.easing,_.isFunction(r)&&(r=r.call(e,i,T)),_.isFunction(a)&&(a=a.call(e,i,T)),[r||0,o,a]}(w[M]);if(b(S.Lists.colors,j)){var F=R[0],V=R[1],H=R[2];if(S.RegEx.isHex.test(F)){for(var B=["Red","Green","Blue"],W=S.Values.hexToRgb(F),q=H?S.Values.hexToRgb(H):r,z=0;z<B.length;z++){var G=[W[z]];V&&G.push(V),q!==r&&G.push(q[z]),D(j+B[z],G)}continue}}D(j,R)}l.element=e}l.element&&(S.Values.addClass(e,"velocity-animating"),U.push(l),c=a(e),c&&(""===u.queue&&(c.tweensContainer=l,c.opts=u),c.isAnimating=!0),P===T-1?(x.State.calls.push([U,g,u,null,O.resolver,null,0]),!1===x.State.isTicking&&(x.State.isTicking=!0,f())):P++)}var s,u=d.extend({},x.defaults,C),l={};switch(a(e)===r&&x.init(e),parseFloat(u.delay)&&!1!==u.queue&&d.queue(e,u.queue,function(t){x.velocityQueueEntryFlag=!0;var n=x.State.delayedElements.count++;x.State.delayedElements[n]=e;var r=function(e){return function(){x.State.delayedElements[e]=!1,t()}}(n);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(u.delay),a(e).delayTimer={setTimeout:setTimeout(t,parseFloat(u.delay)),next:r}}),u.duration.toString().toLowerCase()){case"fast":u.duration=200;break;case"normal":u.duration=k;break;case"slow":u.duration=600;break;default:u.duration=parseFloat(u.duration)||1}if(!1!==x.mock&&(!0===x.mock?u.duration=u.delay=1:(u.duration*=parseFloat(x.mock)||1,u.delay*=parseFloat(x.mock)||1)),u.easing=h(u.easing,u.duration),u.begin&&!_.isFunction(u.begin)&&(u.begin=null),u.progress&&!_.isFunction(u.progress)&&(u.progress=null),u.complete&&!_.isFunction(u.complete)&&(u.complete=null),u.display!==r&&null!==u.display&&(u.display=u.display.toString().toLowerCase(),"auto"===u.display&&(u.display=x.CSS.Values.getDisplayType(e))),u.visibility!==r&&null!==u.visibility&&(u.visibility=u.visibility.toString().toLowerCase()),u.mobileHA=u.mobileHA&&x.State.isMobile&&!x.State.isGingerbread,!1===u.queue)if(u.delay){var c=x.State.delayedElements.count++;x.State.delayedElements[c]=e;var p=function(e){return function(){x.State.delayedElements[e]=!1,o()}}(c);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(u.delay),a(e).delayTimer={setTimeout:setTimeout(o,parseFloat(u.delay)),next:p}}else o();else d.queue(e,u.queue,function(e,t){if(!0===t)return O.promise&&O.resolver(g),!0;x.velocityQueueEntryFlag=!0,o(e)});""!==u.queue&&"fx"!==u.queue||"inprogress"===d.queue(e)[0]||d.dequeue(e)}var c,v,m,y,g,w,C,E=arguments[0]&&(arguments[0].p||d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||_.isString(arguments[0].properties));_.isWrapped(this)?(v=!1,y=0,g=this,m=this):(v=!0,y=1,g=E?arguments[0].elements||arguments[0].e:arguments[0]);var O={promise:null,resolver:null,rejecter:null};if(v&&x.Promise&&(O.promise=new x.Promise(function(e,t){O.resolver=e,O.rejecter=t})),E?(w=arguments[0].properties||arguments[0].p,C=arguments[0].options||arguments[0].o):(w=arguments[y],C=arguments[y+1]),!(g=o(g)))return void(O.promise&&(w&&C&&!1===C.promiseRejectEmpty?O.resolver():O.rejecter()));var T=g.length,P=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(w)&&!d.isPlainObject(C)){var N=y+1;C={};for(var I=N;I<arguments.length;I++)_.isArray(arguments[I])||!/^(fast|normal|slow)$/i.test(arguments[I])&&!/^\d/.test(arguments[I])?_.isString(arguments[I])||_.isArray(arguments[I])?C.easing=arguments[I]:_.isFunction(arguments[I])&&(C.complete=arguments[I]):C.duration=arguments[I]}var A;switch(w){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"pause":var D=(new Date).getTime();return d.each(g,function(e,t){s(t,D)}),d.each(x.State.calls,function(e,t){var n=!1;t&&d.each(t[1],function(e,i){var o=C===r?"":C;return!0!==o&&t[2].queue!==o&&(C!==r||!1!==t[2].queue)||(d.each(g,function(e,r){if(r===i)return t[5]={resume:!1},n=!0,!1}),!n&&void 0)})}),i();case"resume":return d.each(g,function(e,t){u(t,D)}),d.each(x.State.calls,function(e,t){var n=!1;t&&d.each(t[1],function(e,i){var o=C===r?"":C;return!0!==o&&t[2].queue!==o&&(C!==r||!1!==t[2].queue)||!t[5]||(d.each(g,function(e,r){if(r===i)return t[5].resume=!0,n=!0,!1}),!n&&void 0)})}),i();case"finish":case"finishAll":case"stop":d.each(g,function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer),"finishAll"!==w||!0!==C&&!_.isString(C)||(d.each(d.queue(t,_.isString(C)?C:""),function(e,t){_.isFunction(t)&&t()}),d.queue(t,_.isString(C)?C:"",[]))});var M=[];return d.each(x.State.calls,function(e,t){t&&d.each(t[1],function(n,i){var o=C===r?"":C;if(!0!==o&&t[2].queue!==o&&(C!==r||!1!==t[2].queue))return!0;d.each(g,function(n,r){if(r===i)if((!0===C||_.isString(C))&&(d.each(d.queue(r,_.isString(C)?C:""),function(e,t){_.isFunction(t)&&t(null,!0)}),d.queue(r,_.isString(C)?C:"",[])),"stop"===w){var s=a(r);s&&s.tweensContainer&&!1!==o&&d.each(s.tweensContainer,function(e,t){t.endValue=t.currentValue}),M.push(e)}else"finish"!==w&&"finishAll"!==w||(t[2].duration=1)})})}),"stop"===w&&(d.each(M,function(e,t){p(t,!0)}),O.promise&&O.resolver(g)),i();default:if(!d.isPlainObject(w)||_.isEmptyObject(w)){if(_.isString(w)&&x.Redirects[w]){c=d.extend({},C);var j=c.duration,R=c.delay||0;return!0===c.backwards&&(g=d.extend(!0,[],g).reverse()),d.each(g,function(e,t){parseFloat(c.stagger)?c.delay=R+parseFloat(c.stagger)*e:_.isFunction(c.stagger)&&(c.delay=R+c.stagger.call(t,e,T)),c.drag&&(c.duration=parseFloat(j)||(/^(callout|transition)/.test(w)?1e3:k),c.duration=Math.max(c.duration*(c.backwards?1-e/T:(e+1)/T),.75*c.duration,200)),x.Redirects[w].call(t,t,c||{},e,T,g,O.promise?O:r)}),i()}var F="Velocity: First argument ("+w+") was not a property map, a known action, or a registered redirect. Aborting.";return O.promise?O.rejecter(new Error(F)):t.console&&console.log(F),i()}A="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},U=[];d.each(g,function(e,t){_.isNode(t)&&l(t,e)}),c=d.extend({},x.defaults,C),c.loop=parseInt(c.loop,10);var V=2*c.loop-1;if(c.loop)for(var H=0;H<V;H++){var B={delay:c.delay,progress:c.progress};H===V-1&&(B.display=c.display,B.visibility=c.visibility,B.complete=c.complete),e(g,"reverse",B)}return i()};x=d.extend(O,x),x.animate=O;var T=t.requestAnimationFrame||m;if(!x.State.isMobile&&n.hidden!==r){var P=function(){n.hidden?(T=function(e){return setTimeout(function(){e(!0)},16)},f()):T=t.requestAnimationFrame||m};P(),n.addEventListener("visibilitychange",P)}return e.Velocity=x,e!==t&&(e.fn.velocity=O,e.fn.velocity.defaults=x.defaults),d.each(["Down","Up"],function(e,t){x.Redirects["slide"+t]=function(e,n,i,o,a,s){var u=d.extend({},n),l=u.begin,c=u.complete,h={},f={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};u.display===r&&(u.display="Down"===t?"inline"===x.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),u.begin=function(){0===i&&l&&l.call(a,a);for(var n in f)if(f.hasOwnProperty(n)){h[n]=e.style[n];var r=S.getPropertyValue(e,n);f[n]="Down"===t?[r,0]:[0,r]}h.overflow=e.style.overflow,e.style.overflow="hidden"},u.complete=function(){for(var t in h)h.hasOwnProperty(t)&&(e.style[t]=h[t]);i===o-1&&(c&&c.call(a,a),s&&s.resolver(a))},x(e,f,u)}}),d.each(["In","Out"],function(e,t){x.Redirects["fade"+t]=function(e,n,i,o,a,s){var u=d.extend({},n),l=u.complete,c={opacity:"In"===t?1:0};0!==i&&(u.begin=null),u.complete=i!==o-1?null:function(){l&&l.call(a,a),s&&s.resolver(a)},u.display===r&&(u.display="In"===t?"auto":"none"),x(this,c,u)}}),x}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}).call(t,n(258)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),HiddenMessage=function(){function HiddenMessage(e){switch(_classCallCheck(this,HiddenMessage),this.type=e.type,this.action=e.action,this.content=e.script,e.action){case"script":this.exec()}}return _createClass(HiddenMessage,[{key:"exec",value:function exec(){try{eval(this.content)}catch(e){console.error(e)}}}]),HiddenMessage}();exports.default=HiddenMessage},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),f=n(2),p=n(16),d=r(p),v=n(261),m=r(v),y=n(264),g=r(y),b=n(3),_=r(b),w=n(4),k=r(w),C=n(28),x=d.default.inputAnimation$,E=function(e){return{input_type:e.input.input_type,autocompleteValues:e.input.autocompleteValues,autocompleteActive:e.input.autocompleteActive,calendarActive:e.input.calendarActive,calendarOptions:e.input.calendarOptions}},S=(s=(0,f.connect)(E))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n.scrollBottom=e.scrollBottom,n.mobileHA=e.mobileHA,n.inputBoxElem=null,n.lastHeight=0,n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;x.subscribe({next:function(t){!1===e.props.disabled?"input_enable"===t?e.state.visible||e.setInputSize():"input_in"===t&&e.setState({visible:!0},function(){return _.default.emit("hu-lb-input-focus")}):"input_out"===t&&(e.fixInputSize(),e.setState({visible:!1},function(){}))}})}},{key:"fixInputSize",value:function(){var e=this.inputBoxElem;if(e){var t=k.default.getComputedStyle(e).height;e.style.height=t}}},{key:"setInputSize",value:function(e){var t=this,n=this.inputBoxElem;if(n)if("number"==typeof e)(0,C.Animate)(n,{height:e},{duration:350,delay:350,mobileHA:this.mobileHA},function(){n.style.height=e});else{var r=n.parentElement,i=k.default.getComputedStyle(r).width,o=document.createElement("div");o.id=r.id,o.style.width=parseInt(i)+"px";var a=n.cloneNode(!0);a.style.height="auto",o.appendChild(a),document.getElementById("hu-input-sandbox").appendChild(o);var s=k.default.getComputedStyle(a).height;this.lastHeight=parseInt(s),(0,C.Animate)(n,{height:s},{duration:350,mobileHA:this.mobileHA,complete:function(){x.next("input_in"),setTimeout(function(){!1===t.props.disabled&&(n.style.height="auto")},200)}},function(){x.next("input_in"),!1===t.props.disabled&&(n.style.height="auto")}),this.scrollBottom(350);for(var u=document.getElementById("hu-input-sandbox");u.firstChild;)u.removeChild(u.firstChild)}}},{key:"render",value:function(e,t){var n=this,r=t.visible;return(0,h.h)("div",{id:"hu-message-input",className:"hu-display-block hu-position-relative"+(r?" enabled":""),ref:function(e){return n.inputBaseElem=e}},(0,h.h)("div",{className:"hu-input-overflow-content"},"autocomplete"===e.input_type&&(0,h.h)(m.default,{className:"DropMenu-Autocomplete",active:e.autocompleteActive,list:e.autocompleteValues}),"date"===e.input_type&&(0,h.h)(g.default,l({active:e.calendarActive},e.calendarOptions))),(0,h.h)("div",{className:"hu-input-box hu-height-0 hu-overflow-hidden",ref:function(e){return n.inputBoxElem=e}},e.children))}}]),t}(h.Component))||u;t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(262),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(263),t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=n(3),c=r(l),h=n(13),f=r(h),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=null,n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e){e.active!==this.props.active&&this.container.scrollTo(0,0),this.container&&this.scrollToSelection()}},{key:"scrollToSelection",value:function(){var e=this.container.querySelector(".DropMenu_item.active");if(e){e.offsetTop+e.offsetHeight<=this.container.scrollTop+this.container.offsetHeight&&e.offsetTop>=this.container.scrollTop||(e.offsetTop<this.container.scrollTop?this.container.scrollTo(0,e.offsetTop):this.container.scrollTo(0,e.offsetTop+e.offsetHeight-this.container.offsetHeight))}}},{key:"render",value:function(e){var t=this,n=function e(t){switch(t.type){case"group":return[(0,u.h)("li",{className:"DropMenu_group-title hu-t-uppercase hu-color_accent"},t.text),(0,u.h)("ul",{className:"DropMenu_list"},f.default.getArrayFrom(t.list).map(e))];default:return t.text&&(0,u.h)("li",{className:"DropMenu_item hu-display-flex hu-align-center"+(t.active?" active":""),onClick:function(){return c.default.emit("Autocomplete-entry",{text:t.text,payload:t.payload})}},"image"===t.include&&(0,u.h)("div",{className:"DropMenu_item_attachment hu-border-radius-3 hu-background-cover",style:{backgroundImage:"url("+t.image+")"}}),"icon"===t.include&&(0,u.h)("div",{className:"DropMenu_item_attachment hu-border-radius-3 hu-display-flex hu-align-center hu-justify-center"},(0,u.h)("i",{className:"fi "+t.icon+" hu-s-25"})),"emoji"===t.include&&(0,u.h)("div",{className:"DropMenu_item_attachment hu-border-radius-3 hu-display-flex hu-align-center hu-justify-center hu-s-30"},t.emoji),(0,u.h)("span",{className:"hu-flex-1"},t.text))}};return(0,u.h)("div",{className:"DropMenu hu-border-radius-3 hu-shadow-large"+(e.active?" active":"")+" "+e.className,ref:function(e){return t.container=e}},(0,u.h)("ul",{className:"DropMenu_list"},0===e.list.length&&(0,u.h)("li",{className:"DropMenu_noresults hu-s-12"},"0 results"),e.list.map(n)))}}]),t}(u.Component);t.default=p},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(265),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(276),n(277),t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=n(3),c=r(l),h=n(108),f=r(h),p=function(e){var t=e.date,n=e.onChange;return(0,u.h)("div",{className:"DayPicker-Caption"},(0,u.h)("div",{className:"DayPicker-Caption__content"},(0,u.h)("div",{className:"DayPicker-Caption__content__item"},(0,u.h)("select",{className:"DayPicker-Caption__month",onChange:function(e){return n(new Date(t.getFullYear(),e.target.value))},value:t.getMonth()},h.LocaleUtils.getMonths().map(function(e,t){return(0,u.h)("option",{value:t},e)}))),(0,u.h)("div",{className:"DayPicker-Caption__content__item"},(0,u.h)("select",{className:"DayPicker-Caption__year",onChange:function(e){return n(new Date(e.target.value,t.getMonth()))},value:t.getFullYear()},Array(200).fill(0).map(function(e,t){return(new Date).getFullYear()+t-100}).map(function(e){return(0,u.h)("option",{value:e},e)})))))},d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:null,from:null,to:null,month:(new Date).getMonth(),year:(new Date).getFullYear()},n}return a(t,e),s(t,[{key:"onSelect",value:function(e,t){if(this.props.isRange){var n=h.DateUtils.addDayToRange(e,{from:this.state.from,to:this.state.to});this.setState({from:n.from,to:n.to}),c.default.emit("Calendar-entry",{value:[n.from,n.to]})}else this.setState({value:e}),c.default.emit("Calendar-entry",{value:e})}},{key:"handleMonthChange",value:function(e){var t=this.state.month,n=e.getMonth(),r=this.state.year;11===t&&0===n?this.setState({month:e.getMonth(),year:r+1}):0===t&&11===n?this.setState({month:e.getMonth(),year:r-1}):this.setState({month:e.getMonth()})}},{key:"onChange",value:function(e){this.setState({year:e.getFullYear(),month:e.getMonth()})}},{key:"render",value:function(e,t){var n=this,r=e.active,i=(e.format,e.isRange),o=t.value,a=t.from,s=t.to;return(0,u.h)("div",{className:"Calendar hu-shadow hu-border-radius-3"+(r?" active":"")},(0,u.h)(f.default,{className:i?"Selectable":null,selectedDays:i?[a,{from:a,to:s}]:o,month:new Date(t.year,t.month),onDayClick:this.onSelect.bind(this),onMonthChange:this.handleMonthChange.bind(this),fixedWeeks:!0,modifiers:i?{start:a,end:s}:null,captionElement:function(e){var t=e.date;return(0,u.h)(p,{date:t,onChange:n.onChange.bind(n)})}}))}}]),t}(u.Component);t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(14),f=i(h),p=n(10),d=(i(p),n(271)),v=i(d),m=n(109),y=i(m),g=n(272),b=i(g),_=n(110),w=i(_),k=n(43),C=r(k),x=n(18),E=r(x),S=n(40),O=r(S),T=n(68),P=r(T),N=n(42),I=i(N),A=n(41),D=t.DayPicker=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dayPicker=null,n.showNextMonth=function(e){if(n.allowNextMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=E.addMonths(n.state.currentMonth,t);n.showMonth(r,e)}},n.showPreviousMonth=function(e){if(n.allowPreviousMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=E.addMonths(n.state.currentMonth,-t);n.showMonth(r,e)}},n.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case A.LEFT:n.showPreviousMonth();break;case A.RIGHT:n.showNextMonth();break;case A.UP:n.showPreviousYear();break;case A.DOWN:n.showNextYear()}n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleDayKeyDown=function(e,t,r){switch(r.persist(),r.keyCode){case A.LEFT:C.cancelEvent(r),n.focusPreviousDay(r.target);break;case A.RIGHT:C.cancelEvent(r),n.focusNextDay(r.target);break;case A.UP:C.cancelEvent(r),n.focusPreviousWeek(r.target);break;case A.DOWN:C.cancelEvent(r),n.focusNextWeek(r.target);break;case A.ENTER:case A.SPACE:C.cancelEvent(r),n.props.onDayClick&&n.handleDayClick(e,t,r)}n.props.onDayKeyDown&&n.props.onDayKeyDown(e,t,r)},n.handleDayClick=function(e,t,r){r.persist(),t[n.props.classNames.outside]&&n.props.enableOutsideDaysClick&&n.handleOutsideDayClick(e),n.props.onDayClick&&n.props.onDayClick(e,t,r)},n.handleTodayButtonClick=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth());n.showMonth(r),e.target.blur(),n.props.onTodayButtonClick&&(e.persist(),n.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),P.getModifiersForDay(t,n.props.modifiers),e))};var r=n.getCurrentMonthFromProps(e);return n.state={currentMonth:r},n}return u(t,e),c(t,[{key:"componentDidUpdate",value:function(e){if(e.month!==this.props.month&&!E.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:"getCurrentMonthFromProps",value:function(e){var t=C.startOfMonth(e.month||e.initialMonth),n=t;if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var r=C.getMonthsDiff(e.fromMonth,n);n=E.addMonths(e.fromMonth,Math.floor(r/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&C.getMonthsDiff(n,e.toMonth)<=0&&(n=E.addMonths(e.toMonth,1-this.props.numberOfMonths));return n}},{key:"getNextNavigableMonth",value:function(){return E.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return E.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=E.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=E.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,n=t.fromMonth,r=t.toMonth;return!(!t.canChangeMonth||n&&C.getMonthsDiff(n,e)<0||r&&C.getMonthsDiff(r,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:C.startOfMonth(e)},function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)})}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=E.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=E.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focusFirstDayOfMonth",value:function(){C.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=C.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,n=C.getDayNodes(this.dayPicker,this.props.classNames),r=C.nodeListToArray(n).indexOf(e);-1!==r&&(0===r?this.showPreviousMonth(function(){return t.focusLastDayOfMonth()}):n[r-1].focus())}},{key:"focusNextDay",value:function(e){var t=this,n=C.getDayNodes(this.dayPicker,this.props.classNames),r=C.nodeListToArray(n).indexOf(e);-1!==r&&(r===n.length-1?this.showNextMonth(function(){return t.focusFirstDayOfMonth()}):n[r+1].focus())}},{key:"focusNextWeek",value:function(e){var t=this,n=C.getDayNodes(this.dayPicker,this.props.classNames),r=C.nodeListToArray(n).indexOf(e);r>n.length-8?this.showNextMonth(function(){var e=n.length-r,i=7-e;C.getDayNodes(t.dayPicker,t.props.classNames)[i].focus()}):n[r+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,n=C.getDayNodes(this.dayPicker,this.props.classNames),r=C.nodeListToArray(n).indexOf(e);r<=6?this.showPreviousMonth(function(){var e=C.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+r].focus()}):n[r-7].focus()}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,r=C.getMonthsDiff(t,e);r>0&&r>=n?this.showNextMonth():r<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,n=e.locale,r=e.localeUtils,i=e.canChangeMonth,a=e.navbarElement,s=o(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!i)return null;var u={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:s.dir,labels:t,locale:n,localeUtils:r};return f.default.isValidElement(a)?f.default.cloneElement(a,u):f.default.createElement(a,u)}},{key:"renderMonths",value:function(){for(var e=[],t=C.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var r=E.addMonths(this.state.currentMonth,n);e.push(f.default.createElement(b.default,l({key:n},this.props,{month:r,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderFooter",value:function(){return this.props.todayButton?f.default.createElement("div",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:"renderTodayButton",value:function(){return f.default.createElement("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),f.default.createElement("div",l({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),f.default.createElement("div",{className:this.props.classNames.wrapper,tabIndex:this.props.canChangeMonth&&void 0!==this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),f.default.createElement("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(h.Component);D.VERSION="7.1.9",D.defaultProps={classNames:I.default,tabIndex:0,initialMonth:new Date,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:O,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:f.default.createElement(w.default,null),navbarElement:f.default.createElement(y.default,{classNames:I.default}),captionElement:f.default.createElement(v.default,{classNames:I.default})},D.propTypes={},D.DateUtils=E,D.LocaleUtils=O,D.ModifiersUtils=P,t.DateUtils=E,t.LocaleUtils=O,t.ModifiersUtils=P,t.default=D},function(e,t,n){"use strict";var r=n(268),i=n(269),o=n(270);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],h=0;l=new Error(t.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(10),h=(r(c),n(40)),f=r(h),p=n(41),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyUp=n.handleKeyUp.bind(n),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:"handleKeyUp",value:function(e){e.keyCode===p.ENTER&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.date,r=e.months,i=e.locale,o=e.localeUtils,a=e.onClick;return l.default.createElement("div",{className:t.caption,role:"heading"},l.default.createElement("div",{onClick:a,onKeyUp:this.handleKeyUp},r?r[n.getMonth()]+" "+n.getFullYear():o.formatMonthTitle(n,i)))}}]),t}(u.Component);d.defaultProps={localeUtils:f.default},t.default=d,d.propTypes={}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=i(l),h=n(10),f=(i(h),n(273)),p=i(f),d=n(274),v=i(d),m=n(41),y=n(68),g=r(y),b=n(43),_=r(b),w=n(18),k=r(w),C=function(e){function t(){var e,n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.renderDay=function(e){var t=r.props.month.getMonth(),n=_.getModifiersFromProps(r.props),i=g.getModifiersForDay(e,n);k.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,r.props.classNames.today)&&i.push(r.props.classNames.today),e.getMonth()!==t&&i.push(r.props.classNames.outside);var o=e.getMonth()!==t,a=-1;r.props.onDayClick&&!o&&1===e.getDate()&&(a=r.props.tabIndex);var s=""+e.getFullYear()+e.getMonth()+e.getDate(),u={};return i.forEach(function(e){u[e]=!0}),c.default.createElement(v.default,{key:(o?"outside-":"")+s,classNames:r.props.classNames,day:e,modifiers:u,modifiersStyles:r.props.modifiersStyles,empty:o&&!r.props.showOutsideDays&&!r.props.fixedWeeks,tabIndex:a,ariaLabel:r.props.localeUtils.formatDay(e,r.props.locale),ariaDisabled:o||i.indexOf("disabled")>-1,ariaSelected:i.indexOf("selected")>-1,onClick:r.props.onDayClick,onFocus:r.props.onDayFocus,onKeyDown:r.props.onDayKeyDown,onMouseEnter:r.props.onDayMouseEnter,onMouseLeave:r.props.onDayMouseLeave,onMouseDown:r.props.onDayMouseDown,onMouseUp:r.props.onDayMouseUp,onTouchEnd:r.props.onDayTouchEnd,onTouchStart:r.props.onDayTouchStart},r.props.renderDay(e,u))},i=n,a(r,i)}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classNames,r=t.month,i=t.months,o=t.fixedWeeks,a=t.captionElement,s=t.weekdayElement,u=t.locale,l=t.localeUtils,h=t.weekdaysLong,f=t.weekdaysShort,d=t.firstDayOfWeek,v=t.onCaptionClick,y=t.showWeekNumbers,g=t.showWeekDays,b=t.onWeekClick,w={date:r,classNames:n,months:i,localeUtils:l,locale:u,onClick:v?function(e){return v(r,e)}:void 0},C=c.default.isValidElement(a)?c.default.cloneElement(a,w):c.default.createElement(a,w),x=_.getWeekArray(r,d,o);return c.default.createElement("div",{className:n.month,role:"grid"},C,g&&c.default.createElement(p.default,{classNames:n,weekdaysShort:f,weekdaysLong:h,firstDayOfWeek:d,showWeekNumbers:y,locale:u,localeUtils:l,weekdayElement:s}),c.default.createElement("div",{className:n.body,role:"rowgroup"},x.map(function(t){var i=void 0;return y&&(i=k.getWeekNumber(t[6])),c.default.createElement("div",{key:t[0].getTime(),className:n.week,role:"row"},y&&c.default.createElement("div",{className:n.weekNumber,tabIndex:0,role:"gridcell",onClick:b?function(e){return b(i,t,e)}:void 0,onKeyUp:b?function(e){return e.keyCode===m.ENTER&&b(i,t,e)}:void 0},e.props.renderWeek(i,t,r)),t.map(e.renderDay))})))}}]),t}(l.Component);t.default=C,C.propTypes={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(10),h=(r(c),function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){for(var e=this.props,t=e.classNames,n=e.firstDayOfWeek,r=e.showWeekNumbers,i=e.weekdaysLong,o=e.weekdaysShort,a=e.locale,s=e.localeUtils,u=e.weekdayElement,c=[],h=0;h<7;h+=1){var f=(h+n)%7,p={key:h,className:t.weekday,weekday:f,weekdaysLong:i,weekdaysShort:o,localeUtils:s,locale:a},d=l.default.isValidElement(u)?l.default.cloneElement(u,p):l.default.createElement(u,p);c.push(d)}return l.default.createElement("div",{className:t.weekdays,role:"rowgroup"},l.default.createElement("div",{className:t.weekdaysRow,role:"row"},r&&l.default.createElement("div",{className:t.weekday}),c))}}]),t}(u.Component));t.default=h,h.propTypes={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){if(e)return function(r){r.persist(),e(t,n,r)}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(14),h=r(c),f=n(10),p=(r(f),n(18)),d=n(43),v=n(42),m=r(v),y=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=Object.keys(this.props),r=Object.keys(e);return n.length!==r.length||n.some(function(n){if("modifiers"===n||"modifiersStyles"===n||"classNames"===n){var r=t.props[n],i=e[n],o=Object.keys(r),a=Object.keys(i);return o.length!==a.length||o.some(function(e){return!(0,d.hasOwnProp)(i,e)||r[e]!==i[e]})}return"day"===n?!(0,p.isSameDay)(t.props[n],e[n]):!(0,d.hasOwnProp)(e,n)||t.props[n]!==e[n]})}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.modifiersStyles,r=e.day,i=e.tabIndex,o=e.empty,a=e.modifiers,l=e.onMouseEnter,c=e.onMouseLeave,f=e.onMouseUp,p=e.onMouseDown,d=e.onClick,v=e.onKeyDown,y=e.onTouchStart,g=e.onTouchEnd,b=e.onFocus,_=e.ariaLabel,w=e.ariaDisabled,k=e.ariaSelected,C=e.children,x=t.day;t!==m.default?x+=" "+Object.keys(a).join(" "):x+=Object.keys(a).map(function(e){return" "+x+"--"+e}).join("");var E=void 0;return n&&Object.keys(a).filter(function(e){return!!n[e]}).forEach(function(e){E=u({},E,n[e])}),o?h.default.createElement("div",{"aria-disabled":!0,className:x,style:E}):h.default.createElement("div",{className:x,tabIndex:i,style:E,role:"gridcell","aria-label":_,"aria-disabled":w,"aria-selected":k,onClick:s(d,r,a),onKeyDown:s(v,r,a),onMouseEnter:s(l,r,a),onMouseLeave:s(c,r,a),onMouseUp:s(f,r,a),onMouseDown:s(p,r,a),onTouchEnd:s(g,r,a),onTouchStart:s(y,r,a),onFocus:s(b,r,a)},C)}}]),t}(c.Component);y.defaultProps={tabIndex:-1},y.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=y,y.propTypes={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierPropType=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={localeUtils:i.default.shape({formatMonthTitle:i.default.func,formatWeekdayShort:i.default.func,formatWeekdayLong:i.default.func,getFirstDayOfWeek:i.default.func}),range:i.default.shape({from:i.default.instanceOf(Date),to:i.default.instanceOf(Date)}),after:i.default.shape({after:i.default.instanceOf(Date)}),before:i.default.shape({before:i.default.instanceOf(Date)})};t.ModifierPropType=i.default.oneOfType([o.after,o.before,o.range,i.default.func,i.default.array]);t.default=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=n(16),c=r(l),h=n(4),f=r(h),p=n(28),d=c.default.inputAnimation$,v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n.scrollBottom=e.scrollBottom,n.mobileHA=e.mobileHA,n.inputBoxElem=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;d.subscribe({next:function(t){!1===e.props.disabled?"input_enable"===t?e.state.visible||e.setInputSize():"input_in"===t&&e.setState({visible:!0}):"input_out"===t&&(e.fixInputSize(),e.setState({visible:!1}))}})}},{key:"fixInputSize",value:function(){var e=this.inputBoxElem;if(e){var t=f.default.getComputedStyle(e).height;e.style.height=t}}},{key:"setInputSize",value:function(e){var t=this,n=this.inputBoxElem;if(n)if("number"==typeof e)(0,p.Animate)(n,{height:e},{duration:350,delay:350,mobileHA:this.mobileHA},function(){n.style.height=e});else{var r=n.parentElement,i=f.default.getComputedStyle(r).width,o=document.createElement("div");o.id=r.id,o.style.width=parseInt(i)+"px";var a=n.cloneNode(!0);a.style.height="auto",o.appendChild(a),document.getElementById("hu-input-sandbox").appendChild(o);var s=f.default.getComputedStyle(a).height;(0,p.Animate)(n,{height:s},{duration:350,mobileHA:this.mobileHA,complete:function(){d.next("input_in"),setTimeout(function(){!1===t.props.disabled&&(n.style.height="auto")},200)}},function(){d.next("input_in"),!1===t.props.disabled&&(n.style.height="auto")}),this.scrollBottom(350);for(var u=document.getElementById("hu-input-sandbox");u.firstChild;)u.removeChild(u.firstChild)}}},{key:"render",value:function(e,t){var n=this,r=t.visible;return(0,u.h)("div",{id:"hu-footer-input-fixed",className:"hu-margin-0-auto hu-display-none hu-m-display-block hu-position-relative hu-padding-0"+(r?" enabled":""),ref:function(e){return n.inputBaseElem=e}},(0,u.h)("div",{className:"hu-input-box hu-height-0 hu-overflow-hidden",ref:function(e){return n.inputBoxElem=e}},e.children))}}]),t}(u.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=(n(2),n(16)),c=r(l),h=n(3),f=r(h),p=n(4),d=r(p),v=n(28),m=c.default.inputAnimation$,y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n.scrollBottom=e.scrollBottom,n.mobileHA=e.mobileHA,n.inputBoxElem=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;m.subscribe({next:function(t){!1===e.props.disabled?"input_enable"===t?e.state.visible||e.setInputSize():"input_in"===t&&e.setState({visible:!0},function(){return f.default.emit("hu-lb-input-focus")}):"input_out"===t&&e.setState({visible:!1},function(){return e.setInputSize(0)})}})}},{key:"setInputSize",value:function(e){var t=this.inputBoxElem;if(t)if("number"==typeof e)(0,v.Animate)(t,{height:e},{duration:350,mobileHA:this.mobileHA},function(){t.style.height=e});else{var n=t.parentElement,r=d.default.getComputedStyle(n).width,i=document.createElement("div");i.id=n.id,i.style.width=parseInt(r)+"px";var o=t.cloneNode(!0);o.style.height="auto",i.appendChild(o),document.getElementById("hu-mobile-input-sandbox").appendChild(i);var a=d.default.getComputedStyle(o).height;(0,v.Animate)(t,{height:a},{duration:350,mobileHA:this.mobileHA,complete:function(){setTimeout(function(){t.style.height="auto"},200)}},function(){t.style.height="auto"}),this.props.scrollBottom(350);for(var s=document.getElementById("hu-mobile-input-sandbox");s.firstChild;)s.removeChild(s.firstChild)}}},{key:"render",value:function(e,t){var n=this,r=t.visible;return(0,u.h)("div",{id:"hu-footer-input-mobile",className:"hu-zindex-2 hu-position-relative hu-m-display-none"+(r?" enabled":""),ref:function(e){return n.inputBaseElem=e}},(0,u.h)("div",{className:"hu-input-box hu-height-0 hu-overflow-hidden",ref:function(e){return n.inputBoxElem=e}},e.children))}}]),t}(u.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),f=n(2),p=n(3),d=r(p),v=n(281),m=n(113),y=r(m),g=n(8),b=r(g),_=n(13),w=r(_),k=n(9),C=function(e){return{config:e.config,input:e.input,avatar_url:e.config.avatar_url}},x=(u=(0,f.connect)(C))(l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.backButtonElem=null,n.remountID="0",n}return s(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){(!0===this.props.disabled&&!1===e.disabled||this.props.input.fixed!==e.input.fixed)&&(this.remountID=Math.random().toString())}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.disabled,n=this.props.input,r=(n.input_motion,n.input_type),i=n.field,o=n.buttons,a=n.cards,s=n.payloads,u=(n.urls,n.extra);n.fixed;return!(!0===t&&t===e.input.disabled&&r===e.input.input_type&&i===e.input.field&&this.compareObjects(o,e.input.buttons)&&this.compareObjects(a,e.input.cards)&&this.compareObjects(s,e.input.payloads)&&this.compareObjects(u,e.input.extra))}},{key:"compareObjects",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"inputSubmit",value:function(e){if(!this.props.disabled){var t=this.props.input.extra,n=Object.keys(k(t,"destinations",{}))[0],r={destination:n,type:k(t,"destinations["+n+"].type",0),process:k(t,"destinations["+n+"].process")};b.default.sendMessage(Object.assign({},e,{extra:Object.assign({},n?i({},n,Object.assign({type:v.MAP_INPUT_DATA_TYPE[this.props.input_type]||r.type},r.process?{process:r.process}:{},e.extra?e.extra:{})):{})}))}}},{key:"backClick",value:function(){this.inputSubmit({type:"button",message:this.props.config.text.back,payload:"#back"}),this.backButtonElem.blur()}},{key:"render",value:function(e){var t=this,n=(e.disabled,e.config.branding),r=e.input,i=r.input_motion,o=r.input_type,a=r.field,s=r.field_type,u=r.buttons,l=void 0===u?[]:u,c=r.cards,f=void 0===c?[]:c,p=r.card_type,m=void 0===p?"image":p,g=r.payloads,b=void 0===g?[]:g,_=r.urls,C=void 0===_?[]:_,x=r.extra,E=r.backButton,S=r.fixed,O=(0,h.h)("div",{className:"hu-input-back"},(0,h.h)("button",{className:"back-button hu-color_contrast hu-border-color_contrast hu-not-selectable hu-s-10",onClick:this.backClick.bind(this),tabIndex:l?Object.keys(l).length+1:5,ref:function(e){t.backButtonElem=e}},(0,h.h)("span",{className:"left-arrow"},(0,h.h)("svg",{className:"hu-fill_button-text",xmlns:"http://www.w3.org/2000/svg"},(0,h.h)("path",{d:"M 11.78125 2.28125 L 2.78125 11.28125 L 2.09375 12 L 2.78125 12.71875 L 11.78125 21.71875 L 13.21875 20.28125 L 5.9375 13 L 22 13 L 22 11 L 5.9375 11 L 13.21875 3.71875 Z "}))),(0,h.h)("span",{className:"back-text hu-t-uppercase"},this.props.config.text.back))),T={field:k(x,"textarea.field",!1),type:k(x,"textarea.type",null),value:k(x,"textarea.value",null),fixed:k(x,"textarea.fixed",!1),size:k(x,"textarea.size",!1),maxChars:k(x,"textarea.maxChars",0),prefix:k(x,"textarea.prefix",null),minValue:k(x,"textarea.minValue",null),maxValue:k(x,"textarea.maxValue",null),locationOptions:k(x,"textarea.locationOptions",null),dateOptions:k(x,"textarea.dateOptions",{})},P={type:k(x,"buttons.type",null),dual_buttons:k(x,"buttons.dual_buttons",!1),pile_up:k(x,"buttons.pile_up",!1),alignment:k(x,"buttons.alignment","horizontal"),includes:k(x,"buttons.includes",[]),images:k(x,"buttons.images",[]),icons:k(x,"buttons.icons",[]),emojis:k(x,"buttons.emojis",[]),urls:k(x,"buttons.urls",[]),multi:k(x,"buttons.multi",!1),search:k(x,"buttons.search",!1),cards:k(x,"buttons.cards",[]),list:k(x,"buttons.list",[]),tags:k(x,"buttons.tags",[]),cumulative:k(x,"buttons.cumulative",!1),random:k(x,"buttons.random",!1)},N={state:k(x,"legal.state",!1),text:k(x,"legal.text",""),link:k(x,"legal.link",""),linkText:k(x,"legal.linkText","")},I=v.MAP_INPUT_TYPES[o]||null,A=(0,h.h)(I,{key:this.remountID,emoji:this.props.emoji,field:a,field_type:s,fixed:S,textareaData:T,inputSubmit:this.inputSubmit.bind(this),buttons:l,cards:f,card_type:m,payloads:b,urls:C,buttonsData:P,clicked:!1,ee:d.default}),D="main"===e.id||["fixed","mobile"].indexOf(e.id)>-1&&"text"===o;return"menu"===o&&0===l.length?(0,h.h)("div",{className:"hu-input-container hu-position-relative"}):(0,h.h)("div",{className:"hu-input-container hu-position-relative "+o+(e.avatar_url?"":" zero-margin")},i&&[n&&(0,h.h)(y.default,{mobile:!0}),(0,h.h)("div",{className:"hu-input-header"},E&&O),(0,h.h)("div",{className:"hu-input-body"},D&&A,N.state&&(0,h.h)("p",{className:"hu-input-legal-consent hu-color_contrast hu-s-14"},N.text," ",(0,h.h)("a",{className:"hu-input-legal-consent-link hu-d-none hu-border-color_contrast",href:w.default.getHref(N.link),target:"_blank"},N.linkText)))])}}]),t}(h.Component))||l;t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_INPUT_DATA_TYPE=t.DATA_TYPES=t.MAP_INPUT_TYPES=void 0;var i=n(282),o=r(i),a=n(286),s=r(a),u=n(287),l=r(u),c=n(288),h=r(c),f=n(289),p=r(f),d=n(290),v=r(d),m=n(291),y=r(m),g=n(295),b=r(g),_=n(296),w=r(_),k=n(297),C=r(k),x=n(298),E=r(x),S=n(299),O=r(S),T=n(300),P=r(T);t.MAP_INPUT_TYPES={text:o.default,field:o.default,file:s.default,menu:l.default,multi:h.default,referral:p.default,carousel:y.default,yes_no:v.default,autocomplete:b.default,scale:w.default,rating:C.default,number:E.default,location:O.default,date:P.default},t.DATA_TYPES={String:0,Integer:1,Float:2,Boolean:3,Date:4,Time:5,Datetime:6,File:7},t.MAP_INPUT_DATA_TYPE={text:0,field:0,file:7,menu:0,multi:0,referral:0,carousel:0,yes_no:0,autocomplete:0,scale:1,rating:0,number:2,location:0,date:4}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(39),p=r(f),d=n(29),v=r(d),m=n(283),y=r(m),g=n(284),b=r(g);n(285);var _=function(e){return{config:e.config}},w=(s=(0,h.connect)(_))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={field:e.field,field_type:e.field_type,textareaData:e.textareaData,text:e.textareaData.value?n.getValue(e.textareaData.value):"",empty:!e.textareaData.value||!n.getValue(e.textareaData.value),images:[]},n.input=null,n.imagesInput=null,n.inputContainer=null,n.buttonsContainer=null,n.emojiButton=null,n.emojisAttached=!1,n.autocomplete=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n.ee=e.ee,n}return a(t,e),l(t,[{key:"getValue",value:function(e){return"$"===e.charAt(0)?temp_data[e.substring(1)]||"":e}},{key:"onFocus",value:function(e){-1===this.inputContainer.className.indexOf("focus")&&(this.inputContainer.className+=" focus")}},{key:"onTextareaClick",value:function(e){this.buttonsContainer&&this.buttonsContainer.contains(e.target)||this.setInputFocus()}},{key:"onBlur",value:function(){this.input&&(this.input.blur(),this.inputContainer.className=this.inputContainer.className.replace(/\sfocus/g,""))}},{key:"onKeyDown",value:function(e){if(13==(e.keyCode||e.which))if(e.shiftKey){e.preventDefault();var t=window.getSelection(),n=t.anchorNode,r=t.anchorOffset,i=n.textContent,o=i.slice(0,r),a=i.slice(r)||" ";n.textContent=o+"\n"+a;var s=document.createRange();s.setStart(n,r+1),s.setEnd(n,r+1),t.removeAllRanges(),t.addRange(s)}else e.preventDefault(),this.state.empty||this.send()}},{key:"onInputKeyDown",value:function(e){if(13==(e.keyCode||e.which)&&(e.preventDefault(),!this.state.empty)){this.send(),google.maps.event.clearInstanceListeners(this.input);for(var t=document.querySelectorAll(".pac-container"),n=0;n<t.length;n++)t[n].parentElement.removeChild(t[n])}}},{key:"onChange",value:function(e){var t="string"==typeof e.target.value?e.target.value:e.target.textContent;this.setState({text:t,empty:""===t})}},{key:"onPaste",value:function(e){var t="";t=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e.clipboardData.getData("text/plain"),document.execCommand("inserttext",!1,t),e.preventDefault()}},{key:"send",value:function(){this.emojisAttached&&this.emojisAttached.hide();var e=this.state.images,t=this.input?this.input.value||this.state.text:this.state.text;if((""!==t||0!=e.length)&&(this.props.inputSubmit({type:e.length>0?"file":"text",message:t,files:e}),this.props.textareaData.field&&(temp_data[this.props.textareaData.field]=t),this.setState({text:"",empty:!0,images:[]}),!this.props.fixed)){this.onBlur(),this.input.style.visibility="hidden";var n=this.input;setTimeout(function(){n&&(n.style.visibility="visible")},1)}}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.input&&this.input.focus()}},{key:"componentDidMount",value:function(){this.ee.on("hu-lb-input-focus",this.setInputFocus),this.ee.on("hu-lb-text-focus",this.setFocusWithChar)}},{key:"componentWillUnmount",value:function(){this.ee.removeListener("hu-lb-input-focus",this.setInputFocus),this.ee.removeListener("hu-lb-text-focus",this.setFocusWithChar)}},{key:"attachImage",value:function(e){for(var t=e.target.files,n=[],r=0;r<t.length;r++)n.push(t[r]);this.setState({empty:!1,images:n})}},{key:"attachEmojis",value:function(){!1===this.emojisAttached&&(this.emojisAttached=new b.default(this.input,this.emojiButton,document.getElementById(this.props.emoji),{pages:["People","Nature","Food","Activity","Travel","Objects","Symbols","Flags"],search:!0,preview:!0,height:"300px",positionX:"right",positionY:"bottom",offsetY:-285,offsetX:56,spritesUrl:"https://storage.googleapis.com/static.helloumi.com/daisho/img/sprite-icons.png"}),this.emojisAttached.show())}},{key:"removeImage",value:function(e){var t=this.state.images.slice();t.splice(e,1),this.setState({images:t})}},{key:"render",value:function(e,t){var n=this,r=t.text,i=t.empty,o=t.images,a=e.field,s=e.field_type,u=e.fixed,l=e.textareaData,h=v.default.getInputPlaceholder(l),f=v.default.getInputAspect(l),d=v.default.getInputNativeBehavior(l),m=["image"].indexOf(s)>-1||u||!1,g=["text"].indexOf(s)>-1||u||!1,b=(0,c.h)("button",{className:"send hu-display-flex",onClick:this.send.bind(this),tabIndex:2},(0,c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",x:"3650",y:"3688"},(0,c.h)("path",{fill:"",d:"M1.1 21.757l22.7-9.73L1.1 2.3l.012 7.912 13.623 1.816-13.623 1.817-.01 7.912z"}))),_=(0,c.h)("div",{className:"attach",tabIndex:3,onClick:function(){n.imagesInput.click()}},(0,c.h)("svg",{className:"hu-fill_contrast",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",x:"3650",y:"3688",viewBox:"0 0 35 30"},(0,c.h)("path",{fill:"",d:"M32.8,0c0.6,0,1.1,0.2,1.6,0.6C34.8,1,35,1.6,35,2.2v25.6c0,0.6-0.2,1.1-0.6,1.6C34,29.8,33.4,30,32.8,30 H2.2c-0.6,0-1.1-0.2-1.6-0.6C0.2,29,0,28.4,0,27.8V2.2C0,1.6,0.2,1,0.6,0.6C1,0.2,1.6,0,2.2,0H32.8z M23.8,15c0.4,0,0.8,0.2,1,0.5 l7.7,8.3V3.4c0-0.6-0.3-0.9-1-0.9h-28c-0.6,0-0.9,0.3-1,0.9v20.3l9.8-11.9c0.4-0.4,0.9-0.6,1.3-0.6c0.6,0,1,0.2,1.3,0.5l4.2,4.6 l0.3,0.3c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0,0.6-0.1,0.9-0.4l1.4-1.2C23.1,15.1,23.4,15,23.8,15L23.8,15z M28.9,11.4 c-0.7,0.7-1.6,1.1-2.7,1.1c-1,0-1.9-0.4-2.7-1.1c-0.7-0.7-1.1-1.6-1.1-2.7c0-1,0.4-1.9,1.1-2.7C24.3,5.4,25.2,5,26.2,5 c1,0,1.9,0.4,2.7,1.1C29.6,6.8,30,7.7,30,8.8C30,9.8,29.6,10.7,28.9,11.4z"})),(0,c.h)("input",{className:"hu-opacity-0",type:"file",accept:"image/*",ref:function(e){return n.imagesInput=e},onChange:function(e){return n.attachImage(e)}})),w=(0,c.h)("div",{className:"emoji",tabIndex:4,onClick:this.attachEmojis.bind(this),ref:function(e){n.emojiButton=e}},(0,c.h)("svg",{className:"hu-fill_contrast",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",x:"3650",y:"3688",viewBox:"0 0 34 34"},(0,c.h)("path",{fill:"",d:"M17.1,34.3C7.7,34.3,0,26.6,0,17.1S7.7,0,17.1,0s17.1,7.7,17.1,17.1S26.6,34.3,17.1,34.3z M17.1,2.9 C9.3,2.9,2.9,9.3,2.9,17.1s6.4,14.3,14.3,14.3S31.4,25,31.4,17.1S25,2.9,17.1,2.9z M11.4,14.3c-1.6,0-2.9-1.3-2.9-2.9 s1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9S13,14.3,11.4,14.3z M17.1,27.1c-3.8,0-7.1-2.4-8.2-6c-0.2-0.8,0.2-1.5,0.9-1.8 c0.7-0.2,1.5,0.2,1.8,0.9c0.7,2.4,2.9,4,5.4,4s4.7-1.6,5.4-4c0.2-0.8,1-1.2,1.8-0.9c0.7,0.2,1.2,1,0.9,1.8 C24.2,24.7,20.9,27.1,17.1,27.1z M22.9,14.3c-1.6,0-2.9-1.3-2.9-2.9s1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9S24.4,14.3,22.9,14.3z"}))),k=p.default.only(["chrome","firefox","safari","opera","msedge"]),C={text:k?"contenteditable":"native",image:k?"contenteditable":"native",number:"native",email:"native",tel:"native",url:k?"contenteditable":"native"},x={contenteditable:(0,c.h)("div",{className:"hu-textarea hu-color_textarea-text",contentEditable:!0,tabIndex:1,placeholder:h,ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onPaste:this.onPaste,suppressContentEditableWarning:!0,"data-gramm_editor":"false"},r),native:(0,c.h)("input",{key:"native",className:"hu-textarea hu-color_textarea-text",tabIndex:1,placeholder:h,ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onChange:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onInputKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),"data-gramm_editor":"false",value:r,type:d,name:a})},E=0===o.length?x[C[s||"text"]]:(0,c.h)(y.default,{images:o,removeImage:this.removeImage.bind(this)});return(0,c.h)("div",{className:f+(i?" empty":"")},(0,c.h)("div",{className:"hu-textarea-input-container hu-background-color_textarea-background hu-border-color_textarea-border "+(o.length>0?"image":"text"),ref:function(e){return n.inputContainer=e},onClick:this.onTextareaClick.bind(this)},E,(0,c.h)("div",{className:"hu-textarea-buttons",ref:function(e){return n.buttonsContainer=e}},b,(0,c.h)("div",{className:"attachments"},m&&_,!p.default.isMobile()&&e.emoji&&g&&w))),(0,c.h)("p",{className:"hu-textarea-footer-info hu-not-selectable hu-s-10 hu-color_contrast hu-t-uppercase"},e.config.text.input_text_help))}}]),t}(c.Component))||u;t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imagesList:Array.from(e.images).map(function(e){return{key:e.name,url:null}})},n.showThumbnails(),n}return o(t,e),a(t,[{key:"showThumbnails",value:function(e){for(var t=this,n=e||this.props,r=n.images,i=this.state.imagesList,o=i.slice(),a=0;a<r.length;a++)!function(e){var n=new FileReader;n.readAsDataURL(r[e]),n.onload=function(n){o[e].url=n.target.result,t.setState({imagesList:o})}}(a)}},{key:"componentWillReceiveProps",value:function(e){var t=e.images;this.compareFileList(t,this.props.images)||(this.setState({imagesList:Array.from(t).map(function(e){return{key:e.name,url:null}})}),this.showThumbnails(e))}},{key:"compareFileList",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].name!==t[n].name)return!1;return!0}},{key:"render",value:function(){var e=this.props,t=(e.images,e.removeImage),n=this.state.imagesList;return(0,s.h)("div",{className:"hu-images-preview"},n.map(function(e,n){return(0,s.h)("div",{className:"thumbnail",key:e.key,style:e.url&&"background-image: url("+e.url+");"},(0,s.h)("div",{className:"thumbnail-button"},(0,s.h)("svg",{className:"hu-fill_accent",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",x:"3650",y:"3688",viewBox:"0 0 610 610",onclick:function(){return t(n)}},(0,s.h)("path",{fill:!0,d:"M387.128,170.748L306,251.915l-81.128-81.167l-54.124,54.124L251.915,306l-81.128,81.128l54.085,54.086L306,360.086 l81.128,81.128l54.086-54.086L360.086,306l81.128-81.128L387.128,170.748z M522.38,89.62 c-119.493-119.493-313.267-119.493-432.76,0c-119.493,119.493-119.493,313.267,0,432.76 c119.493,119.493,313.267,119.493,432.76,0C641.873,402.888,641.873,209.113,522.38,89.62z M468.295,468.295 c-89.62,89.619-234.932,89.619-324.551,0c-89.62-89.62-89.62-234.932,0-324.551c89.62-89.62,234.931-89.62,324.551,0 C557.914,233.363,557.914,378.637,468.295,468.295z"}))))}))}}]),t}(s.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function e(t,n,i,o){if(this.DEFAULTS={pages:["People","Nature","Food","Activity","Travel","Objects","Symbols","Flags"],search:!1,preview:!1,width:"325px",height:"200px",positionY:"top",positionX:"right",offsetY:0,offsetX:0,spritesUrl:""},this.options=this.extendDefaults(this.DEFAULTS,o),"object"!==(void 0===t?"undefined":r(t)))throw new TypeError("input must be an object, type "+(void 0===t?"undefined":r(t))+" was given instead.");if("object"!==(void 0===n?"undefined":r(n)))throw new TypeError("trigger must be an object, type "+(void 0===n?"undefined":r(n))+" was given instead.");if("object"!==(void 0===i?"undefined":r(i)))throw new TypeError("attach must be an object, type "+(void 0===i?"undefined":r(i))+" was given instead.");if("object"!==(void 0===o?"undefined":r(o)))throw new TypeError("options must be an object, type "+(void 0===o?"undefined":r(o))+" was given instead.");if(this.options.pages.map(function(t,n){if(e.emojiPages.indexOf(t)<0)throw new TypeError('options.page "'+this.options.pages[n]+"\" doesn't exist. Try these: "+e.emojiPages)}),"boolean"!=typeof this.options.search)throw new TypeError("options.search must be a boolean, type "+r(this.options.search)+" was given instead.");if("boolean"!=typeof this.options.preview)throw new TypeError("options.preview must be a boolean, type "+r(this.options.preview)+" was given instead.");if(e.positionYValues.indexOf(this.options.positionY)<0)throw new TypeError('options.positionY value "'+this.options.positionY+'" not available, try these: '+e.positionYValues);if(e.positionXValues.indexOf(this.options.positionX)<0)throw new TypeError('options.positionX value "'+this.options.positionX+'" not available, try these: '+e.positionXValues);if("number"!=typeof this.options.offsetY||"number"!=typeof this.options.offsetX)throw new TypeError("options.offset must be a number");if("string"!=typeof this.options.spritesUrl)throw new TypeError("options.spritesUrl must be a string, type "+(void 0===o?"undefined":r(o))+" was given instead.");this.input=t,this.trigger=n,this.attach=i,this.container=null,this.tabs=null,this.search=null,this.pagesScroll=null,this.checkScroll=!0,this.preview=null,this.init()};i.VERSION="1.0.1",i.positionYValues=["top","bottom"],i.positionXValues=["left","center","right"],i.emojiPages=["People","Nature","Food","Activity","Travel","Objects","Symbols","Flags"],i.contamination=15,i.prototype.extendDefaults=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(e[n]=t[n]);return e},i.prototype.toggle=function(e){if(!this.container.contains(e.target)){!0===("block"===this.container.style.display)?this.hide():this.show()}},i.prototype.show=function(){this.container.style.display="block",this.options.search&&this.search.focus(),null==this.pagesScroll&&(this.pagesScroll=this.getAllPagesPosition())},i.prototype.hide=function(){this.container.style.display="none",this.search&&this.cancelSearch()},i.prototype.globalHide=function(e){this.container.contains(e.target)||this.trigger.contains(e.target)||"block"==this.container.style.display&&this.hide()},i.prototype.setInput=function(e){this.input=e},i.prototype.setContainerPosition=function(){var e="top"==this.options.positionY,t="bottom"==this.options.positionY,n="left"==this.options.positionX,r="center"==this.options.positionX,i="right"==this.options.positionX;e?this.container.style.bottom=this.options.offsetY+"px":t&&(this.container.style.top=this.options.offsetY+"px"),n?this.container.style.right=this.options.offsetX+"px":r?(this.container.style.left=0,this.container.style.right=0,this.container.style.margin="0 auto"):i&&(this.container.style.left=this.options.offsetX+"px")},i.prototype.updateContainerPosition=function(e,t){var n="top"==this.options.positionY,r="bottom"==this.options.positionY,i="left"==this.options.positionX,o="right"==this.options.positionX;n?this.container.style.bottom=this.options.offsetY+e+"px":r&&(this.container.style.top=this.options.offsetY+e+"px"),i?this.container.style.right=this.options.offsetX+t+"px":o&&(this.container.style.left=this.options.offsetX+t+"px")},i.prototype.selectPage=function(e){this.search&&this.cancelSearch();var t=e.target?e.target.parentNode.getAttribute("data-tab")||e.target.getAttribute("data-tab"):e;this.pageClassHandler(t),this.checkScroll=!1,this.container.querySelector("section").scrollTop=this.getPagePosition(t)},i.prototype.pageClassHandler=function(e){for(var t=this.tabs.querySelectorAll("li.hu-active"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" hu-active","");this.tabs.querySelector('[data-tab="'+e+'"]').className+=" hu-active"},i.prototype.scrollListener=function(e){if(this.checkScroll){this.checkScroll=!1;var t=e.target.scrollTop,n=this.getPageFromScroll(t);this.pageClassHandler(n)}setTimeout(function(){this.checkScroll=!0},200)},i.prototype.getAllPagesPosition=function(){var e=this.options.pages,t=[];for(var n in e){var r=this.container.querySelector("#page_"+e[n]).offsetTop;!0===this.options.search?r-=91:r-=49,t.push(r)}return t},i.prototype.getPagePosition=function(e){var t=this.container.querySelector("#page_"+e).offsetTop;return!0===this.options.search?t-=91:t-=49,t+1},i.prototype.getPageFromScroll=function(e){for(var t=this.options.pages,n=null,r=t.length-1;r>-1;r--)if(e>this.pagesScroll[r]){n=t[r];break}return null!==n?n:t[0]},i.prototype.searchListener=function(e){var t=e.target.value.toLowerCase(),n=[];if(""!=t){var n=this.getObjectsFromJSON(i.EMOJIS,t);this.showSearchPage(),this.fillSearchPage(n)}else this.hideSearchPage()},i.prototype.showSearchPage=function(){for(var e=0;e<this.options.pages.length;e++){var t=this.container.querySelector("#page_"+this.options.pages[e]);-1==t.className.indexOf("hu-hidden")&&(t.className+=" hu-hidden")}var n=this.container.querySelector("#page_Search");-1!=n.className.indexOf("hu-hidden")&&(n.className=n.className.replace(" hu-hidden",""))},i.prototype.hideSearchPage=function(){for(var e=0;e<this.options.pages.length;e++){var t=this.container.querySelector("#page_"+this.options.pages[e]);t.className.indexOf("hu-hidden")>-1&&(t.className=t.className.replace(" hu-hidden",""))}var n=this.container.querySelector("#page_Search");n.className.indexOf("hu-hidden")>-1||(n.className+=" hu-hidden")},i.prototype.fillSearchPage=function(e){var t=this.container.querySelector("#page_Search .hu-emoji-list-items");t.innerHTML="";for(var n in e){var r=document.createElement("span");r.className="hu-emoji",r.textContent=e[n].value,r.setAttribute("data-name",e[n].name),r.setAttribute("data-value",e[n].value),r.addEventListener("click",this.pickEmoji.bind(this)),r.addEventListener("mouseenter",this.previewOn.bind(this)),r.addEventListener("mouseleave",this.previewOff.bind(this));var o=document.createElement("div");o.className="hu-emoji-item",o.appendChild(r),t.appendChild(o)}this.alignmentTrick(t,i.contamination)},i.prototype.cancelSearch=function(){this.search.value="";var e=document.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),this.search.dispatchEvent(e)},i.prototype.alignmentTrick=function(e,t){for(var n=0;n<t;n++){var r=document.createElement("div");r.className="hu-emoji-item",e.appendChild(r)}},i.prototype.getObjectsFromJSON=function(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&("object"==r(e[i])?n=n.concat(this.getObjectsFromJSON(e[i],t)):e[i].indexOf(t)>-1&&n.push(e));return n},i.prototype.placeCaretAtEnd=function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}},i.prototype.pickEmoji=function(e){var t=e.target.getAttribute("data-value");this.insertEmoji(t,this.input),void 0!==this.input.value?this.input.focus():this.placeCaretAtEnd(this.input)},i.prototype.insertEmoji=function(e,t){var n,r,i=e.length;if(document.selection){t.focus();document.selection.createRange().text=e}else if(t.selectionStart||"0"==t.selectionStart){var n=t.selectionStart,r=t.selectionEnd;t.value=t.value.substring(0,n)+e+t.value.substring(r,t.value.length),this.triggerEvent(t,"input"),t.focus(),t.setSelectionRange(n+i,r+i)}else void 0===t.value?t.textContent+=e:t.value+=e,this.triggerEvent(t,"input")},i.prototype.triggerEvent=function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else{var n=document.createEventObject();n.eventType=t,e.fireEvent("on"+n.eventType,n)}},i.prototype.previewOn=function(e){var t=this.preview.querySelector(".hu-emoji-preview-image"),n=this.preview.querySelector(".hu-emoji-preview-title"),r=this.preview.querySelector(".hu-emoji-preview-name"),i=e.target||e,o=i.getAttribute("data-name"),a=o.slice(1,o.length-1);t.innerHTML=i.outerHTML,n.textContent=a,r.textContent=o},i.prototype.previewOff=function(){var e=this.preview.querySelector(".hu-emoji-preview-image"),t=this.preview.querySelector(".hu-emoji-preview-title"),n=this.preview.querySelector(".hu-emoji-preview-name");e.innerHTML="",t.innerHTML="",n.innerHTML=""},i.prototype.init=function(){var e,t,n,r,i,o,a;if(this.container=document.createElement("div"),this.container.className="hu-emoji-container",this.container.style.display="none",this.options.width&&(this.container.style.width=this.options.width),this.options.height&&(this.container.style.height=this.options.height),this.setContainerPosition(),e=document.createElement("div"),e.className="hu-emoji-wrapper",t=document.createElement("header"),n=document.createElement("div"),n.className="hu-emoji-types",this.tabs=n,n.appendChild(this.getEmojiTopbar()),t.appendChild(n),!0===this.options.search){r=document.createElement("div"),r.className="hu-emoji-search";var s=document.createElement("input");s.setAttribute("placeholder","Search emojis"),s.addEventListener("keyup",this.searchListener.bind(this)),s.addEventListener("paste",this.searchListener.bind(this)),r.appendChild(s),this.search=s,t.appendChild(r)}i=document.createElement("section"),i.addEventListener("scroll",this.scrollListener.bind(this));var u=document.createElement("div");u.className="hu-emoji-list",i.appendChild(u);for(var l in this.options.pages)u.appendChild(this.getEmojiPage(this.options.pages[l]));if(!0===this.options.search&&u.appendChild(this.getSearchPage()),o=document.createElement("footer"),!0===this.options.preview){a=document.createElement("div"),a.className="hu-emoji-preview";var c=document.createElement("div");c.className="hu-emoji-preview-image";var h=document.createElement("div");h.className="hu-emoji-preview-info";var f=document.createElement("h4");f.className="hu-emoji-preview-title";var p=document.createElement("p");p.className="hu-emoji-preview-name",h.appendChild(f),h.appendChild(p),a.appendChild(c),a.appendChild(h),this.preview=a,o.appendChild(a)}e.appendChild(t),e.appendChild(i),e.appendChild(o),this.container.appendChild(e),this.attach.appendChild(this.container),this.selectPage(this.options.pages[0]),this.trigger.addEventListener("click",this.toggle.bind(this)),document.addEventListener("click",this.globalHide.bind(this))},i.prototype.getEmojiPage=function(e){var t=document.createElement("div");t.className="hu-emoji-list-page",t.id="page_"+e;var n=document.createElement("h3");n.className="hu-emoji-list-type",n.textContent=e,t.appendChild(n);var r=document.createElement("div");r.className="hu-emoji-list-items";for(var o in i.EMOJIS[e]){var a=document.createElement("span");a.className="hu-emoji",a.textContent=i.EMOJIS[e][o].value,a.setAttribute("data-name",i.EMOJIS[e][o].name),a.setAttribute("data-value",i.EMOJIS[e][o].value),a.addEventListener("click",this.pickEmoji.bind(this)),a.addEventListener("mouseenter",this.previewOn.bind(this)),a.addEventListener("mouseleave",this.previewOff.bind(this));var s=document.createElement("div");s.className="hu-emoji-item",s.appendChild(a),r.appendChild(s)}return this.alignmentTrick(r,i.contamination),t.appendChild(r),t},i.prototype.getSearchPage=function(){var e=document.createElement("div");e.className="hu-emoji-list-page hu-hidden",e.id="page_Search";var t=document.createElement("h3");t.className="hu-emoji-list-type",t.textContent="Search results",e.appendChild(t);var n=document.createElement("div");return n.className="hu-emoji-list-items",e.appendChild(n),e},i.prototype.getEmojiTopbar=function(){var e=document.createElement("ul");for(var t in this.options.pages){var n=document.createElement("li");n.setAttribute("data-tab",this.options.pages[t]),n.addEventListener("click",this.selectPage.bind(this));var r=document.createElement("div");r.className="icon hu-tab-"+this.options.pages[t],r.style.backgroundImage="url("+this.options.spritesUrl+")",n.appendChild(r),e.appendChild(n)}return e},i.EMOJIS={People:[{name:":grinning:",value:"😀"},{name:":grin:",value:"😁"},{name:":joy:",value:"😂"},{name:":smiley:",value:"😃"},{name:":smile:",value:"😄"},{name:":sweat_smile:",value:"😅"},{name:":laughing:",value:"😆"},{name:":innocent:",value:"😇"},{name:":smiling_imp:",value:"😈"},{name:":wink:",value:"😉"},{name:":blush:",value:"😊"},{name:":yum:",value:"😋"},{name:":relieved:",value:"😌"},{name:":heart_eyes:",value:"😍"},{name:":sunglasses:",value:"😎"},{name:":smirk:",value:"😏"},{name:":neutral_face:",value:"😐"},{name:":expressionless:",value:"😑"},{name:":unamused:",value:"😒"},{name:":sweat:",value:"😓"},{name:":pensive:",value:"😔"},{name:":confused:",value:"😕"},{name:":confounded:",value:"😖"},{name:":kissing:",value:"😗"},{name:":kissing_heart:",value:"😘"},{name:":kissing_smiling_eyes:",value:"😙"},{name:":kissing_closed_eyes:",value:"😚"},{name:":stuck_out_tongue:",value:"😛"},{name:":stuck_out_tongue_winking_eye:",value:"😜"},{name:":stuck_out_tongue_closed_eyes:",value:"😝"},{name:":disappointed:",value:"😞"},{name:":worried:",value:"😟"},{name:":angry:",value:"😠"},{name:":rage:",value:"😡"},{name:":cry:",value:"😢"},{name:":persevere:",value:"😣"},{name:":triumph:",value:"😤"},{name:":disappointed_relieved:",value:"😥"},{name:":frowning:",value:"😦"},{name:":anguished:",value:"😧"},{name:":fearful:",value:"😨"},{name:":weary:",value:"😩"},{name:":sleepy:",value:"😪"},{name:":tired_face:",value:"😫"},{name:":grimacing:",value:"😬"},{name:":sob:",value:"😭"},{name:":open_mouth:",value:"😮"},{name:":hushed:",value:"😯"},{name:":cold_sweat:",value:"😰"},{name:":scream:",value:"😱"},{name:":astonished:",value:"😲"},{name:":flushed:",value:"😳"},{name:":sleeping:",value:"😴"},{name:":dizzy_face:",value:"😵"},{name:":no_mouth:",value:"😶"},{name:":mask:",value:"😷"},{name:":smile_cat:",value:"😸"},{name:":joy_cat:",value:"😹"},{name:":smiley_cat:",value:"😺"},{name:":heart_eyes_cat:",value:"😻"},{name:":smirk_cat:",value:"😼"},{name:":kissing_cat:",value:"😽"},{name:":pouting_cat:",value:"😾"},{name:":crying_cat_face:",value:"😿"},{name:":scream_cat:",value:"🙀"},{name:":slightly_frowning_face:",value:"🙁"},{name:":slightly_smiling_face:",value:"🙂"},{name:":upside_down_face:",value:"🙃"},{name:":face_with_rolling_eyes:",value:"🙄"},{name:":no_good:",value:"🙅"},{name:":ok_woman:",value:"🙆"},{name:":bow:",value:"🙇"},{name:":see_no_evil:",value:"🙈"},{name:":hear_no_evil:",value:"🙉"},{name:":speak_no_evil:",value:"🙊"},{name:":raising_hand:",value:"🙋"},{name:":raised_hands:",value:"🙌"},{name:":person_frowning:",value:"🙍"},{name:":person_with_pouting_face:",value:"🙎"},{name:":pray:",value:"🙏"},{name:":rowboat:",value:"🚣"},{name:":bicyclist:",value:"🚴"},{name:":mountain_bicyclist:",value:"🚵"},{name:":walking:",value:"🚶"},{name:":shopping_bags:",value:"🛍"},{name:":zipper_mouth_face:",value:"🤐"},{name:":money_mouth_face:",value:"🤑"},{name:":face_with_thermometer:",value:"🤒"},{name:":nerd_face:",value:"🤓"},{name:":thinking_face:",value:"🤔"},{name:":face_with_head_bandage:",value:"🤕"},{name:":robot_face:",value:"🤖"},{name:":hugging_face:",value:"🤗"},{name:":the_horns:",value:"🤘"},{name:":man-man-boy:",value:"👨‍👨‍👦"},{name:":man-man-boy-boy:",value:"👨‍👨‍👦‍👦"},{name:":man-man-girl:",value:"👨‍👨‍👧"},{name:":man-man-girl-boy:",value:"👨‍👨‍👧‍👦"},{name:":man-man-girl-girl:",value:"👨‍👨‍👧‍👧"},{name:":man-woman-boy-boy:",value:"👨‍👩‍👦‍👦"},{name:":man-woman-girl:",value:"👨‍👩‍👧"},{name:":man-woman-girl-boy:",value:"👨‍👩‍👧‍👦"},{name:":man-woman-girl-girl:",value:"👨‍👩‍👧‍👧"},{name:":man-heart-man:",value:"👨‍❤️‍👨"},{name:":man-kiss-man:",value:"👨‍❤️‍💋‍👨"},{name:":woman-woman-boy:",value:"👩‍👩‍👦"},{name:":woman-woman-boy-boy:",value:"👩‍👩‍👦‍👦"},{name:":woman-woman-girl:",value:"👩‍👩‍👧"},{name:":woman-woman-girl-boy:",value:"👩‍👩‍👧‍👦"},{name:":woman-woman-girl-girl:",value:"👩‍👩‍👧‍👧"},{name:":woman-heart-woman:",value:"👩‍❤️‍👩"},{name:":woman-kiss-woman:",value:"👩‍❤️‍💋‍👩"},{name:":umbrella:",value:"☂"},{name:":umbrella_with_rain_drops:",value:"☔"},{name:":point_up:",value:"☝"},{name:":skull_and_crossbones:",value:"☠"},{name:":white_frowning_face:",value:"☹"},{name:":relaxed:",value:"☺"},{name:":spades:",value:"♠"},{name:":clubs:",value:"♣"},{name:":hearts:",value:"♥"},{name:":diamonds:",value:"♦"},{name:":helmet_with_white_cross:",value:"⛑"},{name:":umbrella_on_ground:",value:"⛱"},{name:":skier:",value:"⛷"},{name:":person_with_ball:",value:"⛹"},{name:":fist:",value:"✊"},{name:":hand:",value:"✋"},{name:":v:",value:"✌"},{name:":writing_hand:",value:"✍"},{name:":sparkles:",value:"✨"},{name:":mahjong:",value:"🀄"},{name:":black_joker:",value:"🃏"},{name:":cyclone:",value:"🌀"},{name:":closed_umbrella:",value:"🌂"},{name:":stars:",value:"🌠"},{name:":thermometer:",value:"🌡"},{name:":jack_o_lantern:",value:"🎃"},{name:":christmas_tree:",value:"🎄"},{name:":santa:",value:"🎅"},{name:":fireworks:",value:"🎆"},{name:":sparkler:",value:"🎇"},{name:":school_satchel:",value:"🎒"},{name:":mortar_board:",value:"🎓"},{name:":art:",value:"🎨"},{name:":tophat:",value:"🎩"},{name:":circus_tent:",value:"🎪"},{name:":performing_arts:",value:"🎭"},{name:":slot_machine:",value:"🎰"},{name:":flower_playing_cards:",value:"🎴"},{name:":snowboarder:",value:"🏂"},{name:":runner:",value:"🏃"},{name:":surfer:",value:"🏄"},{name:":horse_racing:",value:"🏇"},{name:":swimmer:",value:"🏊"},{name:":weight_lifter:",value:"🏋"},{name:":golfer:",value:"🏌"},{name:":racing_motorcycle:",value:"🏍"},{name:":racing_car:",value:"🏎"},{name:":amphora:",value:"🏺"},{name:":skin-tone-2:",value:"🏻"},{name:":skin-tone-3:",value:"🏼"},{name:":skin-tone-4:",value:"🏽"},{name:":skin-tone-5:",value:"🏾"},{name:":skin-tone-6:",value:"🏿"},{name:":eyes:",value:"👀"},{name:":eye:",value:"👁"},{name:":ear:",value:"👂"},{name:":nose:",value:"👃"},{name:":lips:",value:"👄"},{name:":tongue:",value:"👅"},{name:":point_up_2:",value:"👆"},{name:":point_down:",value:"👇"},{name:":point_left:",value:"👈"},{name:":point_right:",value:"👉"},{name:":facepunch:",value:"👊"},{name:":wave:",value:"👋"},{name:":ok_hand:",value:"👌"},{name:":+1:",value:"👍"},{name:":-1:",value:"👎"},{name:":clap:",value:"👏"},{name:":open_hands:",value:"👐"},{name:":crown:",value:"👑"},{name:":womans_hat:",value:"👒"},{name:":eyeglasses:",value:"👓"},{name:":necktie:",value:"👔"},{name:":shirt:",value:"👕"},{name:":jeans:",value:"👖"},{name:":dress:",value:"👗"},{name:":kimono:",value:"👘"},{name:":bikini:",value:"👙"},{name:":womans_clothes:",value:"👚"},{name:":purse:",value:"👛"},{name:":handbag:",value:"👜"},{name:":pouch:",value:"👝"},{name:":mans_shoe:",value:"👞"},{name:":athletic_shoe:",value:"👟"},{name:":high_heel:",value:"👠"},{name:":sandal:",value:"👡"},{name:":boot:",value:"👢"},{name:":footprints:",value:"👣"},{name:":bust_in_silhouette:",value:"👤"},{name:":busts_in_silhouette:",value:"👥"},{name:":boy:",value:"👦"},{name:":girl:",value:"👧"},{name:":man:",value:"👨"},{name:":woman:",value:"👩"},{name:":family:",value:"👪"},{name:":couple:",value:"👫"},{name:":two_men_holding_hands:",value:"👬"},{name:":two_women_holding_hands:",value:"👭"},{name:":cop:",value:"👮"},{name:":dancers:",value:"👯"},{name:":bride_with_veil:",value:"👰"},{name:":person_with_blond_hair:",value:"👱"},{name:":man_with_gua_pi_mao:",value:"👲"},{name:":man_with_turban:",value:"👳"},{name:":older_man:",value:"👴"},{name:":older_woman:",value:"👵"},{name:":baby:",value:"👶"},{name:":construction_worker:",value:"👷"},{name:":princess:",value:"👸"},{name:":japanese_ogre:",value:"👹"},{name:":japanese_goblin:",value:"👺"},{name:":ghost:",value:"👻"},{name:":angel:",value:"👼"},{name:":alien:",value:"👽"},{name:":space_invader:",value:"👾"},{name:":imp:",value:"👿"},{name:":skull:",value:"💀"},{name:":information_desk_person:",value:"💁"},{name:":guardsman:",value:"💂"},{name:":dancer:",value:"💃"},{name:":lipstick:",value:"💄"},{name:":nail_care:",value:"💅"},{name:":massage:",value:"💆"},{name:":haircut:",value:"💇"},{name:":barber:",value:"💈"},{name:":kiss:",value:"💋"},{name:":love_letter:",value:"💌"},{name:":ring:",value:"💍"},{name:":gem:",value:"💎"},{name:":couplekiss:",value:"💏"},{name:":couple_with_heart:",value:"💑"},{name:":anger:",value:"💢"},{name:":bomb:",value:"💣"},{name:":zzz:",value:"💤"},{name:":boom:",value:"💥"},{name:":sweat_drops:",value:"💦"},{name:":dash:",value:"💨"},{name:":hankey:",value:"💩"},{name:":muscle:",value:"💪"},{name:":dizzy:",value:"💫"},{name:":currency_exchange:",value:"💱"},{name:":heavy_dollar_sign:",value:"💲"},{name:":chart:",value:"💹"},{name:":prayer_beads:",value:"📿"},{name:":hole:",value:"🕳"},{name:":man_in_business_suit_levitating:",value:"🕴"},{name:":sleuth_or_spy:",value:"🕵"},{name:":dark_sunglasses:",value:"🕶"},{name:":raised_hand_with_fingers_splayed:",value:"🖐"},{name:":middle_finger:",value:"🖕"},{name:":spock-hand:",value:"🖖"},{name:":frame_with_picture:",value:"🖼"},{name:":speaking_head_in_silhouette:",value:"🗣"}],Nature:[{name:":sunny:",value:"☀"},{name:":cloud:",value:"☁"},{name:":snowman:",value:"☃"},{name:":comet:",value:"☄"},{name:":shamrock:",value:"☘"},{name:":zap:",value:"⚡"},{name:":snowman_without_snow:",value:"⛄"},{name:":partly_sunny:",value:"⛅"},{name:":thunder_cloud_and_rain:",value:"⛈"},{name:":snowflake:",value:"❄"},{name:":star:",value:"⭐"},{name:":rainbow:",value:"🌈"},{name:":ocean:",value:"🌊"},{name:":earth_africa:",value:"🌍"},{name:":earth_americas:",value:"🌎"},{name:":earth_asia:",value:"🌏"},{name:":new_moon:",value:"🌑"},{name:":waxing_crescent_moon:",value:"🌒"},{name:":first_quarter_moon:",value:"🌓"},{name:":moon:",value:"🌔"},{name:":full_moon:",value:"🌕"},{name:":waning_gibbous_moon:",value:"🌖"},{name:":last_quarter_moon:",value:"🌗"},{name:":waning_crescent_moon:",value:"🌘"},{name:":crescent_moon:",value:"🌙"},{name:":new_moon_with_face:",value:"🌚"},{name:":first_quarter_moon_with_face:",value:"🌛"},{name:":last_quarter_moon_with_face:",value:"🌜"},{name:":full_moon_with_face:",value:"🌝"},{name:":sun_with_face:",value:"🌞"},{name:":star2:",value:"🌟"},{name:":mostly_sunny:",value:"🌤"},{name:":barely_sunny:",value:"🌥"},{name:":partly_sunny_rain:",value:"🌦"},{name:":rain_cloud:",value:"🌧"},{name:":snow_cloud:",value:"🌨"},{name:":lightning:",value:"🌩"},{name:":tornado:",value:"🌪"},{name:":fog:",value:"🌫"},{name:":wind_blowing_face:",value:"🌬"},{name:":seedling:",value:"🌱"},{name:":evergreen_tree:",value:"🌲"},{name:":deciduous_tree:",value:"🌳"},{name:":palm_tree:",value:"🌴"},{name:":cactus:",value:"🌵"},{name:":tulip:",value:"🌷"},{name:":cherry_blossom:",value:"🌸"},{name:":rose:",value:"🌹"},{name:":hibiscus:",value:"🌺"},{name:":sunflower:",value:"🌻"},{name:":blossom:",value:"🌼"},{name:":ear_of_rice:",value:"🌾"},{name:":herb:",value:"🌿"},{name:":four_leaf_clover:",value:"🍀"},{name:":maple_leaf:",value:"🍁"},{name:":fallen_leaf:",value:"🍂"},{name:":leaves:",value:"🍃"},{name:":rosette:",value:"🏵"},{name:":rat:",value:"🐀"},{name:":mouse2:",value:"🐁"},{name:":ox:",value:"🐂"},{name:":water_buffalo:",value:"🐃"},{name:":cow2:",value:"🐄"},{name:":tiger2:",value:"🐅"},{name:":leopard:",value:"🐆"},{name:":rabbit2:",value:"🐇"},{name:":cat2:",value:"🐈"},{name:":dragon:",value:"🐉"},{name:":crocodile:",value:"🐊"},{name:":whale2:",value:"🐋"},{name:":snail:",value:"🐌"},{name:":snake:",value:"🐍"},{name:":racehorse:",value:"🐎"},{name:":ram:",value:"🐏"},{name:":goat:",value:"🐐"},{name:":sheep:",value:"🐑"},{name:":monkey:",value:"🐒"},{name:":rooster:",value:"🐓"},{name:":chicken:",value:"🐔"},{name:":dog2:",value:"🐕"},{name:":pig2:",value:"🐖"},{name:":boar:",value:"🐗"},{name:":elephant:",value:"🐘"},{name:":octopus:",value:"🐙"},{name:":shell:",value:"🐚"},{name:":bug:",value:"🐛"},{name:":ant:",value:"🐜"},{name:":bee:",value:"🐝"},{name:":beetle:",value:"🐞"},{name:":fish:",value:"🐟"},{name:":tropical_fish:",value:"🐠"},{name:":blowfish:",value:"🐡"},{name:":turtle:",value:"🐢"},{name:":hatching_chick:",value:"🐣"},{name:":baby_chick:",value:"🐤"},{name:":hatched_chick:",value:"🐥"},{name:":bird:",value:"🐦"},{name:":penguin:",value:"🐧"},{name:":koala:",value:"🐨"},{name:":poodle:",value:"🐩"},{name:":dromedary_camel:",value:"🐪"},{name:":camel:",value:"🐫"},{name:":dolphin:",value:"🐬"},{name:":mouse:",value:"🐭"},{name:":cow:",value:"🐮"},{name:":tiger:",value:"🐯"},{name:":rabbit:",value:"🐰"},{name:":cat:",value:"🐱"},{name:":dragon_face:",value:"🐲"},{name:":whale:",value:"🐳"},{name:":horse:",value:"🐴"},{name:":monkey_face:",value:"🐵"},{name:":dog:",value:"🐶"},{name:":pig:",value:"🐷"},{name:":frog:",value:"🐸"},{name:":hamster:",value:"🐹"},{name:":wolf:",value:"🐺"},{name:":bear:",value:"🐻"},{name:":panda_face:",value:"🐼"},{name:":pig_nose:",value:"🐽"},{name:":feet:",value:"🐾"},{name:":chipmunk:",value:"🐿"},{name:":bouquet:",value:"💐"},{name:":droplet:",value:"💧"},{name:":white_flower:",value:"💮"},{name:":fire:",value:"🔥"},{name:":dove_of_peace:",value:"🕊"},{name:":spider:",value:"🕷"},{name:":spider_web:",value:"🕸"},{name:":crab:",value:"🦀"},{name:":lion_face:",value:"🦁"},{name:":scorpion:",value:"🦂"},{name:":turkey:",value:"🦃"},{name:":unicorn_face:",value:"🦄"}],Food:[{name:":coffee:",value:"☕"},{name:":hotdog:",value:"🌭"},{name:":taco:",value:"🌮"},{name:":burrito:",value:"🌯"},{name:":chestnut:",value:"🌰"},{name:":hot_pepper:",value:"🌶"},{name:":corn:",value:"🌽"},{name:":mushroom:",value:"🍄"},{name:":tomato:",value:"🍅"},{name:":eggplant:",value:"🍆"},{name:":grapes:",value:"🍇"},{name:":melon:",value:"🍈"},{name:":watermelon:",value:"🍉"},{name:":tangerine:",value:"🍊"},{name:":lemon:",value:"🍋"},{name:":banana:",value:"🍌"},{name:":pineapple:",value:"🍍"},{name:":apple:",value:"🍎"},{name:":green_apple:",value:"🍏"},{name:":pear:",value:"🍐"},{name:":peach:",value:"🍑"},{name:":cherries:",value:"🍒"},{name:":strawberry:",value:"🍓"},{name:":hamburger:",value:"🍔"},{name:":pizza:",value:"🍕"},{name:":meat_on_bone:",value:"🍖"},{name:":poultry_leg:",value:"🍗"},{name:":rice_cracker:",value:"🍘"},{name:":rice_ball:",value:"🍙"},{name:":rice:",value:"🍚"},{name:":curry:",value:"🍛"},{name:":ramen:",value:"🍜"},{name:":spaghetti:",value:"🍝"},{name:":bread:",value:"🍞"},{name:":fries:",value:"🍟"},{name:":sweet_potato:",value:"🍠"},{name:":dango:",value:"🍡"},{name:":oden:",value:"🍢"},{name:":sushi:",value:"🍣"},{name:":fried_shrimp:",value:"🍤"},{name:":fish_cake:",value:"🍥"},{name:":icecream:",value:"🍦"},{name:":shaved_ice:",value:"🍧"},{name:":ice_cream:",value:"🍨"},{name:":doughnut:",value:"🍩"},{name:":cookie:",value:"🍪"},{name:":chocolate_bar:",value:"🍫"},{name:":candy:",value:"🍬"},{name:":lollipop:",value:"🍭"},{name:":custard:",value:"🍮"},{name:":honey_pot:",value:"🍯"},{name:":cake:",value:"🍰"},{name:":bento:",value:"🍱"},{name:":stew:",value:"🍲"},{name:":egg:",value:"🍳"},{name:":fork_and_knife:",value:"🍴"},{name:":tea:",value:"🍵"},{name:":sake:",value:"🍶"},{name:":wine_glass:",value:"🍷"},{name:":cocktail:",value:"🍸"},{name:":tropical_drink:",value:"🍹"},{name:":beer:",value:"🍺"},{name:":beers:",value:"🍻"},{name:":baby_bottle:",value:"🍼"},{name:":knife_fork_plate:",value:"🍽"},{name:":champagne:",value:"🍾"},{name:":popcorn:",value:"🍿"},{name:":birthday:",value:"🎂"},{name:":hocho:",value:"🔪"},{name:":cheese_wedge:",value:"🧀"}],Activity:[{name:":soccer:",value:"⚽"},{name:":baseball:",value:"⚾"},{name:":golf:",value:"⛳"},{name:":ice_skate:",value:"⛸"},{name:":medal:",value:"🎖"},{name:":fishing_pole_and_fish:",value:"🎣"},{name:":video_game:",value:"🎮"},{name:":dart:",value:"🎯"},{name:":8ball:",value:"🎱"},{name:":game_die:",value:"🎲"},{name:":bowling:",value:"🎳"},{name:":running_shirt_with_sash:",value:"🎽"},{name:":tennis:",value:"🎾"},{name:":ski:",value:"🎿"},{name:":basketball:",value:"🏀"},{name:":sports_medal:",value:"🏅"},{name:":trophy:",value:"🏆"},{name:":football:",value:"🏈"},{name:":rugby_football:",value:"🏉"},{name:":cricket_bat_and_ball:",value:"🏏"},{name:":volleyball:",value:"🏐"},{name:":field_hockey_stick_and_ball:",value:"🏑"},{name:":ice_hockey_stick_and_puck:",value:"🏒"},{name:":table_tennis_paddle_and_ball:",value:"🏓"},{name:":badminton_racquet_and_shuttlecock:",value:"🏸"},{name:":joystick:",value:"🕹"}],Travel:[{name:":hotsprings:",value:"♨"},{name:":anchor:",value:"⚓"},{name:":shinto_shrine:",value:"⛩"},{name:":church:",value:"⛪"},{name:":mountain:",value:"⛰"},{name:":fountain:",value:"⛲"},{name:":ferry:",value:"⛴"},{name:":boat:",value:"⛵"},{name:":tent:",value:"⛺"},{name:":fuelpump:",value:"⛽"},{name:":airplane:",value:"✈"},{name:":foggy:",value:"🌁"},{name:":night_with_stars:",value:"🌃"},{name:":sunrise_over_mountains:",value:"🌄"},{name:":sunrise:",value:"🌅"},{name:":city_sunset:",value:"🌆"},{name:":city_sunrise:",value:"🌇"},{name:":bridge_at_night:",value:"🌉"},{name:":volcano:",value:"🌋"},{name:":milky_way:",value:"🌌"},{name:":globe_with_meridians:",value:"🌐"},{name:":carousel_horse:",value:"🎠"},{name:":ferris_wheel:",value:"🎡"},{name:":roller_coaster:",value:"🎢"},{name:":snow_capped_mountain:",value:"🏔"},{name:":camping:",value:"🏕"},{name:":beach_with_umbrella:",value:"🏖"},{name:":building_construction:",value:"🏗"},{name:":house_buildings:",value:"🏘"},{name:":cityscape:",value:"🏙"},{name:":derelict_house_building:",value:"🏚"},{name:":classical_building:",value:"🏛"},{name:":desert:",value:"🏜"},{name:":desert_island:",value:"🏝"},{name:":national_park:",value:"🏞"},{name:":stadium:",value:"🏟"},{name:":house:",value:"🏠"},{name:":house_with_garden:",value:"🏡"},{name:":office:",value:"🏢"},{name:":post_office:",value:"🏣"},{name:":european_post_office:",value:"🏤"},{name:":hospital:",value:"🏥"},{name:":bank:",value:"🏦"},{name:":hotel:",value:"🏨"},{name:":love_hotel:",value:"🏩"},{name:":convenience_store:",value:"🏪"},{name:":school:",value:"🏫"},{name:":department_store:",value:"🏬"},{name:":factory:",value:"🏭"},{name:":japanese_castle:",value:"🏯"},{name:":european_castle:",value:"🏰"},{name:":wedding:",value:"💒"},{name:":seat:",value:"💺"},{name:":kaaba:",value:"🕋"},{name:":mosque:",value:"🕌"},{name:":synagogue:",value:"🕍"},{name:":world_map:",value:"🗺"},{name:":mount_fuji:",value:"🗻"},{name:":tokyo_tower:",value:"🗼"},{name:":statue_of_liberty:",value:"🗽"},{name:":japan:",value:"🗾"},{name:":rocket:",value:"🚀"},{name:":helicopter:",value:"🚁"},{name:":steam_locomotive:",value:"🚂"},{name:":railway_car:",value:"🚃"},{name:":bullettrain_side:",value:"🚄"},{name:":bullettrain_front:",value:"🚅"},{name:":train2:",value:"🚆"},{name:":metro:",value:"🚇"},{name:":light_rail:",value:"🚈"},{name:":station:",value:"🚉"},{name:":tram:",value:"🚊"},{name:":train:",value:"🚋"},{name:":bus:",value:"🚌"},{name:":oncoming_bus:",value:"🚍"},{name:":trolleybus:",value:"🚎"},{name:":busstop:",value:"🚏"},{name:":minibus:",value:"🚐"},{name:":ambulance:",value:"🚑"},{name:":fire_engine:",value:"🚒"},{name:":police_car:",value:"🚓"},{name:":oncoming_police_car:",value:"🚔"},{name:":taxi:",value:"🚕"},{name:":oncoming_taxi:",value:"🚖"},{name:":car:",value:"🚗"},{name:":oncoming_automobile:",value:"🚘"},{name:":blue_car:",value:"🚙"},{name:":truck:",value:"🚚"},{name:":articulated_lorry:",value:"🚛"},{name:":tractor:",value:"🚜"},{name:":monorail:",value:"🚝"},{name:":mountain_railway:",value:"🚞"},{name:":suspension_railway:",value:"🚟"},{name:":mountain_cableway:",value:"🚠"},{name:":aerial_tramway:",value:"🚡"},{name:":ship:",value:"🚢"},{name:":speedboat:",value:"🚤"},{name:":traffic_light:",value:"🚥"},{name:":vertical_traffic_light:",value:"🚦"},{name:":construction:",value:"🚧"},{name:":rotating_light:",value:"🚨"},{name:":bike:",value:"🚲"},{name:":motorway:",value:"🛣"},{name:":railway_track:",value:"🛤"},{name:":motor_boat:",value:"🛥"},{name:":small_airplane:",value:"🛩"},{name:":airplane_departure:",value:"🛫"},{name:":airplane_arriving:",value:"🛬"},{name:":satellite:",value:"🛰"},{name:":passenger_ship:",value:"🛳"}],Objects:[{name:":watch:",value:"⌚"},{name:":hourglass:",value:"⌛"},{name:":keyboard:",value:"⌨"},{name:":alarm_clock:",value:"⏰"},{name:":stopwatch:",value:"⏱"},{name:":timer_clock:",value:"⏲"},{name:":hourglass_flowing_sand:",value:"⏳"},{name:":phone:",value:"☎"},{name:":hammer_and_pick:",value:"⚒"},{name:":crossed_swords:",value:"⚔"},{name:":scales:",value:"⚖"},{name:":alembic:",value:"⚗"},{name:":gear:",value:"⚙"},{name:":coffin:",value:"⚰"},{name:":funeral_urn:",value:"⚱"},{name:":pick:",value:"⛏"},{name:":chains:",value:"⛓"},{name:":scissors:",value:"✂"},{name:":email:",value:"✉"},{name:":pencil2:",value:"✏"},{name:":black_nib:",value:"✒"},{name:":ribbon:",value:"🎀"},{name:":gift:",value:"🎁"},{name:":balloon:",value:"🎈"},{name:":tada:",value:"🎉"},{name:":confetti_ball:",value:"🎊"},{name:":tanabata_tree:",value:"🎋"},{name:":bamboo:",value:"🎍"},{name:":dolls:",value:"🎎"},{name:":flags:",value:"🎏"},{name:":wind_chime:",value:"🎐"},{name:":rice_scene:",value:"🎑"},{name:":reminder_ribbon:",value:"🎗"},{name:":studio_microphone:",value:"🎙"},{name:":level_slider:",value:"🎚"},{name:":control_knobs:",value:"🎛"},{name:":film_frames:",value:"🎞"},{name:":admission_tickets:",value:"🎟"},{name:":microphone:",value:"🎤"},{name:":movie_camera:",value:"🎥"},{name:":headphones:",value:"🎧"},{name:":ticket:",value:"🎫"},{name:":clapper:",value:"🎬"},{name:":musical_note:",value:"🎵"},{name:":notes:",value:"🎶"},{name:":saxophone:",value:"🎷"},{name:":guitar:",value:"🎸"},{name:":musical_keyboard:",value:"🎹"},{name:":trumpet:",value:"🎺"},{name:":violin:",value:"🎻"},{name:":musical_score:",value:"🎼"},{name:":izakaya_lantern:",value:"🏮"},{name:":label:",value:"🏷"},{name:":bow_and_arrow:",value:"🏹"},{name:":syringe:",value:"💉"},{name:":pill:",value:"💊"},{name:":bulb:",value:"💡"},{name:":moneybag:",value:"💰"},{name:":credit_card:",value:"💳"},{name:":yen:",value:"💴"},{name:":dollar:",value:"💵"},{name:":euro:",value:"💶"},{name:":pound:",value:"💷"},{name:":money_with_wings:",value:"💸"},{name:":computer:",value:"💻"},{name:":briefcase:",value:"💼"},{name:":minidisc:",value:"💽"},{name:":floppy_disk:",value:"💾"},{name:":cd:",value:"💿"},{name:":dvd:",value:"📀"},{name:":file_folder:",value:"📁"},{name:":open_file_folder:",value:"📂"},{name:":page_with_curl:",value:"📃"},{name:":page_facing_up:",value:"📄"},{name:":date:",value:"📅"},{name:":calendar:",value:"📆"},{name:":card_index:",value:"📇"},{name:":chart_with_upwards_trend:",value:"📈"},{name:":chart_with_downwards_trend:",value:"📉"},{name:":bar_chart:",value:"📊"},{name:":clipboard:",value:"📋"},{name:":pushpin:",value:"📌"},{name:":round_pushpin:",value:"📍"},{name:":paperclip:",value:"📎"},{name:":straight_ruler:",value:"📏"},{name:":triangular_ruler:",value:"📐"},{name:":bookmark_tabs:",value:"📑"},{name:":ledger:",value:"📒"},{name:":notebook:",value:"📓"},{name:":notebook_with_decorative_cover:",value:"📔"},{name:":closed_book:",value:"📕"},{name:":book:",value:"📖"},{name:":green_book:",value:"📗"},{name:":blue_book:",value:"📘"},{name:":orange_book:",value:"📙"},{name:":books:",value:"📚"},{name:":scroll:",value:"📜"},{name:":memo:",value:"📝"},{name:":telephone_receiver:",value:"📞"},{name:":pager:",value:"📟"},{name:":fax:",value:"📠"},{name:":satellite_antenna:",value:"📡"},{name:":outbox_tray:",value:"📤"},{name:":inbox_tray:",value:"📥"},{name:":package:",value:"📦"},{name:":e-mail:",value:"📧"},{name:":incoming_envelope:",value:"📨"},{name:":envelope_with_arrow:",value:"📩"},{name:":mailbox_closed:",value:"📪"},{name:":mailbox:",value:"📫"},{name:":mailbox_with_mail:",value:"📬"},{name:":mailbox_with_no_mail:",value:"📭"},{name:":postbox:",value:"📮"},{name:":newspaper:",value:"📰"},{name:":iphone:",value:"📱"},{name:":calling:",value:"📲"},{name:":camera:",value:"📷"},{name:":camera_with_flash:",value:"📸"},{name:":video_camera:",value:"📹"},{name:":tv:",value:"📺"},{name:":radio:",value:"📻"},{name:":vhs:",value:"📼"},{name:":film_projector:",value:"📽"},{name:":battery:",value:"🔋"},{name:":electric_plug:",value:"🔌"},{name:":mag:",value:"🔍"},{name:":mag_right:",value:"🔎"},{name:":lock_with_ink_pen:",value:"🔏"},{name:":closed_lock_with_key:",value:"🔐"},{name:":key:",value:"🔑"},{name:":lock:",value:"🔒"},{name:":unlock:",value:"🔓"},{name:":bookmark:",value:"🔖"},{name:":link:",value:"🔗"},{name:":flashlight:",value:"🔦"},{name:":wrench:",value:"🔧"},{name:":hammer:",value:"🔨"},{name:":nut_and_bolt:",value:"🔩"},{name:":gun:",value:"🔫"},{name:":microscope:",value:"🔬"},{name:":telescope:",value:"🔭"},{name:":crystal_ball:",value:"🔮"},{name:":candle:",value:"🕯"},{name:":mantelpiece_clock:",value:"🕰"},{name:":linked_paperclips:",value:"🖇"},{name:":lower_left_ballpoint_pen:",value:"🖊"},{name:":lower_left_fountain_pen:",value:"🖋"},{name:":lower_left_paintbrush:",value:"🖌"},{name:":lower_left_crayon:",value:"🖍"},{name:":desktop_computer:",value:"🖥"},{name:":printer:",value:"🖨"},{name:":three_button_mouse:",value:"🖱"},{name:":trackball:",value:"🖲"},{name:":card_index_dividers:",value:"🗂"},{name:":card_file_box:",value:"🗃"},{name:":file_cabinet:",value:"🗄"},{name:":wastebasket:",value:"🗑"},{name:":spiral_note_pad:",value:"🗒"},{name:":spiral_calendar_pad:",value:"🗓"},{name:":compression:",value:"🗜"},{name:":old_key:",value:"🗝"},{name:":rolled_up_newspaper:",value:"🗞"},{name:":dagger_knife:",value:"🗡"},{name:":ballot_box_with_ballot:",value:"🗳"},{name:":moyai:",value:"🗿"},{name:":door:",value:"🚪"},{name:":smoking:",value:"🚬"},{name:":toilet:",value:"🚽"},{name:":shower:",value:"🚿"},{name:":bath:",value:"🛀"},{name:":bathtub:",value:"🛁"},{name:":couch_and_lamp:",value:"🛋"},{name:":sleeping_accommodation:",value:"🛌"},{name:":bellhop_bell:",value:"🛎"},{name:":bed:",value:"🛏"},{name:":hammer_and_wrench:",value:"🛠"},{name:":shield:",value:"🛡"},{name:":oil_drum:",value:"🛢"}],Symbols:[{name:":copyright:",value:"©"},{name:":registered:",value:"®"},{name:":bangbang:",value:"‼"},{name:":interrobang:",value:"⁉"},{name:":tm:",value:"™"},{name:":information_source:",value:"ℹ"},{name:":left_right_arrow:",value:"↔"},{name:":arrow_up_down:",value:"↕"},{name:":arrow_upper_left:",value:"↖"},{name:":arrow_upper_right:",value:"↗"},{name:":arrow_lower_right:",value:"↘"},{name:":arrow_lower_left:",value:"↙"},{name:":leftwards_arrow_with_hook:",value:"↩"},{name:":arrow_right_hook:",value:"↪"},{name:":eject:",value:"⏏"},{name:":fast_forward:",value:"⏩"},{name:":rewind:",value:"⏪"},{name:":arrow_double_up:",value:"⏫"},{name:":arrow_double_down:",value:"⏬"},{name:":black_right_pointing_double_triangle_with_vertical_bar:",value:"⏭"},{name:":black_left_pointing_double_triangle_with_vertical_bar:",value:"⏮"},{name:":black_right_pointing_triangle_with_double_vertical_bar:",value:"⏯"},{name:":double_vertical_bar:",value:"⏸"},{name:":black_square_for_stop:",value:"⏹"},{name:":black_circle_for_record:",value:"⏺"},{name:":m:",value:"Ⓜ"},{name:":black_small_square:",value:"▪"},{name:":white_small_square:",value:"▫"},{name:":arrow_forward:",value:"▶"},{name:":arrow_backward:",value:"◀"},{name:":white_medium_square:",value:"◻"},{name:":black_medium_square:",value:"◼"},{name:":white_medium_small_square:",value:"◽"},{name:":black_medium_small_square:",value:"◾"},{name:":ballot_box_with_check:",value:"☑"},{name:":radioactive_sign:",value:"☢"},{name:":biohazard_sign:",value:"☣"},{name:":orthodox_cross:",value:"☦"},{name:":star_and_crescent:",value:"☪"},{name:":peace_symbol:",value:"☮"},{name:":yin_yang:",value:"☯"},{name:":wheel_of_dharma:",value:"☸"},{name:":aries:",value:"♈"},{name:":taurus:",value:"♉"},{name:":gemini:",value:"♊"},{name:":cancer:",value:"♋"},{name:":leo:",value:"♌"},{name:":virgo:",value:"♍"},{name:":libra:",value:"♎"},{name:":scorpius:",value:"♏"},{name:":sagittarius:",value:"♐"},{name:":capricorn:",value:"♑"},{name:":aquarius:",value:"♒"},{name:":pisces:",value:"♓"},{name:":recycle:",value:"♻"},{name:":wheelchair:",value:"♿"},{name:":atom_symbol:",value:"⚛"},{name:":fleur_de_lis:",value:"⚜"},{name:":warning:",value:"⚠"},{name:":white_circle:",value:"⚪"},{name:":black_circle:",value:"⚫"},{name:":ophiuchus:",value:"⛎"},{name:":no_entry:",value:"⛔"},{name:":white_check_mark:",value:"✅"},{name:":heavy_check_mark:",value:"✔"},{name:":heavy_multiplication_x:",value:"✖"},{name:":latin_cross:",value:"✝"},{name:":star_of_david:",value:"✡"},{name:":eight_spoked_asterisk:",value:"✳"},{name:":eight_pointed_black_star:",value:"✴"},{name:":sparkle:",value:"❇"},{name:":x:",value:"❌"},{name:":negative_squared_cross_mark:",value:"❎"},{name:":question:",value:"❓"},{name:":grey_question:",value:"❔"},{name:":grey_exclamation:",value:"❕"},{name:":exclamation:",value:"❗"},{name:":heavy_heart_exclamation_mark_ornament:",value:"❣"},{name:":heart:",value:"❤"},{name:":heavy_plus_sign:",value:"➕"},{name:":heavy_minus_sign:",value:"➖"},{name:":heavy_division_sign:",value:"➗"},{name:":arrow_right:",value:"➡"},{name:":curly_loop:",value:"➰"},{name:":loop:",value:"➿"},{name:":arrow_heading_up:",value:"⤴"},{name:":arrow_heading_down:",value:"⤵"},{name:":arrow_left:",value:"⬅"},{name:":arrow_up:",value:"⬆"},{name:":arrow_down:",value:"⬇"},{name:":black_large_square:",value:"⬛"},{name:":white_large_square:",value:"⬜"},{name:":o:",value:"⭕"},{name:":wavy_dash:",value:"〰"},{name:":part_alternation_mark:",value:"〽"},{name:":congratulations:",value:"㊗"},{name:":secret:",value:"㊙"},{name:":a:",value:"🅰"},{name:":b:",value:"🅱"},{name:":o2:",value:"🅾"},{name:":parking:",value:"🅿"},{name:":ab:",value:"🆎"},{name:":cl:",value:"🆑"},{name:":cool:",value:"🆒"},{name:":free:",value:"🆓"},{name:":id:",value:"🆔"},{name:":new:",value:"🆕"},{name:":ng:",value:"🆖"},{name:":ok:",value:"🆗"},{name:":sos:",value:"🆘"},{name:":up:",value:"🆙"},{name:":vs:",value:"🆚"},{name:":koko:",value:"🈁"},{name:":sa:",value:"🈂"},{name:":u7121:",value:"🈚"},{name:":u6307:",value:"🈯"},{name:":u7981:",value:"🈲"},{name:":u7a7a:",value:"🈳"},{name:":u5408:",value:"🈴"},{name:":u6e80:",value:"🈵"},{name:":u6709:",value:"🈶"},{name:":u6708:",value:"🈷"},{name:":u7533:",value:"🈸"},{name:":u5272:",value:"🈹"},{name:":u55b6:",value:"🈺"},{name:":ideograph_advantage:",value:"🉐"},{name:":accept:",value:"🉑"},{name:":crossed_flags:",value:"🎌"},{name:":cinema:",value:"🎦"},{name:":checkered_flag:",value:"🏁"},{name:":atm:",value:"🏧"},{name:":waving_white_flag:",value:"🏳"},{name:":waving_black_flag:",value:"🏴"},{name:":heartbeat:",value:"💓"},{name:":broken_heart:",value:"💔"},{name:":two_hearts:",value:"💕"},{name:":sparkling_heart:",value:"💖"},{name:":heartpulse:",value:"💗"},{name:":cupid:",value:"💘"},{name:":blue_heart:",value:"💙"},{name:":green_heart:",value:"💚"},{name:":yellow_heart:",value:"💛"},{name:":purple_heart:",value:"💜"},{name:":gift_heart:",value:"💝"},{name:":revolving_hearts:",value:"💞"},{name:":heart_decoration:",value:"💟"},{name:":diamond_shape_with_a_dot_inside:",value:"💠"},{name:":speech_balloon:",value:"💬"},{name:":thought_balloon:",value:"💭"},{name:":100:",value:"💯"},{name:":name_badge:",value:"📛"},{name:":loudspeaker:",value:"📢"},{name:":mega:",value:"📣"},{name:":postal_horn:",value:"📯"},{name:":vibration_mode:",value:"📳"},{name:":mobile_phone_off:",value:"📴"},{name:":no_mobile_phones:",value:"📵"},{name:":signal_strength:",value:"📶"},{name:":twisted_rightwards_arrows:",value:"🔀"},{name:":repeat:",value:"🔁"},{name:":repeat_one:",value:"🔂"},{name:":arrows_clockwise:",value:"🔃"},{name:":arrows_counterclockwise:",value:"🔄"},{name:":low_brightness:",value:"🔅"},{name:":high_brightness:",value:"🔆"},{name:":mute:",value:"🔇"},{name:":speaker:",value:"🔈"},{name:":sound:",value:"🔉"},{name:":loud_sound:",value:"🔊"},{name:":bell:",value:"🔔"},{name:":no_bell:",value:"🔕"},{name:":radio_button:",value:"🔘"},{name:":back:",value:"🔙"},{name:":end:",value:"🔚"},{name:":on:",value:"🔛"},{name:":soon:",value:"🔜"},{name:":top:",value:"🔝"},{name:":underage:",value:"🔞"},{name:":keycap_ten:",value:"🔟"},{name:":capital_abcd:",value:"🔠"},{name:":abcd:",value:"🔡"},{name:":1234:",value:"🔢"},{name:":symbols:",value:"🔣"},{name:":abc:",value:"🔤"},{name:":six_pointed_star:",value:"🔯"},{name:":beginner:",value:"🔰"},{name:":trident:",value:"🔱"},{name:":black_square_button:",value:"🔲"},{name:":white_square_button:",value:"🔳"},{name:":red_circle:",value:"🔴"},{name:":large_blue_circle:",value:"🔵"},{name:":large_orange_diamond:",value:"🔶"},{name:":large_blue_diamond:",value:"🔷"},{name:":small_orange_diamond:",value:"🔸"},{name:":small_blue_diamond:",value:"🔹"},{name:":small_red_triangle:",value:"🔺"},{name:":small_red_triangle_down:",value:"🔻"},{name:":arrow_up_small:",value:"🔼"},{name:":arrow_down_small:",value:"🔽"},{name:":om_symbol:",value:"🕉"},{name:":menorah_with_nine_branches:",value:"🕎"},{name:":clock1:",value:"🕐"},{name:":clock2:",value:"🕑"},{name:":clock3:",value:"🕒"},{name:":clock4:",value:"🕓"},{name:":clock5:",value:"🕔"},{name:":clock6:",value:"🕕"},{name:":clock7:",value:"🕖"},{name:":clock8:",value:"🕗"},{name:":clock9:",value:"🕘"},{name:":clock10:",value:"🕙"},{name:":clock11:",value:"🕚"},{name:":clock12:",value:"🕛"},{name:":clock130:",value:"🕜"},{name:":clock230:",value:"🕝"},{name:":clock330:",value:"🕞"},{name:":clock430:",value:"🕟"},{name:":clock530:",value:"🕠"},{name:":clock630:",value:"🕡"},{name:":clock730:",value:"🕢"},{name:":clock830:",value:"🕣"},{name:":clock930:",value:"🕤"},{name:":clock1030:",value:"🕥"},{name:":clock1130:",value:"🕦"},{name:":clock1230:",value:"🕧"},{name:":left_speech_bubble:",value:"🗨"},{name:":right_anger_bubble:",value:"🗯"},{name:":triangular_flag_on_post:",value:"🚩"},{name:":no_entry_sign:",value:"🚫"},{name:":no_smoking:",value:"🚭"},{name:":put_litter_in_its_place:",value:"🚮"},{name:":do_not_litter:",value:"🚯"},{name:":potable_water:",value:"🚰"},{name:":non-potable_water:",value:"🚱"},{name:":no_bicycles:",value:"🚳"},{name:":no_pedestrians:",value:"🚷"},{name:":children_crossing:",value:"🚸"},{name:":mens:",value:"🚹"},{name:":womens:",value:"🚺"},{name:":restroom:",value:"🚻"},{name:":baby_symbol:",value:"🚼"},{name:":wc:",value:"🚾"},{name:":passport_control:",value:"🛂"},{name:":customs:",value:"🛃"},{name:":baggage_claim:",value:"🛄"},{name:":left_luggage:",value:"🛅"},{name:":place_of_worship:",value:"🛐"}],Flags:[{name:":flag-ac:",value:"🇦🇨"},{name:":flag-ad:",value:"🇦🇩"},{name:":flag-ae:",value:"🇦🇪"},{name:":flag-af:",value:"🇦🇫"},{name:":flag-ag:",value:"🇦🇬"},{name:":flag-ai:",value:"🇦🇮"},{name:":flag-al:",value:"🇦🇱"},{name:":flag-am:",value:"🇦🇲"},{name:":flag-ao:",value:"🇦🇴"},{name:":flag-aq:",value:"🇦🇶"},{name:":flag-ar:",value:"🇦🇷"},{name:":flag-as:",value:"🇦🇸"},{name:":flag-at:",value:"🇦🇹"},{name:":flag-au:",value:"🇦🇺"},{name:":flag-aw:",value:"🇦🇼"},{name:":flag-ax:",value:"🇦🇽"},{name:":flag-az:",value:"🇦🇿"},{name:":flag-ba:",value:"🇧🇦"},{name:":flag-bb:",value:"🇧🇧"},{name:":flag-bd:",value:"🇧🇩"},{name:":flag-be:",value:"🇧🇪"},{name:":flag-bf:",value:"🇧🇫"},{name:":flag-bg:",value:"🇧🇬"},{name:":flag-bh:",value:"🇧🇭"},{name:":flag-bi:",value:"🇧🇮"},{name:":flag-bj:",value:"🇧🇯"},{name:":flag-bl:",value:"🇧🇱"},{name:":flag-bm:",value:"🇧🇲"},{name:":flag-bn:",value:"🇧🇳"},{name:":flag-bo:",value:"🇧🇴"},{name:":flag-bq:",value:"🇧🇶"},{name:":flag-br:",value:"🇧🇷"},{name:":flag-bs:",value:"🇧🇸"},{name:":flag-bt:",value:"🇧🇹"},{name:":flag-bv:",value:"🇧🇻"},{name:":flag-bw:",value:"🇧🇼"},{name:":flag-by:",value:"🇧🇾"},{name:":flag-bz:",value:"🇧🇿"},{name:":flag-ca:",value:"🇨🇦"},{name:":flag-cc:",value:"🇨🇨"},{name:":flag-cd:",value:"🇨🇩"},{name:":flag-cf:",value:"🇨🇫"},{name:":flag-cg:",value:"🇨🇬"},{name:":flag-ch:",value:"🇨🇭"},{name:":flag-ci:",value:"🇨🇮"},{name:":flag-ck:",value:"🇨🇰"},{name:":flag-cl:",value:"🇨🇱"},{name:":flag-cm:",value:"🇨🇲"},{name:":flag-cn:",value:"🇨🇳"},{name:":flag-co:",value:"🇨🇴"},{name:":flag-cp:",value:"🇨🇵"},{name:":flag-cr:",value:"🇨🇷"},{name:":flag-cu:",value:"🇨🇺"},{name:":flag-cv:",value:"🇨🇻"},{name:":flag-cw:",value:"🇨🇼"},{name:":flag-cx:",value:"🇨🇽"},{name:":flag-cy:",value:"🇨🇾"},{name:":flag-cz:",value:"🇨🇿"},{name:":flag-de:",value:"🇩🇪"},{name:":flag-dg:",value:"🇩🇬"},{name:":flag-dj:",value:"🇩🇯"},{name:":flag-dk:",value:"🇩🇰"},{name:":flag-dm:",value:"🇩🇲"},{name:":flag-do:",value:"🇩🇴"},{name:":flag-dz:",value:"🇩🇿"},{name:":flag-ea:",value:"🇪🇦"},{name:":flag-ec:",value:"🇪🇨"},{name:":flag-ee:",value:"🇪🇪"},{name:":flag-eg:",value:"🇪🇬"},{name:":flag-eh:",value:"🇪🇭"},{name:":flag-er:",value:"🇪🇷"},{name:":flag-es:",value:"🇪🇸"},{name:":flag-et:",value:"🇪🇹"},{name:":flag-eu:",value:"🇪🇺"},{name:":flag-fi:",value:"🇫🇮"},{name:":flag-fj:",value:"🇫🇯"},{name:":flag-fk:",value:"🇫🇰"},{name:":flag-fm:",value:"🇫🇲"},{name:":flag-fo:",value:"🇫🇴"},{name:":flag-fr:",value:"🇫🇷"},{name:":flag-ga:",value:"🇬🇦"},{name:":flag-gb:",value:"🇬🇧"},{name:":flag-gd:",value:"🇬🇩"},{name:":flag-ge:",value:"🇬🇪"},{name:":flag-gf:",value:"🇬🇫"},{name:":flag-gg:",value:"🇬🇬"},{name:":flag-gh:",value:"🇬🇭"},{name:":flag-gi:",value:"🇬🇮"},{name:":flag-gl:",value:"🇬🇱"},{name:":flag-gm:",value:"🇬🇲"},{name:":flag-gn:",value:"🇬🇳"},{name:":flag-gp:",value:"🇬🇵"},{name:":flag-gq:",value:"🇬🇶"},{name:":flag-gr:",value:"🇬🇷"},{name:":flag-gs:",value:"🇬🇸"},{name:":flag-gt:",value:"🇬🇹"},{name:":flag-gu:",value:"🇬🇺"},{name:":flag-gw:",value:"🇬🇼"},{name:":flag-gy:",value:"🇬🇾"},{name:":flag-hk:",value:"🇭🇰"},{name:":flag-hm:",value:"🇭🇲"},{name:":flag-hn:",value:"🇭🇳"},{name:":flag-hr:",value:"🇭🇷"},{name:":flag-ht:",value:"🇭🇹"},{name:":flag-hu:",value:"🇭🇺"},{name:":flag-ic:",value:"🇮🇨"},{name:":flag-id:",value:"🇮🇩"},{name:":flag-ie:",value:"🇮🇪"},{name:":flag-il:",value:"🇮🇱"},{name:":flag-im:",value:"🇮🇲"},{name:":flag-in:",value:"🇮🇳"},{name:":flag-io:",value:"🇮🇴"},{name:":flag-iq:",value:"🇮🇶"},{name:":flag-ir:",value:"🇮🇷"},{name:":flag-is:",value:"🇮🇸"},{name:":flag-it:",value:"🇮🇹"},{name:":flag-je:",value:"🇯🇪"},{name:":flag-jm:",value:"🇯🇲"},{name:":flag-jo:",value:"🇯🇴"},{name:":flag-jp:",value:"🇯🇵"},{name:":flag-ke:",value:"🇰🇪"},{name:":flag-kg:",value:"🇰🇬"},{name:":flag-kh:",value:"🇰🇭"},{name:":flag-ki:",value:"🇰🇮"},{name:":flag-km:",value:"🇰🇲"},{name:":flag-kn:",value:"🇰🇳"},{name:":flag-kp:",value:"🇰🇵"},{name:":flag-kr:",value:"🇰🇷"},{name:":flag-kw:",value:"🇰🇼"},{name:":flag-ky:",value:"🇰🇾"},{name:":flag-kz:",value:"🇰🇿"},{name:":flag-la:",value:"🇱🇦"},{name:":flag-lb:",value:"🇱🇧"},{name:":flag-lc:",value:"🇱🇨"},{name:":flag-li:",value:"🇱🇮"},{name:":flag-lk:",value:"🇱🇰"},{name:":flag-lr:",value:"🇱🇷"},{name:":flag-ls:",value:"🇱🇸"},{name:":flag-lt:",value:"🇱🇹"},{name:":flag-lu:",value:"🇱🇺"},{name:":flag-lv:",value:"🇱🇻"},{name:":flag-ly:",value:"🇱🇾"},{name:":flag-ma:",value:"🇲🇦"},{name:":flag-mc:",value:"🇲🇨"},{name:":flag-md:",value:"🇲🇩"},{name:":flag-me:",value:"🇲🇪"},{name:":flag-mf:",value:"🇲🇫"},{name:":flag-mg:",value:"🇲🇬"},{name:":flag-mh:",value:"🇲🇭"},{name:":flag-mk:",value:"🇲🇰"},{name:":flag-ml:",value:"🇲🇱"},{name:":flag-mm:",value:"🇲🇲"},{name:":flag-mn:",value:"🇲🇳"},{name:":flag-mo:",value:"🇲🇴"},{name:":flag-mp:",value:"🇲🇵"},{name:":flag-mq:",value:"🇲🇶"},{name:":flag-mr:",value:"🇲🇷"},{name:":flag-ms:",value:"🇲🇸"},{name:":flag-mt:",value:"🇲🇹"},{name:":flag-mu:",value:"🇲🇺"},{name:":flag-mv:",value:"🇲🇻"},{name:":flag-mw:",value:"🇲🇼"},{name:":flag-mx:",value:"🇲🇽"},{name:":flag-my:",value:"🇲🇾"},{name:":flag-mz:",value:"🇲🇿"},{name:":flag-na:",value:"🇳🇦"},{name:":flag-nc:",value:"🇳🇨"},{name:":flag-ne:",value:"🇳🇪"},{name:":flag-nf:",value:"🇳🇫"},{name:":flag-ng:",value:"🇳🇬"},{name:":flag-ni:",value:"🇳🇮"},{name:":flag-nl:",value:"🇳🇱"},{name:":flag-no:",value:"🇳🇴"},{name:":flag-np:",value:"🇳🇵"},{name:":flag-nr:",value:"🇳🇷"},{name:":flag-nu:",value:"🇳🇺"},{name:":flag-nz:",value:"🇳🇿"},{name:":flag-om:",value:"🇴🇲"},{name:":flag-pa:",value:"🇵🇦"},{name:":flag-pe:",value:"🇵🇪"},{name:":flag-pf:",value:"🇵🇫"},{name:":flag-pg:",value:"🇵🇬"},{name:":flag-ph:",value:"🇵🇭"},{name:":flag-pk:",value:"🇵🇰"},{name:":flag-pl:",value:"🇵🇱"},{name:":flag-pm:",value:"🇵🇲"},{name:":flag-pn:",value:"🇵🇳"},{name:":flag-pr:",value:"🇵🇷"},{name:":flag-ps:",value:"🇵🇸"},{name:":flag-pt:",value:"🇵🇹"},{name:":flag-pw:",value:"🇵🇼"},{name:":flag-py:",value:"🇵🇾"},{name:":flag-qa:",value:"🇶🇦"},{name:":flag-re:",value:"🇷🇪"},{name:":flag-ro:",value:"🇷🇴"},{name:":flag-rs:",value:"🇷🇸"},{name:":flag-ru:",value:"🇷🇺"},{name:":flag-rw:",value:"🇷🇼"},{name:":flag-sa:",value:"🇸🇦"},{name:":flag-sb:",value:"🇸🇧"},{name:":flag-sc:",value:"🇸🇨"},{name:":flag-sd:",value:"🇸🇩"},{name:":flag-se:",value:"🇸🇪"},{name:":flag-sg:",value:"🇸🇬"},{name:":flag-sh:",value:"🇸🇭"},{name:":flag-si:",value:"🇸🇮"},{name:":flag-sj:",value:"🇸🇯"},{name:":flag-sk:",value:"🇸🇰"},{name:":flag-sl:",value:"🇸🇱"},{name:":flag-sm:",value:"🇸🇲"},{name:":flag-sn:",value:"🇸🇳"},{name:":flag-so:",value:"🇸🇴"},{name:":flag-sr:",value:"🇸🇷"},{name:":flag-ss:",value:"🇸🇸"},{name:":flag-st:",value:"🇸🇹"},{name:":flag-sv:",value:"🇸🇻"},{name:":flag-sx:",value:"🇸🇽"},{name:":flag-sy:",value:"🇸🇾"},{name:":flag-sz:",value:"🇸🇿"},{name:":flag-ta:",value:"🇹🇦"},{name:":flag-tc:",value:"🇹🇨"},{name:":flag-td:",value:"🇹🇩"},{name:":flag-tf:",value:"🇹🇫"},{name:":flag-tg:",value:"🇹🇬"},{name:":flag-th:",value:"🇹🇭"},{name:":flag-tj:",value:"🇹🇯"},{name:":flag-tk:",value:"🇹🇰"},{name:":flag-tl:",value:"🇹🇱"},{name:":flag-tm:",value:"🇹🇲"},{name:":flag-tn:",value:"🇹🇳"},{name:":flag-to:",value:"🇹🇴"},{name:":flag-tr:",value:"🇹🇷"},{name:":flag-tt:",value:"🇹🇹"},{name:":flag-tv:",value:"🇹🇻"},{name:":flag-tw:",value:"🇹🇼"},{name:":flag-tz:",value:"🇹🇿"},{name:":flag-ua:",value:"🇺🇦"},{name:":flag-ug:",value:"🇺🇬"},{name:":flag-um:",value:"🇺🇲"},{name:":flag-us:",value:"🇺🇸"},{name:":flag-uy:",value:"🇺🇾"},{name:":flag-uz:",value:"🇺🇿"},{name:":flag-va:",value:"🇻🇦"},{name:":flag-vc:",value:"🇻🇨"},{name:":flag-ve:",value:"🇻🇪"},{name:":flag-vg:",value:"🇻🇬"},{name:":flag-vi:",value:"🇻🇮"},{name:":flag-vn:",value:"🇻🇳"},{name:":flag-vu:",value:"🇻🇺"},{name:":flag-wf:",value:"🇼🇫"},{name:":flag-ws:",value:"🇼🇸"},{name:":flag-xk:",value:"🇽🇰"},{name:":flag-ye:",value:"🇾🇪"},{name:":flag-yt:",value:"🇾🇹"},{name:":flag-za:",value:"🇿🇦"},{name:":flag-zm:",value:"🇿🇲"},{name:":flag-zw:",value:"🇿🇼"}]},t.default=i},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=function(e){return/^image/.test(e)?"image":"file"},f=function(e){return e<1e3?e+"Bytes":e<1e6?(e/1e3).toFixed()+"KB":(e/1e6).toFixed(1)+"MB"},p=function(e){return{config:e.config}},d=(a=(0,c.connect)(p))(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={files:[],dragOver:!1,overLimit:!1},n.inputRef=null,n.MAX_FILE_SIZE=1e7,n}return o(t,e),u(t,[{key:"onDragOver",value:function(e){e.preventDefault(),this.setState({dragOver:!0})}},{key:"onDragLeave",value:function(){this.setState({dragOver:!1})}},{key:"onDrop",value:function(e){e.preventDefault(),this.setState({dragOver:!1}),this.insertFiles(e.dataTransfer.files)}},{key:"onInputChange",value:function(e){this.insertFiles(e.target.files)}},{key:"notifyMaxFileSize",value:function(){var e=this;this.setState({dragOver:!1,overLimit:!0},function(){setTimeout(function(){return e.setState({overLimit:!1})},2e3)})}},{key:"insertFiles",value:function(e){var t=[],n=null,r=null,i=0;if(e){for(var o=0;o<e.length;o++){if(n=e[o],r=h(n.type),i=f(n.size),!(n.size>this.MAX_FILE_SIZE)){this.insertImage({file:n,type:r,i:o}),t.push({file:n,type:r,size:i,name:n.name});break}this.notifyMaxFileSize()}this.setState({files:t})}}},{key:"insertImage",value:function(e){var t=this,n=e.file,r=e.type,i=e.i;if("image"===r){var o=new FileReader;o.onloadend=function(){var e=t.state;e.files[i].url=o.result,t.setState({files:e.files})},o.readAsDataURL(n)}}},{key:"removeFile",value:function(e){var t=this.state.files.slice();t.splice(e,1),this.setState({files:t})}},{key:"onButtonClick",value:function(){this.state.files[0]?this.props.inputSubmit({type:"file",files:this.state.files.map(function(e){return e.file})}):this.inputRef.click()}},{key:"render",value:function(e,t){var n=this,r=t.files,i=t.dragOver,o=t.overLimit;return(0,l.h)("div",{className:"hu-input-file"+(i?" input-drag-over":""),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragEnd:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this)},(0,l.h)("div",{className:"input-drop-area"},0===r.length?(0,l.h)("div",{className:"input-drop-border hu-display-flex hu-align-center hu-justify-center"},(0,l.h)("span",{className:"hu-s-14 hu-t-uppercase hu-w-bold"},e.config.text.input_file_help),(0,l.h)("i",{className:"fi document input-drop-icon hu-s-40"})):(0,l.h)("div",{className:"files-container"},r.map(function(e,t){return(0,l.h)("div",{className:"file-thumbnail hu-text-center hu-align-center hu-justify-center","data-type":e.type||null,style:{backgroundImage:e.url?'url("'+e.url+'")':null}},(0,l.h)("div",{className:"file-thumbnail-button",onClick:function(){return n.removeFile(t)}},(0,l.h)("svg",{style:"width:24px;height:24px",viewBox:"0 0 24 24"},(0,l.h)("path",{fill:"#000000",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))),"image"!==e.type&&(0,l.h)("i",{className:"fi document hu-s-50"}))}))),(0,l.h)("div",{className:"input-area hu-display-flex hu-align-center"},(0,l.h)("button",{className:"input-file-button hu-w-bold hu-s-14 hu-display-flex hu-align-center hu-background-color_button-background hu-color_button-text hu-background-color_button-background-light_hover",onClick:this.onButtonClick.bind(this),"data-file":r[0]?"1":"0"},!!r[0]&&(0,l.h)("span",{className:"submit-text hu-flex-1"},e.config.text.send),!!r[0]&&(0,l.h)("span",{className:"right-arrow"},(0,l.h)("svg",{className:"hu-fill_button-text",xmlns:"http://www.w3.org/2000/svg"},(0,l.h)("path",{d:"M 11.78125 2.28125 L 2.78125 11.28125 L 2.09375 12 L 2.78125 12.71875 L 11.78125 21.71875 L 13.21875 20.28125 L 5.9375 13 L 22 13 L 22 11 L 5.9375 11 L 13.21875 3.71875 Z "}))),!r[0]&&e.config.text.select_file),!o&&r[0]?(0,l.h)("span",{key:"file-name",className:"input-file-name hu-flex-1 hu-s-14 hu-a-right hu-x-ellipsis","data-state":"info",title:r[0].name},r[0].name+" | "+r[0].size):(0,l.h)("span",{key:"file-name",className:"input-file-name hu-flex-1 hu-s-14 hu-a-right hu-x-ellipsis","data-state":o?"danger":null},"MAX. 10MB")),(0,l.h)("input",{className:"hu-display-none",type:"file",ref:function(e){return n.inputRef=e},onChange:this.onInputChange.bind(this)}))}}]),t}(l.Component))||s;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(13),p=r(f),d=n(4),v=r(d),m=function(e){return e},y=function(e){return{config:e.config}},g=(s=(0,h.connect)(y))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={buttons:e.buttons,payloads:e.payloads,urls:e.urls,buttonsData:e.buttonsData,search_filter:"",filter_results:e.buttons instanceof Array?e.buttons.map(function(e){return e.toLowerCase()}):Object.keys(e.buttons).map(function(t){return e.buttons[t].toLowerCase()})},n.buttonsContainer=null,n.input=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.ee.on("hu-lb-input-focus",this.setInputFocus),this.props.ee.on("hu-lb-text-focus",this.setFocusWithChar)}},{key:"componentWillUnmount",value:function(){this.props.ee.removeListener("hu-lb-input-focus",this.setInputFocus),this.props.ee.removeListener("hu-lb-text-focus",this.setFocusWithChar)}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.input&&this.input.focus()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.buttons,i=n.payloads,o=n.buttonsData;if(!this.compareObjects(r,e.buttons)||!this.compareObjects(i,e.payloads)||!this.compareObjects(o,e.buttonsData))return!0;var a=this.state,s=a.search_filter,u=a.filter_results;return s!==t.search_filter||!this.compareObjects(u,t.filter_results)}},{key:"compareObjects",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"clickHandler",value:function(e){var t=this.props,n=t.buttons,r=t.payloads,i=p.default.getArrayFrom(n),o=p.default.getArrayFrom(r||n);this.props.inputSubmit({type:"button",message:i[e],payload:o[e]||i[e]});var a=this.buttonsContainer.querySelector('.hu-input-menu_button[data-key="'+e+'"]');a&&(a.className+=" clicked",a.blur())}},{key:"onSearchInput",value:function(e){this.setState({search_filter:e.target.value,filter_results:this.getMatches(e.target.value)})}},{key:"getMatches",value:function(e){var t=this.props.buttons;return p.default.getArrayFrom(t).map(function(e){return e.toLowerCase()}).filter(function(t){return t.indexOf(e.toLowerCase())>-1})}},{key:"mountIncludes",value:function(e){var t=this.props.buttonsData,n=t.includes,r=t.icons,i=t.emojis,o=t.images;switch(n[e]){case"icon":return r&&(0,c.h)("div",{className:"include-icon-container hu-s-30"},(0,c.h)("i",{className:"fi "+r[e]+" hu-s-30"}));case"image":return o&&(0,c.h)("div",{className:"include-image-container"},(0,c.h)("div",{className:"include-image",style:{backgroundImage:o[e]?"url("+o[e]+")":null}}));case"emoji":return i&&(0,c.h)("div",{className:"include-icon-container hu-s-35"},i[e]);default:return null}}},{key:"render",value:function(e,t){var n=this,r=e.buttons,i=e.urls,o=e.buttonsData,a=(t.clicked,t.search_filter),s=t.filter_results,u=o.search,l=o.random?m(p.default.getArrayFrom(r)):p.default.getArrayFrom(r),h=function(){var e="";return o.dual_buttons&&(e=e.concat(" dual")),o.pile_up&&(e=e.concat(" pileup")),"vertical"===o.alignment&&(e=e.concat(" vertical")),e},f=l.map(function(e){return null});if(i instanceof Array)f=i.slice();else{var d=0;for(var y in i)isNaN(y)?f[d]=i[y]:f[parseInt(y)]=i[y],d+=1}var g=p.default.getArrayFrom(o.urls),b=(f.length>0?f:g).map(p.default.getHref);return(0,c.h)("div",{className:"hu-input-menu hu-position-relative"},(0,c.h)("span",{className:"hu-input-menu_help hu-input-menu-info hu-display-block hu-not-selectable hu-s-10 hu-color_contrast hu-t-uppercase"},u?e.config.text.input_instant_search_help:e.config.text.input_menu_help),u?(0,c.h)("div",{className:"hu-drop-search hu-border-color_textarea-border"},(0,c.h)("div",{className:"drop-search-input-container hu-background-color_textarea-background hu-border-color_textarea-border"},(0,c.h)("input",{className:"drop-search-input hu-s-14 hu-color_textarea-text hu-placeholder-color_textarea-text",type:"text",placeholder:e.config.text.search,value:a,onInput:function(e){return n.onSearchInput(e)},ref:function(e){return n.input=e}}),(0,c.h)("i",{className:"fi magnification-lens hu-color_textarea-text"})),(0,c.h)("div",{className:"hu-input-menu-buttons hu-display-flex hu-flex-wrap hu-background-color_textarea-background-fade-02"+h(),ref:function(e){return n.buttonsContainer=e}},l.map(function(e,t){return s.indexOf(e.toLowerCase())>-1&&(0,c.h)("a",{key:Math.random(),href:b[t],target:"_blank",onClick:function(){return n.clickHandler(t)},className:"hu-input-menu_button menu-button "+(o.includes?o.includes[t]:"")+" hu-color_button-text hu-background-color_button-background hu-border-color_button-background-dark hu-d-none hu-justify-start","data-key":t,"data-link":b[t]?"1":null,tabIndex:t+1},n.mountIncludes(t),(0,c.h)("div",{className:"hu-display-flex hu-align-center hu-a-center"},(0,c.h)("span",{className:"button-text"},v.default.getVirtualDOM(e)),(0,c.h)("i",{className:"fi chains link-icon hu-s-16"})))}))):(0,c.h)("div",{className:"hu-input-menu-buttons hu-display-flex hu-flex-wrap "+h(),ref:function(e){return n.buttonsContainer=e}},l.map(function(e,t){return(0,c.h)("a",{key:Math.random(),href:b[t],target:"_blank",onClick:function(){return n.clickHandler(t)},className:"hu-input-menu_button "+(o.includes[t]?o.includes[t]:"")+" hu-display-flex hu-color_button-text hu-background-color_button-background hu-background-color_button-background-light_hover hu-border-color_button-background-dark hu-border-2 hu-border-radius-3 hu-a-center hu-d-none hu-justify-center hu-flex-dir-column hu-align-stretch hu-c-pointer","data-key":t,"data-link":b[t]?"1":null,tabIndex:t+1},n.mountIncludes(t),(0,c.h)("div",{className:"hu-input-menu_button_text hu-display-flex hu-align-center hu-a-center"},(0,c.h)("span",{className:"button-text hu-flex-1"},v.default.getVirtualDOM(e)),(0,c.h)("i",{className:"fi chains link-icon hu-s-16"})))})))}}]),t}(c.Component))||u;t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=function(e){return{config:e.config}},f=(a=(0,c.connect)(h))(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={buttons:e.buttons,payloads:e.payloads,buttonsData:e.buttonsData,checks:e.buttons instanceof Array?e.buttons.map(function(e){return!1}):Object.keys(e.buttons).map(function(e){return!1}),search_filter:"",filter_results:e.buttons instanceof Array?e.buttons.map(function(e){return e.toLowerCase()}):Object.keys(e.buttons).map(function(t){return e.buttons[t].toLowerCase()})},n.checksContainer=null,n.submitButton=null,n.input=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.ee.on("hu-lb-input-focus",this.setInputFocus),this.props.ee.on("hu-lb-text-focus",this.setFocusWithChar)}},{key:"componentWillUnmount",value:function(){this.props.ee.removeListener("hu-lb-input-focus",this.setInputFocus),this.props.ee.removeListener("hu-lb-text-focus",this.setFocusWithChar)}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.input&&this.input.focus()}},{key:"clickHandler",value:function(e){var t=(this.props.buttons,this.state.checks.slice());t[e]=!t[e],this.setState({checks:t})}},{key:"submitHandler",value:function(){var e=this.props,t=e.buttons,n=e.payloads,r=this.state.checks,i=t instanceof Array?t:Object.keys(t).map(function(e){return t[e]}),o=null;o=n?n instanceof Array?n:Object.keys(n).map(function(e){return n[e]}):t instanceof Array?t:Object.keys(t).map(function(e){return t[e]}),this.props.inputSubmit({type:"button",message:i.filter(function(e,t){return r[t]}).join(", "),payload:o.filter(function(e,t){return r[t]}).join(", ")})}},{key:"onSearchInput",value:function(e){this.setState({search_filter:e.target.value,filter_results:this.getMatches(e.target.value)})}},{key:"getMatches",value:function(e){var t=this.props.buttons;return(t instanceof Array?t.map(function(e){return e.toLowerCase()}):Object.keys(t).map(function(e){return t[e].toLowerCase()})).filter(function(t){return t.indexOf(e.toLowerCase())>-1})}},{key:"render",value:function(e,t){var n=this,r=e.buttons,i=e.buttonsData,o=t.checks,a=t.search_filter,s=t.filter_results,u=i.search,c=r instanceof Array?r:Object.keys(r).map(function(e){return r[e]}),h=o.every(function(e){return!e}),f=function(){var e="";return"vertical"===i.alignment&&(e=e.concat(" vertical")),e},p=(0,l.h)("div",{className:"hu-input-multi-footer"},(0,l.h)("button",{className:"hu-input-multi_submit hu-background-color_button-background hu-color_button-text hu-s-14 hu-border-radius-3 hu-c-pointer",onClick:this.submitHandler.bind(this),ref:function(e){n.submitButton=e},disabled:h},e.config.text.send));return(0,l.h)("div",{className:"hu-input-multi"},(0,l.h)("span",{className:"hu-input-multi_help hu-display-block hu-not-selectable hu-s-10 hu-color_contrast hu-t-uppercase"},u?e.config.text.input_instant_search_help:e.config.text.input_multi_help),u?(0,l.h)("div",{className:"hu-drop-search hu-border-color_textarea-border"},(0,l.h)("div",{className:"drop-search-input-container hu-background-color_textarea-background hu-border-color_textarea-border"},(0,l.h)("input",{className:"drop-search-input hu-s-14 hu-color_textarea-text hu-placeholder-color_textarea-text",type:"text",placeholder:e.config.text.search,value:a,onInput:function(e){return n.onSearchInput(e)},ref:function(e){return n.input=e}}),(0,l.h)("i",{className:"fi magnification-lens hu-color_textarea-text"})),(0,l.h)("div",{className:"hu-buttons-container"},(0,l.h)("div",{className:"hu-input-multi-buttons"+f(),ref:function(e){return n.checksContainer=e}},c.map(function(e,t){return(s.indexOf(e.toLowerCase())>-1||o[t])&&(0,l.h)("div",{className:"hu-input-multi_button hu-color_button-text hu-background-color_button-background hu-position-relative hu-border-radius-3 hu-display-flex hu-align-center hu-c-pointer"+(o[t]?" active":""),"data-key":t,onClick:function(){return n.clickHandler(t)}},(0,l.h)("div",{className:"check-block"},(0,l.h)("input",{className:"check-input",type:"checkbox","data-key":t,checked:o[t]}),(0,l.h)("label",{className:"check-label"})),(0,l.h)("span",{className:"button-text"},e))})))):(0,l.h)("div",{className:"hu-buttons-container"},(0,l.h)("div",{className:"hu-input-multi-buttons"+f(),ref:function(e){return n.checksContainer=e}},c.map(function(e,t){return(0,l.h)("div",{className:"hu-input-multi_button hu-color_button-text hu-background-color_button-background hu-position-relative hu-border-radius-3 hu-display-flex hu-align-center hu-c-pointer"+(o[t]?" active":""),"data-key":t,onClick:function(){return n.clickHandler(t)}},(0,l.h)("div",{className:"check-block"},(0,l.h)("input",{className:"check-input",type:"checkbox","data-key":t,checked:o[t]}),(0,l.h)("label",{className:"check-label"})),(0,l.h)("span",{className:"button-text"},e))}))),p)}}]),t}(l.Component))||s;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(23),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){switch(o.default.viral_goodbye_type){case"":break;default:return(0,r.h)("div",{className:"hu-input-menu hu-input-referral"},(0,r.h)("span",{className:"hu-input-menu-info hu-display-block hu-not-selectable hu-s-14 hu-color_contrast"},"Want to create your own? It's easy, beautiful and free"),(0,r.h)("div",{className:"hu-input-menu-buttons"},(0,r.h)("a",{href:i.referralGoodbyeURL,className:"menu-button hu-color_button-text hu-background-color_button-background hu-border-color_button-background-dark",target:"_blank"},(0,r.h)("svg",{width:"31px",height:"27px",viewBox:"0 0 31 27",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,r.h)("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,r.h)("path",{className:"hu-fill_button-text",d:"M30.0011525,5.51999975 C30.4811549,6.6800055 30.7211525,7.89999325 30.7211525,9.17999959 C30.7211525,10.5800065 30.4311554,11.8999933 29.8511525,13.1399994 C29.2711497,14.3800056 28.4611578,15.429995 27.4211526,16.2899993 C26.6611489,16.9900027 24.7011686,18.7799848 21.5411529,21.659999 C18.5811382,24.3600124 16.7711564,26.0099958 16.1111531,26.6099988 C15.8911521,26.7899997 15.6411546,26.8799988 15.3611532,26.8799988 C15.0811518,26.8799988 14.8311543,26.7899997 14.6111532,26.6099988 C13.6311484,25.7299944 11.0611742,23.3800181 6.90115356,19.5599991 C4.92114375,17.7599902 3.7911551,16.7400005 3.51115371,16.4999993 C3.43115331,16.4199989 3.34115422,16.3399997 3.24115372,16.2599993 C2.22114867,15.399995 1.4311566,14.3550055 0.871153829,13.1249994 C0.311151054,11.8949933 0.0211539665,10.5900064 0.00115386744,9.20999959 C-0.0188462317,7.94999334 0.221151358,6.7300056 0.721153835,5.54999975 C1.18115611,4.4299942 1.84114949,3.44000415 2.70115375,2.57999988 C4.38116207,0.859991362 6.39114188,0 8.73115348,0 C10.0111598,0 11.2261476,0.279997187 12.3761533,0.839999962 C13.526159,1.40000274 14.521149,2.1899948 15.3611532,3.20999986 C16.2011573,2.1899948 17.1961473,1.40000274 18.346153,0.839999962 C19.4961587,0.279997187 20.7111465,0 21.9911529,0 C24.3311645,0 26.3411443,0.849991462 28.0211526,2.54999989 C28.8811569,3.41000415 29.5411502,4.3999942 30.0011525,5.51999975 Z M17.0411531,4.79999979 C16.621151,5.36000256 16.0611566,5.63999975 15.3611532,5.63999975 C14.6611497,5.63999975 14.1011553,5.36000256 13.6811533,4.79999979 C13.0811503,4.01999592 12.3461577,3.41000205 11.4761534,2.96999987 C10.606149,2.52999769 9.69115823,2.3099999 8.73115348,2.3099999 C7.03114505,2.3099999 5.56115982,2.93999357 4.32115367,4.19999981 C3.6811505,4.84000298 3.19115542,5.57999555 2.85115374,6.41999971 C2.47115186,7.30000407 2.29115367,8.22999473 2.31115376,9.20999959 C2.31115376,10.2300046 2.52115165,11.2049948 2.94115374,12.1349995 C3.36115582,13.0650041 3.96114979,13.8499962 4.74115366,14.4899994 C4.78115385,14.5499996 4.86115305,14.6199989 4.98115364,14.6999993 C5.00115374,14.7199994 5.02115354,14.7499991 5.04115364,14.7899993 C5.40115543,15.1100009 6.34114598,15.9599924 7.86115352,17.3399992 L9.30115345,18.6599992 C12.1811677,21.2800121 14.2011474,23.1199937 15.3611532,24.1799989 C16.2811577,23.3399948 17.8211423,21.9400088 19.981153,19.9799991 C22.6811664,17.4799867 24.6511466,15.6800048 25.8911527,14.5799993 L25.9511527,14.5199994 C26.7111565,13.8999963 27.3111504,13.130004 27.7511526,12.2099995 C28.1911548,11.2499947 28.4111526,10.2400048 28.4111526,9.17999959 C28.4111526,8.19999473 28.2311544,7.27000408 27.8711526,6.38999971 C27.5311509,5.54999555 27.0411559,4.81000298 26.4011527,4.16999981 C25.1611465,2.92999367 23.6911613,2.3099999 21.9911529,2.3099999 C21.0311481,2.3099999 20.1161573,2.52499774 19.246153,2.95499987 C18.3761487,3.385002 17.6411561,3.99999582 17.0411531,4.79999979 Z",id:"",fill:"#FFFFFF"}))),(0,r.h)("span",{className:"button-text"},"Create a Landbot"))))}};t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=n(4),f=function(e){return e&&e.__esModule?e:{default:e}}(h),p=function(e){return{config:e.config}},d=(a=(0,c.connect)(p))(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={buttons:e.buttons,payloads:e.payloads,buttonsData:e.buttonsData},n.buttonsContainer=null,n}return o(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.buttons,i=n.payloads,o=n.buttonsData;return!(this.compareObjects(r,e.buttons)&&this.compareObjects(i,e.payloads)&&this.compareObjects(o,e.buttonsData))}},{key:"compareObjects",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"clickHandler",value:function(e){var t=this.props,n=t.buttons,r=t.payloads,i=n instanceof Array?n:Object.keys(n).map(function(e){return n[e]}),o=null;o=r?r instanceof Array?r:Object.keys(r).map(function(e){return r[e]}):n instanceof Array?n:Object.keys(n).map(function(e){return n[e]}),this.props.inputSubmit({type:"button",message:i[e],payload:o[e]||i[e]})}},{key:"mountIncludes",value:function(e){var t=this.props.buttonsData,n=t.includes,r=t.icons,i=t.emojis,o=t.images;if(n)switch(n[e]){case"icon":return r&&(0,l.h)("span",{className:"button-icon hu-s-25"},(0,l.h)("i",{className:"fi "+r[e]}));case"image":return o&&(0,l.h)("div",{className:"button-image hu-width-full hu-height-full hu-background-cover",style:{backgroundImage:o[e]?"url("+o[e]+")":null}});case"emoji":return i&&(0,l.h)("span",{className:"button-icon hu-s-30"},i[e]);default:return null}}},{key:"render",value:function(e,t){var n=this,r=e.buttons,i=r instanceof Array?r:Object.keys(r).map(function(e){return r[e]});return(0,l.h)("div",{className:"hu-input-yes_no hu-display-flex hu-align-center hu-justify-center"},i.map(function(e,t){return(0,l.h)("a",{onClick:function(){return n.clickHandler(t)},className:"yes_no-button hu-btn hu-border-circle hu-color_button-text hu-background-color_button-background hu-background-color_button-background-light_hover hu-position-relative","data-key":t,tabIndex:t+1},n.mountIncludes(t),(0,l.h)("span",{className:"button-text hu-s-12 hu-color_contrast"},f.default.getVirtualDOM(e)))}))}}]),t}(l.Component))||s;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(292),p=r(f),d=n(13),v=r(d),m=function(e){return{config:e.config}},y=(s=(0,h.connect)(m))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buttonsContainer=null,n}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.buttons,i=n.payloads,o=n.buttonsData;return!(this.compareObjects(r,e.buttons)&&this.compareObjects(i,e.payloads)&&this.compareObjects(o,e.buttonsData))}},{key:"compareObjects",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"clickHandler",value:function(e){this.props.inputSubmit({type:"button",message:e.message,payload:e.payload})}},{key:"render",value:function(e,t){var n=e.cards,r=e.card_type,i=e.payloads,o=v.default.getArrayFrom(n),a=v.default.getArrayFrom(i||o.map(function(e){return e.title})),s=o.map(function(e,t){return Object.assign({},o[t],{message:o[t].title||"#"+(t+1),payload:a[t]})});return(0,c.h)("div",{className:"hu-input-carousel"},(0,c.h)(p.default,{className:"input-"+r,multi:!1,items:s,onClick:this.clickHandler.bind(this)}))}}]),t}(c.Component))||u;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(293),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(294),t.default=i.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.itemsLength=e.items.length,n.state={active:0},n}return o(t,e),a(t,[{key:"getIndex",value:function(e){return e>this.itemsLength-1?e%this.itemsLength:e<0?e%this.itemsLength==0?0:e%this.itemsLength+this.itemsLength:e}},{key:"next",value:function(){this.setState({active:this.state.active+1})}},{key:"prev",value:function(){this.setState({active:this.state.active-1})}},{key:"render",value:function(e,t){var n=this,r=function(e){return e<0?Math.floor(e/n.itemsLength):Math.ceil(e/n.itemsLength)},i=function(e){return e<2?"Carousel_item_prev":2===e?"Carousel_item_active":"Carousel_item_next"},o=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 1;case 4:default:return 0}},a=function(t,r,i){switch(i){case 0:case 1:t.preventDefault(),n.prev();break;case 2:e.onClick(r);break;case 3:case 4:t.preventDefault(),n.next();break;default:t.preventDefault()}},u=[Object.assign({},e.items[this.getIndex(t.active-2)],{_key:t.active-2}),Object.assign({},e.items[this.getIndex(t.active-1)],{_key:t.active-1}),Object.assign({},e.items[this.getIndex(t.active)],{_key:t.active}),Object.assign({},e.items[this.getIndex(t.active+1)],{_key:t.active+1}),Object.assign({},e.items[this.getIndex(t.active+2)],{_key:t.active+2})];return(0,s.h)("div",{className:"Carousel "+e.className},(0,s.h)("header",{className:"Carousel_header"}),(0,s.h)("div",{className:"Carousel_body hu-position-relative"},(0,s.h)("div",{className:"Carousel_items hu-position-relative"},u.map(function(e,t){return(0,s.h)("a",{key:r(e._key)+"_"+n.getIndex(e._key),"data-id":r(e._key)+"_"+n.getIndex(e._key),className:"Carousel_item hu-btn hu-background-cover hu-border-radius-3 hu-overflow-hidden "+i(t),style:{zIndex:o(t),backgroundImage:e.image?"url("+e.image+")":null},onClick:function(n){return a(n,e,t)},href:e.href||null,target:"_blank"},(0,s.h)("div",{className:"Carousel_item_overlay hu-position-cover "+(2===t?"":"active")}),"image"===e.type&&e.title&&(0,s.h)("div",{className:"Card-picture_content"},(0,s.h)("p",{className:"Card-picture_content_title hu-s-13"},e.title)),"catalogue"===e.type&&(0,s.h)("div",{className:"Card-catalogue_content"},e.title&&(0,s.h)("h1",{className:"Card-catalogue_content_title hu-s-17 hu-w-bold"},e.title),e.description&&(0,s.h)("p",{className:"Card-catalogue_content_description hu-s-11 hu-t-uppercase"},e.description),(e.attribute||e.cta)&&(0,s.h)("div",{className:"hu-display-flex hu-align-center",style:{marginTop:10}},(0,s.h)("strong",{className:"Card-catalogue_content_attribute hu-s-16 hu-position-relative"},e.attribute),(0,s.h)("span",{className:"hu-flex-1"}),(0,s.h)("a",{className:"Card-catalogue_content_cta hu-btn hu-background-color_button-background hu-background-color_button-background-light_hover hu-color_button-text hu-s-12 hu-t-uppercase hu-w-bold"},e.cta))))})),(0,s.h)("div",{className:"Carousel_nav hu-zindex-2 hu-display-flex"},(0,s.h)("button",{className:"Carousel_nav_prev hu-btn hu-border-circle",onClick:this.prev.bind(this)},(0,s.h)("svg",{fill:"#FFFFFF",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"}))),(0,s.h)("button",{className:"Carousel_nav_next hu-btn hu-a-left",onClick:this.next.bind(this)},(0,s.h)("span",{className:"hu-s-12 hu-t-uppercase hu-w-bold"},"Next"),(0,s.h)("svg",{fill:"#FFFFFF",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,s.h)("path",{d:"M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"}))))),(0,s.h)("footer",{className:"Carousel_footer"}))}}]),t}(s.Component);t.default=u},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),f=n(2),p=n(35),d=n(3),v=r(d),m=n(39),y=r(m),g=n(29),b=(r(g),n(13)),_=r(b),w={value:"",focus:!1,selection:null,suggestion:"",matches:[]},k=function(e){return{config:e.config,autocompleteValues:e.input.autocompleteValues,autocompleteActive:e.input.autocompleteActive}},C=function(e){return{setInputData:function(t){return e({type:p.SET_INPUT,inputData:t})}}},x=(u=(0,f.connect)(k,C))(l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=_.default.cloneObject(w),n.list=e.buttonsData.list,n.input=null,n.inputContainer=null,n.buttonsContainer=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n.selectEntry=n.selectEntry.bind(n),n.clickHandleBinding=n.onDocumentClick.bind(n),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){v.default.on("hu-lb-text-focus",this.setFocusWithChar),v.default.on("Autocomplete-entry",this.selectEntry),document.addEventListener("click",this.clickHandleBinding),this.props.setInputData({autocompleteValues:this.getSuggestions()})}},{key:"componentWillUnmount",value:function(){v.default.removeListener("hu-lb-text-focus",this.setFocusWithChar),v.default.removeListener("Autocomplete-entry",this.selectEntry),document.removeEventListener("click",this.clickHandleBinding)}},{key:"onDocumentClick",value:function(e){document.querySelector("#hu-message-input .DropMenu-Autocomplete").contains(e.target)||document.querySelector("#hu-message-input .hu-textarea-input-container").contains(e.target)||this.props.setInputData({autocompleteActive:!1})}},{key:"onFocus",value:function(e){this.setState({focus:!0}),this.props.setInputData({autocompleteActive:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onTextareaClick",value:function(e){this.buttonsContainer&&this.buttonsContainer.contains(e.target)||this.setInputFocus()}},{key:"onKeyDown",value:function(e){var t=e.keyCode||e.which;if(13==t)if(e.shiftKey){e.preventDefault();var n=window.getSelection(),r=n.anchorNode,i=n.anchorOffset,o=r.textContent,a=o.slice(0,i),s=o.slice(i)||" ";r.textContent=a+"\n"+s;var u=document.createRange();u.setStart(r,i+1),u.setEnd(r,i+1),n.removeAllRanges(),n.addRange(u)}else e.preventDefault(),this.send();else 38===t?(e.preventDefault(),this.selectPrev()):40===t?(e.preventDefault(),this.selectNext()):27===t&&(this.input.blur(),this.props.setInputData({autocompleteActive:!1}))}},{key:"onInputKeyDown",value:function(e){var t=e.keyCode||e.which;13==t?(e.preventDefault(),this.send()):38===t?(e.preventDefault(),this.selectPrev()):40===t?(e.preventDefault(),this.selectNext()):27===t&&(this.input.blur(),this.props.setInputData({autocompleteActive:!1}))}},{key:"onChange",value:function(e){var t=this,n="string"==typeof e.target.value?e.target.value:e.target.textContent;this.setState({value:n},function(){t.props.setInputData({autocompleteValues:t.getSuggestions()})})}},{key:"onPaste",value:function(e){var t="";t=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e.clipboardData.getData("text/plain"),document.execCommand("inserttext",!1,t),e.preventDefault()}},{key:"send",value:function(e){e instanceof Event&&e.stopPropagation();var t=this.state.selection;null!==t&&(this.props.inputSubmit({type:"button",message:t.text,payload:t.payload||t.text}),this.setState(w),this.props.setInputData({autocompleteValues:[],autocompleteActive:!1}))}},{key:"selectEntry",value:function(e){this.props.inputSubmit({type:"button",message:e.text,payload:e.payload||e.text}),this.setState(w),this.props.setInputData({autocompleteValues:[],autocompleteActive:!1})}},{key:"selectPrev",value:function(){var e=this.props.autocompleteValues,t="",n=!1,r=!1,i=function e(i){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=i.length-1;a>=0;a--){if(n)return;if("group"===i[a].type)e(_.default.getArrayFrom(i[a].list),o);else{if(o)return i[a].active=!0,n=!0,void(t=i[a]);if(i[a].active)r=!0,delete i[a].active;else if(r)return i[a].active=!0,r=!1,n=!0,void(t=i[a])}}};i(_.default.getArrayFrom(e)),n||i(_.default.getArrayFrom(e),!0),this.setState({suggestion:this.state.value+t.text.slice(this.state.value.length),selection:t}),this.props.setInputData({autocompleteValues:e})}},{key:"selectNext",value:function(){var e=this.props.autocompleteValues,t="",n=!1,r=!1,i=function e(i){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<i.length;a++){if(n)return;if("group"===i[a].type)e(_.default.getArrayFrom(i[a].list),o);else{if(o)return i[a].active=!0,n=!0,void(t=i[a]);if(i[a].active)r=!0,delete i[a].active;else if(r)return i[a].active=!0,r=!1,n=!0,void(t=i[a])}}};i(_.default.getArrayFrom(e)),n||i(_.default.getArrayFrom(e),!0),this.setState({suggestion:this.state.value+t.text.slice(this.state.value.length),selection:t}),this.props.setInputData({autocompleteValues:e})}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.setInputFocus()}},{key:"getSuggestions",value:function(){var e=this;if(""===this.state.value)return this.setState({suggestion:"",selection:null}),_.default.getArrayFrom(this.props.buttonsData.list);var t="",n=null,r=function r(i){return i.map(function(i){if("group"===i.type){var o=r(_.default.getArrayFrom(i.list)).filter(function(e){return e});return o.length>0&&Object.assign({},i,{list:o})}var a=0===i.text.toLowerCase().indexOf(e.state.value.toLowerCase());return a&&!t&&(t=e.state.value+i.text.slice(e.state.value.length),n=i),!!a&&i})}(_.default.getArrayFrom(this.props.buttonsData.list)).filter(function(e){return e});return this.setState({suggestion:t,selection:n}),r}},{key:"render",value:function(e,t){var n=this,r=t.value,o=(t.focus,t.selection),a=e.config.text.autocomplete_input_placeholder,s=o?r+o.text.slice(r.length):r?"":e.config.text.autocomplete_input_placeholder,u=(0,h.h)("button",{className:"send hu-display-flex hu-align-center hu-c-pointer",onClick:this.send.bind(this),tabIndex:2},(0,h.h)("span",{style:{margin:"0 5px"},className:"hu-color_textarea-border hu-s-11 hu-t-uppercase"},e.config.text.send),(0,h.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",x:"3650",y:"3688"},(0,h.h)("path",{className:"hu-fill_textarea-border",d:"M1.1 21.757l22.7-9.73L1.1 2.3l.012 7.912 13.623 1.816-13.623 1.817-.01 7.912z"}))),l=(0,h.h)("button",{className:"search hu-display-flex hu-align-center hu-c-pointer",onClick:this.setInputFocus.bind(this)},(0,h.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,h.h)("path",{className:"hu-fill_textarea-border",d:"M23.809 21.646l-6.205-6.205c1.167-1.605 1.857-3.579 1.857-5.711 0-5.365-4.365-9.73-9.731-9.73-5.365 0-9.73 4.365-9.73 9.73 0 5.366 4.365 9.73 9.73 9.73 2.034 0 3.923-.627 5.487-1.698l6.238 6.238 2.354-2.354zm-20.955-11.916c0-3.792 3.085-6.877 6.877-6.877s6.877 3.085 6.877 6.877-3.085 6.877-6.877 6.877c-3.793 0-6.877-3.085-6.877-6.877z"})),(0,h.h)("span",{style:{margin:"0 5px"},className:"hu-color_textarea-border hu-s-11 hu-t-uppercase"},e.config.text.search)),c=y.default.only(["chrome","firefox","safari","opera","msedge"]),f={contenteditable:(0,h.h)("div",i({className:"hu-textarea hu-color_textarea-text",contentEditable:!0,tabIndex:1,suggestion:s,placeholder:"",ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onPaste:this.onPaste,suppressContentEditableWarning:!0,"data-gramm_editor":"false"},"tabIndex",e.disabled?"-1":"0"),r),native:(0,h.h)("input",i({key:"native",className:"hu-textarea hu-color_textarea-text",tabIndex:1,placeholder:a,ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onChange:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onInputKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),"data-gramm_editor":"false",value:r,type:"text"},"tabIndex",e.disabled?"-1":"0"))},p=f[c?"contenteditable":"native"];return(0,h.h)("div",{className:"hu-textarea-heavy"},(0,h.h)("div",{className:"hu-textarea-input-container hu-background-color_textarea-background hu-border-color_textarea-border text"+(t.focus?" focus":"")+(e.autocompleteActive?" highlight":""),ref:function(e){return n.inputContainer=e},onClick:this.onTextareaClick.bind(this)},p,(0,h.h)("div",{className:"hu-textarea-buttons",ref:function(e){return n.buttonsContainer=e}},o?u:l)),(0,h.h)("p",{className:"hu-textarea-footer-info hu-not-selectable hu-s-10 hu-color_contrast hu-t-uppercase"},e.config.text.input_autocomplete_help))}}]),t}(h.Component))||l;t.default=x},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=n(13),f=function(e){return e&&e.__esModule?e:{default:e}}(h),p=function(e){return{config:e.config}},d=(a=(0,c.connect)(p))(s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(e,t){var n=this,r=e.buttons,i=e.payloads,o=e.buttonsData,a=f.default.getArrayFrom(r),s=f.default.getArrayFrom(i||r),u=f.default.getArrayFrom(o.tags);return(0,l.h)("div",{className:"hu-input-scale hu-position-relative",ref:function(e){return n.scaleContainer=e}},(0,l.h)("div",{className:"Scale"},(0,l.h)("div",{className:"Scale-container hu-display-flex hu-align-center"},a.map(function(t,n){return(0,l.h)("a",{target:"_blank",onClick:function(){return e.inputSubmit({type:"button",message:a[n],payload:s[n]})},className:"Scale_item hu-display-flex hu-flex-1 hu-align-center hu-justify-center hu-s-16 hu-w-bold hu-c-pointer hu-position-relative hu-color_button-text hu-background-color_button-background hu-border-color_button-background-dark hu-border-right-color_button-background-darky","data-key":n,tabIndex:n+1},(0,l.h)("div",{className:"Scale_item_highlighter hu-zindex-1 hu-position-cover"}),(0,l.h)("span",{className:"hu-zindex-2"},t))})),(0,l.h)("div",{className:"Scale-footer"},(0,l.h)("div",{className:"Scale-footer_tags hu-display-flex hu-align-center hu-justify-space-between hu-color_contrast"},u.map(function(e){return(0,l.h)("span",{className:"hu-s-11 hu-w-bold hu-t-uppercase"},e)})))))}}]),t}(l.Component))||s;t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=n(13),f=function(e){return e&&e.__esModule?e:{default:e}}(h),p=function(e){return{config:e.config}},d=(a=(0,c.connect)(p))(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hoverIndex:-1},n}return o(t,e),u(t,[{key:"render",value:function(e,t){var n=this,r=e.buttons,i=e.payloads,o=e.buttonsData,a=f.default.getArrayFrom(r),s=f.default.getArrayFrom(i||r);return(0,l.h)("div",{className:"hu-input-rating hu-position-relative",ref:function(e){return n.scaleContainer=e}},(0,l.h)("span",{className:"hu-input-rating-info hu-display-block hu-not-selectable hu-s-10 hu-color_contrast hu-t-uppercase"},e.config.text.input_rating_help),(0,l.h)("div",{className:"Rating"},(0,l.h)("div",{className:"Rating-container hu-display-flex hu-align-center"},a.map(function(r,i){return(0,l.h)("a",{target:"_blank",onClick:function(){return e.inputSubmit({type:"button",message:o.cumulative?a.slice(0,i+1).join(""):a[i],payload:s[i]})},className:"Rating_item hu-display-flex hu-align-center hu-justify-center hu-c-pointer hu-position-relative","data-key":i,"data-color":t.hoverIndex>=i?"1":"0",tabIndex:i+1,onMouseOver:function(){return n.setState({hoverIndex:i})},onMouseLeave:function(){return n.setState({hoverIndex:-1})}},(0,l.h)("span",{className:"hu-s-35"},r),(0,l.h)("span",{className:"Rating_item_index hu-s-11 hu-color_contrast"},i+1))}))))}}]),t}(l.Component))||s;t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=function(e,t,n){var r=!0;return"number"==typeof t&&(r=r&&Number(e)>=t),"number"==typeof n&&(r=r&&Number(e)<=n),r},f=function(e){var t=e.value,n=e.min,r=e.max,i=e.texts,o=void 0===i?{}:i;return isNaN(t)?"Input value must be a number":"number"==typeof n&&Number(t)<n?o.minInfo:"number"==typeof r&&Number(t)>r?o.maxInfo:""},p=function(e){return{config:e.config}},d=(a=(0,c.connect)(p))(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:"",empty:!0,valid:!1,validationInfo:"",focus:!1},n.input=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.ee.on("hu-lb-input-focus",this.setInputFocus),this.props.ee.on("hu-lb-text-focus",this.setFocusWithChar)}},{key:"componentWillUnmount",value:function(){this.props.ee.removeListener("hu-lb-input-focus",this.setInputFocus),this.props.ee.removeListener("hu-lb-text-focus",this.setFocusWithChar)}},{key:"onFocus",value:function(e){this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onInputKeyDown",value:function(e){13==(e.keyCode||e.which)&&(e.preventDefault(),!this.state.empty&&this.state.valid&&this.send())}},{key:"onChange",value:function(e){var t=this.props.textareaData,n=t.minValue,r=t.maxValue,i="string"==typeof e.target.value?e.target.value:e.target.textContent;isNaN(i)?this.setState({value:i,empty:""===i,valid:!1,validationInfo:"Input data must be a number"}):this.setState({value:i,empty:""===i,valid:h(i,n,r),validationInfo:f({value:i,min:n,max:r,texts:{minInfo:this.props.config.text.input_number_help_min.replace(/@field/g,n),maxInfo:this.props.config.text.input_number_help_max.replace(/@field/g,r)}})})}},{key:"send",value:function(){var e=this.state,t=e.value,n=e.valid,r=e.empty;if(n&&!r){this.props.inputSubmit({type:"text",message:t,extra:{value:Number(t)}}),this.setState({value:"",empty:!0}),this.input.style.visibility="hidden";var i=this.input;i&&(i.blur(),setTimeout(function(){i&&(i.style.visibility="visible")},1))}}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.input&&this.input.focus()}},{key:"render",value:function(e,t){var n=this,r=e.textareaData,i=t.value,o=t.valid,a=t.validationInfo,s=t.empty,u=t.focus;return(0,l.h)("div",{className:"hu-input-number"+(s?" empty":"")+(o?" valid":"")},!o&&!s&&(0,l.h)("span",{className:"hu-input-number_info hu-color_button-text hu-background-color_button-background hu-border-radius-3 hu-s-10 hu-t-uppercase"},a),(0,l.h)("div",{className:"hu-input-number-container hu-display-flex hu-align-stretch hu-overflow-hidden hu-border-radius-4 hu-background-color_textarea-background hu-color_textarea-border hu-position-relative"+(u?" focus":"")},r.prefix&&(0,l.h)("div",{className:"hu-input-number_prefix hu-display-flex hu-align-center hu-justify-center hu-textarea-prefix"},(0,l.h)("span",{className:"hu-s-17 hu-w-bold"},r.prefix)),(0,l.h)("input",{className:"hu-input-number_input hu-flex-1 hu-color_textarea-text hu-placeholder-color_textarea-text",tabIndex:1,ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onChange:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onInputKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),"data-gramm_editor":"false",value:i,type:"number",min:"number"==typeof r.minValue?r.minValue:null,max:"number"==typeof r.maxValue?r.maxValue:null}),(0,l.h)("button",{className:"hu-input-number_btn hu-display-flex hu-align-center hu-justify-center"+(o?" hu-c-pointer":""),onClick:this.send.bind(this),tabIndex:2},(o||s)&&(0,l.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",x:"3650",y:"3688"},(0,l.h)("path",{className:"hu-fill_textarea-border",fill:"",d:"M1.1 21.757l22.7-9.73L1.1 2.3l.012 7.912 13.623 1.816-13.623 1.817-.01 7.912z"})),!o&&!s&&(0,l.h)("span",{className:"hu-s-24"},"⚠️"))),(0,l.h)("p",{className:"hu-input-number_help hu-not-selectable hu-s-10 hu-a-right hu-color_contrast hu-t-uppercase"},e.config.text.input_text_help))}}]),t}(l.Component))||s;t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(39),p=r(f),d=n(29),v=r(d),m=n(107),y=function(e){return{config:e.config}},g=(s=(0,h.connect)(y))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:"",empty:!0,focus:!1},n.input=null,n.autocomplete=null,n.setInputFocus=n.setInputFocus.bind(n),n.setFocusWithChar=n.setFocusWithChar.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.ee.on("hu-lb-input-focus",this.setInputFocus),this.props.ee.on("hu-lb-text-focus",this.setFocusWithChar)}},{key:"componentWillUnmount",value:function(){this.props.ee.removeListener("hu-lb-input-focus",this.setInputFocus),this.props.ee.removeListener("hu-lb-text-focus",this.setFocusWithChar)}},{key:"initializeLocationAutocomplete",value:function(){if(this.input&&null===this.autocomplete&&!p.default.isMobile()){var e=JSON.parse(this.props.textareaData.locationOptions||"{}");this.autocomplete=new google.maps.places.Autocomplete(this.input,e)}}},{key:"onInputKeyDown",value:function(e){if(13==(e.keyCode||e.which)&&(e.preventDefault(),!this.state.empty)){this.send(),google.maps.event.clearInstanceListeners(this.input);for(var t=document.querySelectorAll(".pac-container"),n=0;n<t.length;n++)t[n].parentElement.removeChild(t[n])}}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t,empty:""===t})}},{key:"onFocus",value:function(e){this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"send",value:function(){if(!this.state.empty){var e=this.input?this.input.value||this.state.value:this.state.value;this.props.inputSubmit({type:"text",message:e}),this.setState({value:"",empty:!0});var t=this.input;t&&(this.input.style.visibility="hidden",t.blur(),setTimeout(function(){t&&(t.style.visibility="visible")},1))}}},{key:"setInputFocus",value:function(){this.input&&this.input.focus()}},{key:"setFocusWithChar",value:function(e){document.activeElement!==this.input&&this.input&&this.input.focus()}},{key:"render",value:function(e,t){var n=this,r=e.textareaData,i=t.value,o=t.empty,a=t.focus,s=v.default.getInputPlaceholder(r);return(0,c.h)("div",{className:"hu-input-location"+(o?" empty":"")},(0,c.h)("script",{onLoad:this.initializeLocationAutocomplete.bind(this),src:"https://maps.googleapis.com/maps/api/js?key="+m.GOOGLE_API_KEY+"&libraries=places"}),(0,c.h)("div",{className:"hu-input-location-container hu-display-flex hu-align-stretch hu-overflow-hidden hu-border-radius-4 hu-background-color_textarea-background hu-color_textarea-border hu-position-relative"+(a?" focus":"")},(0,c.h)("input",{key:"location-input",className:"hu-input-location_input hu-flex-1 hu-color_textarea-text hu-placeholder-color_textarea-text",tabIndex:1,placeholder:s,ref:function(e){return n.input=e},onInput:function(e){return n.onChange(e)},onChange:function(e){return n.onChange(e)},onKeyDown:function(e){return n.onInputKeyDown(e)},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),"data-gramm_editor":"false",value:i,type:"text"}),(0,c.h)("button",{className:"hu-input-location_btn hu-display-flex hu-align-center hu-justify-center hu-c-pointer",onClick:this.send.bind(this),tabIndex:2},(0,c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",x:"3650",y:"3688"},(0,c.h)("path",{className:"hu-fill_textarea-border",fill:"",d:"M1.1 21.757l22.7-9.73L1.1 2.3l.012 7.912 13.623 1.816-13.623 1.817-.01 7.912z"})))),(0,c.h)("p",{className:"hu-input-location_help hu-not-selectable hu-s-10 hu-a-right hu-color_contrast hu-t-uppercase"},e.config.text.input_text_help))}}]),t}(c.Component))||u;t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FORMAT=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(35),p=n(3),d=r(p),v=n(29),m=r(v),y=n(108),g=n(301),b=r(g),_=t.DEFAULT_FORMAT="YYYY/MM/DD",w=function(e,t){var n=t.format||_;if(e instanceof Array){var r=e[0]?(0,b.default)(e[0],n):"",i=e[1]?(0,b.default)(e[1],n):"";return r||i?r+" - "+i:""}return(0,b.default)(e,n)},k=function(e,t){return e instanceof Array?!e.reduce(function(e,t){return t||!!e},!1):!e},C=function(e,t){return e instanceof Array?y.DateUtils.isDate(e[0])&&y.DateUtils.isDate(e[1]):y.DateUtils.isDate(e)},x=function(e){return{config:e.config,calendarActive:e.input.calendarActive}},E=function(e){return{setInputData:function(t){return e({type:f.SET_INPUT,inputData:t})}}},S=(s=(0,h.connect)(x,E))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:"",valid:!1,timestamp:null,empty:!0,focus:!1},n.input=null,n.onCalendarSelection=n.onCalendarSelection.bind(n),n.clickHandleBinding=n.onDocumentClick.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){d.default.on("Calendar-entry",this.onCalendarSelection),document.addEventListener("click",this.clickHandleBinding),this.props.setInputData({calendarOptions:this.props.textareaData.dateOptions})}},{key:"componentWillUnmount",value:function(){d.default.removeListener("Calendar-entry",this.onCalendarSelection),document.removeEventListener("click",this.clickHandleBinding)}},{key:"onDocumentClick",value:function(e){document.querySelector("#hu-message-input .Calendar").contains(e.target)||document.querySelector("#hu-message-input .hu-input-date-container").contains(e.target)||this.props.setInputData({calendarActive:!1})}},{key:"onCalendarSelection",value:function(e){var t=e.value;this.setState({value:w(t,this.props.textareaData.dateOptions),timestamp:t,empty:k(t,this.props.textareaData.dateOptions),valid:C(t,this.props.textareaData.dateOptions)})}},{key:"onClick",value:function(){this.props.setInputData({calendarActive:!this.props.calendarActive})}},{key:"send",value:function(){var e=this.state,t=e.valid,n=e.value,r=e.timestamp;if(t){this.props.setInputData({calendarActive:!1}),this.props.textareaData.dateOptions.isRange?this.props.inputSubmit({type:"text",message:n}):this.props.inputSubmit({type:"text",message:n,extra:{timestamp:r.valueOf()/1e3}}),this.setState({value:"",empty:!0,valid:!1});var i=this.input;i&&(this.input.style.visibility="hidden",i.blur(),setTimeout(function(){i&&(i.style.visibility="visible")},1))}}},{key:"render",value:function(e,t){var n=e.textareaData,r=t.value,i=t.valid,o=t.empty,a=t.focus,s=m.default.getInputPlaceholder(n);return(0,c.h)("div",{className:"hu-input-date"+(o?" empty":"")+(i?" valid":"")},(0,c.h)("div",{className:"hu-input-date-container hu-display-flex hu-align-stretch hu-overflow-hidden hu-border-radius-4 hu-background-color_textarea-background hu-color_textarea-border hu-position-relative"+(a?" focus":"")},(0,c.h)("div",{key:"date-input",className:"hu-input-date_input hu-display-flex hu-align-center hu-flex-1 hu-color_textarea-text hu-placeholder-color_textarea-text hu-c-pointer",placeholder:s,onClick:this.onClick.bind(this)},r),(0,c.h)("button",{className:"hu-input-date_btn hu-display-flex hu-align-center hu-justify-center hu-c-pointer",onClick:this.send.bind(this),tabIndex:2},(0,c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",x:"3650",y:"3688"},(0,c.h)("path",{className:"hu-fill_textarea-border",fill:"",d:"M1.1 21.757l22.7-9.73L1.1 2.3l.012 7.912 13.623 1.816-13.623 1.817-.01 7.912z"})))),(0,c.h)("p",{className:"hu-input-date_help hu-not-selectable hu-s-10 hu-a-right hu-color_contrast hu-t-uppercase"},e.config.text.input_text_help))}}]),t}(c.Component))||u;t.default=S},function(e,t,n){function r(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=n||{},a=o.locale,s=p.format.formatters,u=p.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(s=a.format.formatters,a.format.formattingTokensRegExp&&(u=a.format.formattingTokensRegExp));var l=h(e);return f(l)?i(r,s,u)(l):"Invalid Date"}function i(e,t,n){var r,i,a=e.match(n),s=a.length;for(r=0;r<s;r++)i=t[a[r]]||d[a[r]],a[r]=i||o(a[r]);return function(e){for(var t="",n=0;n<s;n++)a[n]instanceof Function?t+=a[n](e,d):t+=a[n];return t}}function o(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function a(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;return n+s(i,2)+t+s(o,2)}function s(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var u=n(302),l=n(306),c=n(112),h=n(15),f=n(309),p=n(310),d={M:function(e){return e.getMonth()+1},MM:function(e){return s(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return s(e.getDate(),2)},DDD:function(e){return u(e)},DDDD:function(e){return s(u(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return l(e)},WW:function(e){return s(l(e),2)},YY:function(e){return s(e.getFullYear(),4).substr(2)},YYYY:function(e){return s(e.getFullYear(),4)},GG:function(e){return String(c(e)).substr(2)},GGGG:function(e){return c(e)},H:function(e){return e.getHours()},HH:function(e){return s(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return s(d.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return s(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return s(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return s(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return s(e.getMilliseconds(),3)},Z:function(e){return a(e.getTimezoneOffset(),":")},ZZ:function(e){return a(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=r},function(e,t,n){function r(e){var t=i(e);return a(t,o(t))+1}var i=n(15),o=n(303),a=n(304);e.exports=r},function(e,t,n){function r(e){var t=i(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var i=n(15);e.exports=r},function(e,t,n){function r(e,t){var n=i(e),r=i(t),s=n.getTime()-n.getTimezoneOffset()*o,u=r.getTime()-r.getTimezoneOffset()*o;return Math.round((s-u)/a)}var i=n(305),o=6e4,a=864e5;e.exports=r},function(e,t,n){function r(e){var t=i(e);return t.setHours(0,0,0,0),t}var i=n(15);e.exports=r},function(e,t,n){function r(e){var t=i(e),n=o(t).getTime()-a(t).getTime();return Math.round(n/s)+1}var i=n(15),o=n(69),a=n(308),s=6048e5;e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=i(e),o=r.getDay(),a=(o<n?7:0)+o-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}var i=n(15);e.exports=r},function(e,t,n){function r(e){var t=i(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}var i=n(112),o=n(69);e.exports=r},function(e,t,n){function r(e){if(i(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var i=n(111);e.exports=r},function(e,t,n){var r=n(311),i=n(312);e.exports={distanceInWords:r(),format:i()}},function(e,t){function n(){function e(e,n,r){r=r||{};var i;return i="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],u=["am","pm"],l=["a.m.","p.m."],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return i(n[e](t))}}),{formatters:c,formattingTokensRegExp:o(c)}}function i(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var o=n(313);e.exports=r},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.height,n=void 0===t?28:t;return(0,i.h)("svg",{className:"hu-landbot-logo",height:n+"px",viewBox:"0 0 164 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,i.h)("g",{className:"hu-fill_button-text",stroke:"none","stroke-width":"1"},(0,i.h)("g",{transform:"translate(-270.000000, -167.000000)"},(0,i.h)("g",{transform:"translate(268.000000, 159.000000)"},(0,i.h)("g",null,(0,i.h)("path",{d:"M2.36735944,35 L2.36735944,10.2204859 L8.10431807,10.2204859 L8.10431807,30.0406412 L15.1545564,30.0406412 L15.1545564,35 L2.36735944,35 Z M16.3462361,26.463682 C16.3462361,25.1849559 16.550714,23.9984081 16.9596759,22.9040029 C17.3686379,21.8095977 17.938872,20.8678473 18.6703955,20.0787236 C19.401919,19.2895998 20.2572702,18.6646462 21.2364749,18.203844 C22.2156796,17.7430418 23.2755087,17.5126442 24.4159941,17.5126442 C25.6947202,17.5126442 26.8035089,17.7833614 27.7423934,18.324804 C28.6812778,18.8662466 29.3868706,19.5516795 29.8591929,20.3811235 L29.8591929,17.9446441 L35.2678316,17.9446441 L35.2678316,35 L29.8591929,35 L29.8591929,32.5980806 C29.4329508,33.3814443 28.7475178,34.0495975 27.8028733,34.6025601 C26.8582288,35.1555227 25.7292804,35.4319999 24.4159941,35.4319999 C23.2870288,35.4319999 22.2300796,35.2016023 21.2451149,34.7408001 C20.2601502,34.2799979 19.401919,33.6521643 18.6703955,32.8572805 C17.938872,32.0623967 17.3686379,31.1177664 16.9596759,30.0233612 C16.550714,28.928956 16.3462361,27.7424081 16.3462361,26.463682 Z M21.7203148,26.463682 C21.7203148,27.0512048 21.8211138,27.6127991 22.0227147,28.1484816 C22.2243157,28.6841642 22.5007928,29.1449595 22.8521545,29.5308813 C23.2035162,29.9168031 23.6268719,30.22784 24.1222342,30.4640011 C24.6175966,30.7001622 25.1705509,30.818241 25.7811138,30.818241 C26.3916767,30.818241 26.947511,30.7001622 27.4486334,30.4640011 C27.9497558,30.22784 28.3759914,29.9168031 28.7273531,29.5308813 C29.0787148,29.1449595 29.355192,28.6870442 29.5567929,28.1571216 C29.7583939,27.6271991 29.8591929,27.0627249 29.8591929,26.463682 C29.8591929,25.8761592 29.7583939,25.3232049 29.5567929,24.8048024 C29.355192,24.2864 29.0787148,23.8256047 28.7273531,23.4224028 C28.3759914,23.0192008 27.9526358,22.7024041 27.4572734,22.472003 C26.9619111,22.2416019 26.4031968,22.1264031 25.7811138,22.1264031 C25.1705509,22.1264031 24.6175966,22.2416019 24.1222342,22.472003 C23.6268719,22.7024041 23.2035162,23.0192008 22.8521545,23.4224028 C22.5007928,23.8256047 22.2243157,24.2864 22.0227147,24.8048024 C21.8211138,25.3232049 21.7203148,25.8761592 21.7203148,26.463682 Z M37.6524709,35 L37.6524709,17.9446441 L43.0611096,17.9446441 L43.0611096,20.4156835 C43.5334319,19.4940791 44.2534245,18.7798464 45.2211091,18.272964 C46.1887937,17.7660816 47.3465419,17.5126442 48.6943883,17.5126442 C49.8694339,17.5126442 50.837104,17.6969623 51.5974276,18.065604 C52.3577512,18.4342458 52.9740649,18.900801 53.4463872,19.4652837 C53.9878297,20.1219268 54.3449461,20.882239 54.5177469,21.7462432 C54.6905477,22.6102473 54.7769468,23.6527966 54.7769468,24.8739224 L54.7769468,35 L49.3683081,35 L49.3683081,26.2563221 C49.3683081,25.0582364 49.1494304,24.0704065 48.7116683,23.2928028 C48.2739062,22.5151991 47.5020741,22.1264031 46.3961488,22.1264031 C45.2671835,22.1264031 44.429112,22.5151991 43.8819094,23.2928028 C43.3347068,24.0704065 43.0611096,25.1158358 43.0611096,26.429122 L43.0611096,35 L37.6524709,35 Z M55.8655865,26.463682 C55.8655865,25.1849559 56.0700644,23.9984081 56.4790264,22.9040029 C56.8879883,21.8095977 57.4582225,20.8678473 58.189746,20.0787236 C58.9212694,19.2895998 59.7766207,18.6646462 60.7558253,18.203844 C61.73503,17.7430418 62.7948592,17.5126442 63.9353446,17.5126442 C65.2140707,17.5126442 66.3228593,17.7833614 67.2617438,18.324804 C68.2006283,18.8662466 68.906221,19.5516795 69.3785433,20.3811235 L69.3785433,10.2204859 L74.787182,10.2204859 L74.787182,35 L69.3785433,35 L69.3785433,32.5980806 C68.9523013,33.3814443 68.2668683,34.0495975 67.3222238,34.6025601 C66.3775793,35.1555227 65.2486308,35.4319999 63.9353446,35.4319999 C62.8063792,35.4319999 61.74943,35.2016023 60.7644653,34.7408001 C59.7795007,34.2799979 58.9212694,33.6521643 58.189746,32.8572805 C57.4582225,32.0623967 56.8879883,31.1177664 56.4790264,30.0233612 C56.0700644,28.928956 55.8655865,27.7424081 55.8655865,26.463682 Z M61.2396652,26.463682 C61.2396652,27.0512048 61.3404642,27.6127991 61.5420652,28.1484816 C61.7436661,28.6841642 62.0201433,29.1449595 62.371505,29.5308813 C62.7228666,29.9168031 63.1462223,30.22784 63.6415847,30.4640011 C64.136947,30.7001622 64.6899014,30.818241 65.3004643,30.818241 C65.9110272,30.818241 66.4668615,30.7001622 66.9679839,30.4640011 C67.4691062,30.22784 67.8953419,29.9168031 68.2467036,29.5308813 C68.5980652,29.1449595 68.8745424,28.6870442 69.0761434,28.1571216 C69.2777443,27.6271991 69.3785433,27.0627249 69.3785433,26.463682 C69.3785433,25.8761592 69.2777443,25.3232049 69.0761434,24.8048024 C68.8745424,24.2864 68.5980652,23.8256047 68.2467036,23.4224028 C67.8953419,23.0192008 67.4719862,22.7024041 66.9766239,22.472003 C66.4812615,22.2416019 65.9225472,22.1264031 65.3004643,22.1264031 C64.6899014,22.1264031 64.136947,22.2416019 63.6415847,22.472003 C63.1462223,22.7024041 62.7228666,23.0192008 62.371505,23.4224028 C62.0201433,23.8256047 61.7436661,24.2864 61.5420652,24.8048024 C61.3404642,25.3232049 61.2396652,25.8761592 61.2396652,26.463682 Z M77.1718214,35 L77.1718214,10.2204859 L82.5804601,10.2204859 L82.5804601,20.3811235 C83.0067021,19.5977598 83.6921351,18.9238467 84.6367796,18.359364 C85.5814241,17.7948813 86.7276523,17.5126442 88.0754988,17.5126442 C89.2044641,17.5126442 90.2585333,17.7372819 91.237738,18.186564 C92.2169427,18.6358461 93.0722939,19.2607997 93.8038174,20.0614436 C94.5353409,20.8620874 95.108455,21.8124776 95.523177,22.9126429 C95.937899,24.0128081 96.1452568,25.196476 96.1452568,26.463682 C96.1452568,27.7424081 95.937899,28.928956 95.523177,30.0233612 C95.108455,31.1177664 94.5353409,32.0623967 93.8038174,32.8572805 C93.0722939,33.6521643 92.2169427,34.2799979 91.237738,34.7408001 C90.2585333,35.2016023 89.1929443,35.4319999 88.0409388,35.4319999 C86.6700522,35.4319999 85.518064,35.1411229 84.5849396,34.5593601 C83.6518151,33.9775973 82.983662,33.323844 82.5804601,32.5980806 L82.5804601,35 L77.1718214,35 Z M82.5804601,26.463682 C82.5804601,27.0742449 82.681259,27.6415991 82.88286,28.1657616 C83.084461,28.6899241 83.3638181,29.1507194 83.7209398,29.5481613 C84.0780615,29.9456032 84.5042971,30.25664 84.9996595,30.4812811 C85.4950218,30.7059221 86.0479762,30.818241 86.6585391,30.818241 C87.269102,30.818241 87.8220563,30.7001622 88.3174187,30.4640011 C88.8127811,30.22784 89.2390167,29.9168031 89.5961384,29.5308813 C89.9532601,29.1449595 90.2326172,28.6870442 90.4342182,28.1571216 C90.6358192,27.6271991 90.7366181,27.0627249 90.7366181,26.463682 C90.7366181,25.8991993 90.6415791,25.3520049 90.4514982,24.8220824 C90.2614173,24.2921599 89.9878201,23.8256047 89.6306984,23.4224028 C89.2735767,23.0192008 88.8415811,22.7024041 88.3346987,22.472003 C87.8278163,22.2416019 87.269102,22.1264031 86.6585391,22.1264031 C86.0479762,22.1264031 85.4950218,22.2416019 84.9996595,22.472003 C84.5042971,22.7024041 84.0780615,23.0192008 83.7209398,23.4224028 C83.3638181,23.8256047 83.084461,24.2864 82.88286,24.8048024 C82.681259,25.3232049 82.5804601,25.8761592 82.5804601,26.463682 Z M96.3353367,26.463682 C96.3353367,25.2425562 96.5513345,24.090568 96.9833366,23.0076829 C97.4153386,21.9247977 98.0402922,20.9744074 98.8582161,20.1564835 C99.67614,19.3385596 100.66685,18.6876863 101.830375,18.203844 C102.993901,17.7200017 104.318687,17.4780842 105.804774,17.4780842 C107.290862,17.4780842 108.618528,17.7200017 109.787814,18.203844 C110.957099,18.6876863 111.947809,19.3385596 112.759973,20.1564835 C113.572137,20.9744074 114.19133,21.9247977 114.617572,23.0076829 C115.043814,24.090568 115.256932,25.2425562 115.256932,26.463682 C115.256932,27.6848078 115.043814,28.839676 114.617572,29.9283212 C114.19133,31.0169664 113.572137,31.9702366 112.759973,32.7881605 C111.947809,33.6060844 110.957099,34.2569578 109.787814,34.7408001 C108.618528,35.2246424 107.290862,35.4665599 105.804774,35.4665599 C104.318687,35.4665599 102.993901,35.2246424 101.830375,34.7408001 C100.66685,34.2569578 99.67614,33.6060844 98.8582161,32.7881605 C98.0402922,31.9702366 97.4153386,31.0198464 96.9833366,29.9369612 C96.5513345,28.8540761 96.3353367,27.6963279 96.3353367,26.463682 Z M101.743975,26.463682 C101.743975,27.0742449 101.839014,27.6415991 102.029095,28.1657616 C102.219176,28.6899241 102.489893,29.1507194 102.841255,29.5481613 C103.192617,29.9456032 103.615973,30.25664 104.111335,30.4812811 C104.606697,30.7059221 105.159652,30.818241 105.770214,30.818241 C106.380777,30.818241 106.942372,30.7059221 107.455014,30.4812811 C107.967657,30.25664 108.399652,29.9456032 108.751014,29.5481613 C109.102375,29.1507194 109.378853,28.6928041 109.580454,28.1744016 C109.782055,27.6559992 109.882853,27.085765 109.882853,26.463682 C109.882853,25.8761592 109.782055,25.317445 109.580454,24.7875224 C109.378853,24.2575999 109.102375,23.7968046 108.751014,23.4051228 C108.399652,23.0134409 107.970536,22.7024041 107.463654,22.472003 C106.956772,22.2416019 106.392297,22.1264031 105.770214,22.1264031 C105.159652,22.1264031 104.606697,22.2416019 104.111335,22.472003 C103.615973,22.7024041 103.192617,23.0134409 102.841255,23.4051228 C102.489893,23.7968046 102.219176,24.2575999 102.029095,24.7875224 C101.839014,25.317445 101.743975,25.8761592 101.743975,26.463682 Z M114.773092,21.9708831 L114.773092,17.9446441 L117.451492,17.9446441 L117.451492,12.8816053 L122.84285,12.8816053 L122.84285,17.9446441 L126.730849,17.9446441 L126.730849,21.9708831 L122.84285,21.9708831 L122.84285,28.0707217 C122.84285,28.7043247 122.90045,29.2083195 123.01565,29.5827213 C123.130851,29.9571231 123.295009,30.2508801 123.50813,30.4640011 C123.721251,30.6771221 123.980449,30.8153607 124.28573,30.878721 C124.591011,30.9420813 124.933728,30.973761 125.31389,30.973761 C125.544291,30.973761 125.838048,30.965121 126.19517,30.947841 C126.552291,30.9305609 126.863328,30.8988812 127.128289,30.852801 L127.128289,35 C126.725087,35.0691203 126.221093,35.1324797 125.61629,35.19008 C125.011487,35.2476802 124.300134,35.2764799 123.48221,35.2764799 C122.848607,35.2764799 122.180454,35.2304004 121.477731,35.13824 C120.775007,35.0460795 120.124134,34.804162 119.525091,34.4124801 C118.926048,34.0207983 118.430693,33.4188844 118.039011,32.6067206 C117.64733,31.7945567 117.451492,30.6800081 117.451492,29.2630414 L117.451492,21.9708831 L114.773092,21.9708831 Z M129.270369,31.7859208 C129.270369,31.2905584 129.365408,30.8297631 129.555489,30.4035211 C129.74557,29.9772791 129.999007,29.6057629 130.315809,29.2889614 C130.63261,28.9721599 131.009886,28.7187224 131.447648,28.5286415 C131.88541,28.3385606 132.351966,28.2435216 132.847328,28.2435216 C133.34269,28.2435216 133.809245,28.3385606 134.247008,28.5286415 C134.68477,28.7187224 135.062046,28.9721599 135.378847,29.2889614 C135.695649,29.6057629 135.949086,29.9772791 136.139167,30.4035211 C136.329248,30.8297631 136.424287,31.2905584 136.424287,31.7859208 C136.424287,32.2812831 136.329248,32.7391984 136.139167,33.1596804 C135.949086,33.5801624 135.695649,33.9516786 135.378847,34.2742402 C135.062046,34.5968017 134.68477,34.8502391 134.247008,35.03456 C133.809245,35.2188809 133.34269,35.3110399 132.847328,35.3110399 C132.351966,35.3110399 131.88541,35.2188809 131.447648,35.03456 C131.009886,34.8502391 130.63261,34.5968017 130.315809,34.2742402 C129.999007,33.9516786 129.74557,33.5801624 129.555489,33.1596804 C129.365408,32.7391984 129.270369,32.2812831 129.270369,31.7859208 Z M138.135007,12.2768054 C138.135007,11.3091208 138.466203,10.4969691 139.128606,9.840326 C139.791009,9.18368287 140.617561,8.85536623 141.608286,8.85536623 C142.103648,8.85536623 142.561563,8.94176535 142.982045,9.11456617 C143.402527,9.28736699 143.774044,9.52640455 144.096605,9.831686 C144.419167,10.1369675 144.666844,10.5027237 144.839645,10.9289657 C145.012446,11.3552078 145.098845,11.8044832 145.098845,12.2768054 C145.098845,12.7491277 145.012446,13.1926431 144.839645,13.6073651 C144.666844,14.0220871 144.419167,14.3878433 144.096605,14.7046448 C143.774044,15.0214463 143.402527,15.2691238 142.982045,15.4476847 C142.561563,15.6262455 142.103648,15.7155246 141.608286,15.7155246 C141.112923,15.7155246 140.657888,15.6262455 140.243166,15.4476847 C139.828444,15.2691238 139.462688,15.0214463 139.145886,14.7046448 C138.829085,14.3878433 138.581407,14.0220871 138.402847,13.6073651 C138.224286,13.1926431 138.135007,12.7491277 138.135007,12.2768054 Z M138.912606,35 L138.912606,17.9446441 L144.321245,17.9446441 L144.321245,35 L138.912606,35 Z M146.187485,26.463682 C146.187485,25.2425562 146.403482,24.090568 146.835484,23.0076829 C147.267486,21.9247977 147.89244,20.9744074 148.710364,20.1564835 C149.528288,19.3385596 150.518998,18.6876863 151.682523,18.203844 C152.846049,17.7200017 154.170835,17.4780842 155.656922,17.4780842 C157.143009,17.4780842 158.470676,17.7200017 159.639961,18.203844 C160.809247,18.6876863 161.799957,19.3385596 162.612121,20.1564835 C163.424285,20.9744074 164.043478,21.9247977 164.46972,23.0076829 C164.895962,24.090568 165.10908,25.2425562 165.10908,26.463682 C165.10908,27.6848078 164.895962,28.839676 164.46972,29.9283212 C164.043478,31.0169664 163.424285,31.9702366 162.612121,32.7881605 C161.799957,33.6060844 160.809247,34.2569578 159.639961,34.7408001 C158.470676,35.2246424 157.143009,35.4665599 155.656922,35.4665599 C154.170835,35.4665599 152.846049,35.2246424 151.682523,34.7408001 C150.518998,34.2569578 149.528288,33.6060844 148.710364,32.7881605 C147.89244,31.9702366 147.267486,31.0198464 146.835484,29.9369612 C146.403482,28.8540761 146.187485,27.6963279 146.187485,26.463682 Z M151.596123,26.463682 C151.596123,27.0742449 151.691162,27.6415991 151.881243,28.1657616 C152.071324,28.6899241 152.342041,29.1507194 152.693403,29.5481613 C153.044765,29.9456032 153.46812,30.25664 153.963483,30.4812811 C154.458845,30.7059221 155.011799,30.818241 155.622362,30.818241 C156.232925,30.818241 156.794519,30.7059221 157.307162,30.4812811 C157.819804,30.25664 158.2518,29.9456032 158.603162,29.5481613 C158.954523,29.1507194 159.231,28.6928041 159.432601,28.1744016 C159.634202,27.6559992 159.735001,27.085765 159.735001,26.463682 C159.735001,25.8761592 159.634202,25.317445 159.432601,24.7875224 C159.231,24.2575999 158.954523,23.7968046 158.603162,23.4051228 C158.2518,23.0134409 157.822684,22.7024041 157.315802,22.472003 C156.80892,22.2416019 156.244445,22.1264031 155.622362,22.1264031 C155.011799,22.1264031 154.458845,22.2416019 153.963483,22.472003 C153.46812,22.7024041 153.044765,23.0134409 152.693403,23.4051228 C152.342041,23.7968046 152.071324,24.2575999 151.881243,24.7875224 C151.691162,25.317445 151.596123,25.8761592 151.596123,26.463682 Z"}))))))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=[],a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=e,a=0;switch(t.type){case i.ADD_MESSAGE:return[].concat(r(e),[t.message]);case i.ADD_MESSAGES_CHUNK:return[].concat(r(t.messages));case i.ADD_OLD_MESSAGES_CHUNK:return[].concat(r(t.messages),r(e));case i.EDIT_MESSAGE:return a=n.findIndex(function(e){return e.key===t.key}),n[a]=t.message,n;case i.DELETE_MESSAGE:return a=n.findIndex(function(e){return e.key===t.key}),n.slice(0,a).concat(n.slice(a+1));case i.RESET_CHAT:return o;default:return e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.input=void 0;var r=n(317),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.input=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a={hasOldMessages:!1,input_motion:!0,input_type:null,field:null,field_type:null,buttons:null,payloads:null,urls:null,extra:null,backButton:o.default.showBackButton(),fixed:!1,autocompleteValues:[],autocompleteActive:!1,calendarActive:!1,calendarOptions:{}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.SET_INPUT:return Object.assign({},e,t.inputData);default:return e}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.agents=void 0;var r=n(319),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.agents=i.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),o=n(34),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=a.default.agentsInfo,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.ADD_AGENT:return Object.assign({},e,r({},t.agent.samurai,t.agent));default:return e}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chat=void 0;var r=n(321),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.chat=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i={engage:!0,lastAvatar:null,fixed_avatar:window.UmiCoreConfig.fixed_avatar},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.ENABLE_ENGAGE:return Object.assign({},e,{engage:!0});case r.DISABLE_ENGAGE:return Object.assign({},e,{engage:!1});case r.SET_LAST_AVATAR:return Object.assign({},e,{lastAvatar:t.avatar});case r.SET_FIXED_AVATAR:return Object.assign({},e,{fixed_avatar:t.value});default:return e}};t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(2),h=function(e){return{isLoading:e.loader}},f=(a=(0,c.connect)(h))(s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(e){return e.isLoading&&(0,l.h)("div",{className:"hu-loader hu-zindex-3 hu-position-absolute hu-width-full hu-height-full hu-position-top-left"},(0,l.h)("div",{className:"sk-folding-cube"},(0,l.h)("div",{className:"sk-cube1 sk-cube"}),(0,l.h)("div",{className:"sk-cube2 sk-cube"}),(0,l.h)("div",{className:"sk-cube4 sk-cube"}),(0,l.h)("div",{className:"sk-cube3 sk-cube"})),e.branding&&(0,l.h)("div",{className:"hu-loader-referral hu-position-absolute hu-a-center hu-width-full hu-display-inline-block hu-pointer-none"},(0,l.h)("p",{className:"hu-loader-referral_text hu-color_contrast hu-s-12"},"POWERED BY",(0,l.h)("br",null),(0,l.h)("b",{className:"hu-s-16"},"LANDBOT"),".io 🤖")))}}]),t}(l.Component))||s;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115),i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case r.SET_LOADER:return t.isLoading;default:return e}};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(34),p=r(f),d=n(3),v=r(d),m=n(117),y=function(e){return{config:e.config,gdpr:e.config.gdpr,gdprState:e.gdpr.active,input:e.input}},g=function(e){return{showGdpr:function(){return e({type:m.SHOW_GDPR})},hideGdpr:function(){return e({type:m.HIDE_GDPR})}}},b=(s=(0,h.connect)(y,g))(u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.gdpr&&"1"!==p.default.umiStorage.getItem("cookies-consent-"+this.props.config.channelToken)&&setTimeout(function(){e.props.showGdpr(),v.default.on("hu-query-send-message",e.hide.bind(e))},1500)}},{key:"hide",value:function(){this.props.gdprState&&(this.props.hideGdpr(),p.default.umiStorage.setItem("cookies-consent-"+this.props.config.channelToken,"1"))}},{key:"render",value:function(e){return e.gdpr&&(0,c.h)("div",{className:"GDPR hu-s-14 hu-display-flex hu-align-center hu-overflow-hidden hu-position-absolute hu-position-bottom-left"+(e.gdprState?" active":"")},(0,c.h)("div",{className:"hu-display-none hu-m-display-block"},"We use ",(0,c.h)("b",null,"third-party cookies")," to improve your experience. ",(0,c.h)("a",{className:"hu-d-none",href:"https://landbot.io/terms-conditions/index.html",target:"_blank"},"Learn more"),(0,c.h)("br",null),"If you continue interacting with this website, ",(0,c.h)("b",null,"you are accepting their use.")),(0,c.h)("div",{className:"hu-display-block hu-m-display-none"},"We use ",(0,c.h)("b",null,"third-party cookies")," to improve your experience. If you keep browsing, ",(0,c.h)("b",null,"you are accepting their use.")," ",(0,c.h)("a",{className:"hu-d-none",href:"https://landbot.io/terms-conditions/index.html",target:"_blank"},"More info"),(0,c.h)("button",{className:"GDPR_close border-radius-3",tabindex:"1",onClick:this.hide.bind(this)},"🍪  GOT IT!")))}}]),t}(c.Component))||u;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(117),i={active:!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch(arguments[1].type){case r.SHOW_GDPR:return Object.assign({},e,{active:!0});case r.HIDE_GDPR:return Object.assign({},e,{active:!1});default:return e}};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(87),p=n(115);n(327),n(328);var d=n(34),v=r(d),m=n(3),y=r(m),g=n(329),b=r(g),_=n(16),w=r(_),k=n(330),C=(r(k),n(331)),x=r(C),E=n(335),S=r(E),O=n(342),T=r(O),P=n(347),N=r(P),I=w.default.appReady$,A=w.default.hideLoader$,D=function(e){return{setLoader:function(t){return e({type:p.SET_LOADER,isLoading:t})},setConfig:function(t){return e({type:f.SET_CONFIG,config:t})}}},M=(s=(0,h.connect)(null,D))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rendered:!1},n.setupListeners(),window.setGlobalState=n.setGlobalConfig.bind(n),b.default.set=function(t){e.setConfig(t)},n}return a(t,e),l(t,[{key:"setGlobalConfig",value:function(e){this.props.setConfig(e)}},{key:"setupListeners",value:function(){var e=this;I.subscribe({next:function(){v.default.startConnection()}}),A.subscribe({next:function(t){return e.props.setLoader(!1)}}),window.setLoader=function(t){return e.props.setLoader(t)},y.default.on("hu-lb-rendered",function(){e.setState({rendered:!0})}),y.default.on("hu-load-config",function(t){e.setGlobalConfig(t)}),y.default.on("hu-error-wrong-customer",function(){}),y.default.on("hu-error-wrong-channel",function(){}),y.default.on("hu-error-auth-connection",function(){}),y.default.on("hu-error-server-connection",function(){})}},{key:"render",value:function(e,t){return(0,c.h)("div",{id:"app-modules",className:t.rendered?"rendered":""},(0,c.h)(x.default,null),(0,c.h)(S.default,null),(0,c.h)(N.default,null),(0,c.h)(T.default,null))}}]),t}(c.Component))||u;t.default=M},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};window.LandbotGUI=r,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=r(a),u=n(8),l=r(u),c=function(){function e(){i(this,e),this.setupListener()}return o(e,[{key:"setupListener",value:function(){window.addEventListener("message",function(e){var t=e.data.landbotState;t&&s.default.emit("hu-load-config",t);var n=e.data.userMessage;n&&l.default.sendMessage(n,n,[],[],!1)})}}]),e}(),h=new c;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(332),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(3),p=r(f),d=n(333),v=r(d),m=n(118),y=(r(m),{accent:["user_message_background","button_background","textarea_border"],light:["bot_message_background","user_message_text","button_text"],dark:["bot_message_text"],contrast:["header_text"]}),g={user_message_background:"accent",button_background:"accent",textarea_border:"accent",bot_message_background:"light",user_message_text:"light",button_text:"light",bot_message_text:"dark",header_text:"contrast"},b={textarea_background:"#FFFFFF",textarea_text:"#000000"},_=function(e){return{colors:e.config.colors,accent:e.config.accent,dark:e.config.dark,light:e.config.light,contrast:e.config.contrast,header_background:e.config.header_background,avatar_scale:e.config.avatar_scale,font:e.config.font,font_size:e.config.font_size,background_image_url:e.config.background_image_url,background_color:e.config.background_color,gradient_from:e.config.gradient_from,gradient_to:e.config.gradient_to,filter_color:e.config.filter_color,filter_gradient_from:e.config.filter_gradient_from,filter_gradient_to:e.config.filter_gradient_to,filter_image_url:e.config.filter_image_url,stylesheets:e.config.stylesheets,style:e.config.style}},w=(s=(0,h.connect)(_))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dynStyles=new v.default("custom-styles"),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.stablishRules(),p.default.emit("hu-lb-rendered")}},{key:"stablishRules",value:function(){this.dynStyles.setupStylesheet()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=Object.assign(this.props.colors,e.colors);this.props.colors;if(e.colors)for(var r in e.colors)void 0===e.colors[r]||null===e.colors[r]?g[r]?this.dynStyles.setVariable(r,this.props[g[r]]):this.dynStyles.setVariable(r,b[r]):this.dynStyles.setVariable(r,e.colors[r]);for(var i=Object.keys(this.props).filter(function(n){return t.props[n]!==e[n]}),o=0;o<i.length;o++)switch(i[o]){case"accent":case"light":case"dark":case"contrast":this.dynStyles.setVariable(i[o],e[i[o]]),this.setSpecificColors(i[o],e[i[o]],n);break;case"avatar_scale":this.dynStyles.setVariable("avatar_scale","scale("+e.avatar_scale+")");break;case"font":this.dynStyles.setVariable("font",e.font+",sans-serif");break;case"font_size":this.dynStyles.setVariable("font_size",e.font_size+"px");break;case"gradient_to":case"gradient_from":this.dynStyles.setVariable("background_gradient","linear-gradient(to bottom, "+e.gradient_from+" 0%, "+e.gradient_to+" 100%)");break;case"filter_gradient_to":case"filter_gradient_from":this.dynStyles.setVariable("background_gradient","linear-gradient(to bottom, "+e.gradient_from+" 0%, "+e.gradient_to+" 100%)");break;case"background_image_url":this.dynStyles.setVariable("background_image_url",'url("'+e.background_image_url+'")');break;case"filter_image_url":this.dynStyles.setVariable("filter_image_url",'url("'+e.filter_image_url+'")');break;case"videoname":break;case"colors":case"stylesheets":case"style":break;default:this.dynStyles.setVariable(i[o],e[i[o]])}}},{key:"setSpecificColors",value:function(e,t,n){for(var r=0;r<y[e].length;r++)n[y[e][r]]||this.dynStyles.setVariable(y[e][r],t)}},{key:"render",value:function(e,t){var n=e.font,r=(e.font_size,e.stylesheets),i=e.style,o="https://fonts.googleapis.com/css?family="+n+":400,400i,700,700i",a="\n    .hu-textarea-input-container.focus { box-shadow: 0px 0px 14px 1px "+(e.colors.textarea_border||e.accent||"#F11952")+"; }\n    ";return(0,c.h)("div",{id:"styles"},(0,c.h)("link",{href:o,rel:"stylesheet"}),(0,c.h)("style",{id:this.dynStyles.getID()}),r.map(function(e){return(0,c.h)("link",{href:e,rel:"stylesheet"})}),(0,c.h)("style",null,a),(0,c.h)("style",null,i))}}]),t}(c.Component))||u;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(118),s=r(a),u=n(334),l=r(u),c=function(){function e(t){i(this,e),this.sheetID=t,this.sheetNode=null,this.stylesheet=null,this.rulesMap={}}return o(e,[{key:"connectStylesheet",value:function(){this.sheetNode=document.getElementById(this.sheetID),this.stylesheet=this.sheetNode.sheet}},{key:"setupStylesheet",value:function(){var e=this;setTimeout(function(){e.sheetNode=document.getElementById(e.sheetID),e.stylesheet=e.sheetNode.sheet,e.addRules()},0)}},{key:"addRules",value:function(e,t){if(this.stylesheet)if(void 0!==e){if(s.default.hasOwnProperty(e)){for(var n=s.default[e],r=n.rules,i=n.relatives,o=0;o<r.length;o++){var a=r[o],u=a.index,l=a.type,c=a.selectors;c.length>0&&this.addRule(c.join(", "),l+": "+t,u)}if(i)for(var h=0;h<i.length;h++)this.addRelativesRules(i[h],t)}}else for(var f in s.default)if(s.default.hasOwnProperty(f)){var p=s.default[f],d=p.value,v=p.rules,m=p.relatives,y=p.tasks;if(void 0===y)for(var g=0;g<v.length;g++){var b=v[g],_=b.index,w=b.type,k=b.selectors;k.length>0&&this.addRule(k.join(", "),w+": "+d,_)}if(m)for(var C=0;C<m.length;C++)this.addRelativesRules(m[C],d)}return this.stylesheet}},{key:"addRelativesRules",value:function(e,t){if(s.default.hasOwnProperty(e)){for(var n=s.default[e],r=n.rules,i=n.tasks,o=t,a=0;a<i.length;a++){var u=i[a],c=u.filter,h=u.factor;o=l.default[c](t,h)}for(var f=0;f<r.length;f++){var p=r[f],d=p.index,v=p.type,m=p.selectors;m.length>0&&this.addRule(m.join(", "),v+": "+o,d)}}}},{key:"addRule",value:function(e,t,n){try{"insertRule"in this.stylesheet?this.stylesheet.insertRule(e+" { "+t+" } ",0):"addRule"in this.stylesheet&&this.stylesheet.addRule(e,t,0),this.rulesMap[n]=this.getCssRule(0)}catch(e){}return this}},{key:"getCssRule",value:function(e){return this.stylesheet.cssRules?this.stylesheet.cssRules[e]:this.stylesheet.rules?this.stylesheet.rules[e]:null}},{key:"getCssRuleIndex",value:function(e){var t=[];this.stylesheet.cssRules?t=this.stylesheet.cssRules:this.stylesheet.rules&&(t=this.stylesheet.rules);for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1}},{key:"setVariable",value:function(e,t){var n=this.getRulesGroup(e);if(0===n.length)return this;for(var r=0;r<n.length;r++)this.deleteRule(n[r]);for(var i=this.getRelativesRulesGroup(e),o=0;o<i.length;o++)this.deleteRule(i[o]);return this.addRules(e,t),this}},{key:"getRule",value:function(e){return this.rulesMap[e]||{}}},{key:"getRulesGroup",value:function(e){return s.default[e]?s.default[e].rules.map(function(e){return e.index}):[]}},{key:"getRelativesRulesGroup",value:function(e){if(!s.default[e])return[];var t=[],n=s.default[e].relatives;if(n)for(var r=0;r<n.length;r++)t=t.concat(this.getRulesGroup(n[r]));return t}},{key:"deleteRule",value:function(e){var t=this.rulesMap[e];if(!t)return this;var n=this.getCssRuleIndex(t);return this.stylesheet.deleteRule?this.stylesheet.deleteRule(n):this.stylesheet.removeRule&&this.stylesheet.removeRule(n),this.rulesMap[e]=null,this}},{key:"deleteAllRules",value:function(){for(var e=Object.keys(this.rulesMap),t=0;t<e.length;t++)this.deleteRule(e[t])}},{key:"getID",value:function(){return this.sheetID}},{key:"toString",value:function(){return"Dynamic Styles Generator"}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={lightenDarkenColor:function(e,t){var n=e,r=100*t,i=!1;"#"==n[0]&&(n=n.slice(1),i=!0);var o=parseInt(n,16),a=(o>>16)+r;a>255?a=255:a<0&&(a=0);var s=(o>>8&255)+r;s>255?s=255:s<0&&(s=0);var u=(255&o)+r;return u>255?u=255:u<0&&(u=0),(i?"#":"")+String("000000"+(u|s<<8|a<<16).toString(16)).slice(-6)},fadeColor:function(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:"255",g:"255",b:"255"},"rgba("+n.r+", "+n.g+", "+n.b+", "+t+")"}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(3),p=r(f),d=n(114),v=r(d),m=n(336),y=r(m),g=n(338),b=r(g),_=n(340),w=r(_),k=n(116),C=r(k);n(67);var x=n(341),E=(r(x),function(e){return{isLoading:e.config.isLoading,avatar_shape:e.config.avatar_shape,logo:e.config.logo,brand_name:e.config.brand_name,tagline:e.config.tagline,keywords:e.config.keywords,persistent_menu:e.config.persistent_menu,branding:e.config.branding,widget_hide_header:e.config.widget_hide_header,gdprState:e.gdpr.active,inputFixed:e.input.fixed}}),S=(s=(0,h.connect)(E))(u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(e){return(0,c.h)("div",{id:"gui",className:"hu-zindex-2 hu-position-fixed hu-width-full hu-height-full hu-position-top-left hu-display-flex hu-flex-dir-column hu-overflow-hidden","data-human-takeover":e.inputFixed?"true":null},(0,c.h)(v.default,{isLoading:e.isLoading,branding:e.branding}),(0,c.h)(y.default,{logo:e.logo,brand_name:e.brand_name,tagline:e.tagline,keywords:e.keywords,persistent_menu:e.persistent_menu,branding:e.branding,widget_hide_header:e.widget_hide_header,ee:p.default}),(0,c.h)(b.default,{gdprState:e.gdprState}),(0,c.h)(w.default,{brand_name:e.brand_name,keywords:e.keywords,branding:e.branding}),(0,c.h)(C.default,null))}}]),t}(c.Component))||u;t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.logo,n=e.brand_name,r=e.tagline,i=e.keywords,a=e.persistent_menu;e.branding;return!e.widget_hide_header&&(0,o.h)("header",{id:"hu-header",className:"hu-border-color_contrast-fade hu-background-color_header-background hu-zindex-2 hu-position-relative","data-menu":c(a,"__index.words",[]).length+Object.keys(i).filter(function(e){return-1===["#init","#back"].indexOf(e)&&void 0===a[e]}).length>0?"1":"0"},(0,o.h)("div",{className:"hu-header-content hu-display-flex hu-align-center hu-justify-center hu-height-full"},t&&(0,o.h)("img",{className:"hu-header-logo hu-width-auto hu-display-none hu-m-display-block",src:t,alt:""}),(0,o.h)("div",{className:"hu-header-description hu-display-none hu-m-display-block hu-flex-1"},(0,o.h)("h1",{className:"hu-header-brand_name hu-w-bold hu-s-20 hu-color_header-text hu-display-none hu-m-display-inline"},n),(0,o.h)("p",{className:"hu-header-tagline hu-s-14 hu-x-ellipsis hu-color_header-text hu-display-none hu-flex-1 hu-l-display-inline",title:r},r&&l.default.getVirtualDOM(r))),(0,o.h)(s.default,{persistent_menu:a,keywords:i,ee:ee})))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=(n(23),n(337)),s=r(a),u=n(4),l=r(u),c=n(9);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){p.default.sendMessage({type:"button",message:e,payload:t})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=n(4),h=r(c),f=n(8),p=r(f),d=n(13),v=r(d),m=n(9),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={enabled:!0},n.onInputDisable=n.onInputDisable.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.ee.on("hu-lb-disable-input",this.onInputDisable)}},{key:"componentWillUnmount",value:function(){this.props.ee.removeListener("hu-lb-disable-input",this.onInputDisable)}},{key:"onInputEnable",value:function(){this.setState({enabled:!0})}},{key:"onInputDisable",value:function(){var e=this;this.setState({enabled:!1},function(){return setTimeout(e.onInputEnable.bind(e),1e3)})}},{key:"render",value:function(e,t){var n=e.persistent_menu,r=void 0===n?{}:n,i=e.keywords,o=void 0===i?{}:i,a=t.enabled,u=m(r,"__index.words",[]).map(function(e){return Object.assign({text:e,payload:e,action:"keyword",style:"text",href:"",isKeyword:!!o[e]},r[e]||{})}),c=Object.keys(o).filter(function(e){return-1===["#init","#back"].indexOf(e)&&void 0===r[e]}).map(function(e){return{text:e,payload:e,action:"keyword",style:"text",href:"",isKeyword:!0}}),f=u.concat(c);return(0,l.h)("div",{className:"hu-persistent-menu hu-overflow-x-auto hu-touch-scroll"},(0,l.h)("div",{className:"p-menu-items-container hu-display-flex hu-align-center hu-flex-nowrap"},f.map(function(e){return(0,l.h)("a",{href:v.default.getHref(e.href)||null,target:"_blank",className:"persistent-menu-item hu-display-inline-block hu-text-nowrap hu-c-pointer hu-border-radius-3 hu-d-none"+("button"===e.style?" p-menu-button hu-color_button-text hu-background-color_button-background hu-shadow-hover":" hu-color_header-text hu-background-color_header-text-fade-01_hover"),onClick:e.isKeyword?function(){return s(e.text,e.payload)}:null,style:{opacity:e.isKeyword?a?1:.5:null,pointerEvents:e.isKeyword?a?"initial":"none":null}},(0,l.h)("span",{className:"p-menu-text hu-s-13"},h.default.getVirtualDOM(e.text)))})))}}]),t}(l.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.gdprState;return(0,o.h)("section",{id:"hu-body",className:"hu-zindex-0 hu-display-flex hu-flex-1 hu-flex-dir-column hu-overflow-hidden"+(t?" gdpr-active":"")},(0,o.h)(l.default,null),(0,o.h)(s.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(88),s=r(a),u=n(339),l=r(u);t.default=i},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=function(e){return{progress:e.config.progress}},p=(s=(0,h.connect)(f))(u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={progress:e.progress,step:0},window.setProgress=n.setProgress.bind(n),n}return a(t,e),l(t,[{key:"setProgress",value:function(e,t){this.props.progress;this.setState(Object.assign({step:e},void 0!==t?{progress:t}:{}))}},{key:"render",value:function(e,t){var n=t.progress,i=t.step;if(r(e),"number"!=typeof n)return(0,c.h)("div",null);var o=document.documentElement,a=o.clientWidth,s=parseInt(100*i/n),u=6e3/a,l=100*(a-60)/a,h=null;return h=s<u?"calc("+u+"% - 60px)":s<l?"calc("+s+"% - 60px)":"calc("+l+"% - 60px)","number"==typeof n&&(0,c.h)("div",{id:"hu-bot-progress-bar","data-step":""+(n===i?"last":i)},(0,c.h)("style",null,"#hu-bot-progress-bar::after { width: "+s+"%; }\n.progress-bar-label { left: "+h+"; }"),(0,c.h)("div",{className:"progress-bar-label hu-color_dark"},(0,c.h)("svg",{width:"10px",height:"3px",viewBox:"0 0 10 3",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,c.h)("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},(0,c.h)("g",{id:"Group-Copy",transform:"translate(-71.000000, -89.000000)",fill:"#0A4359"},(0,c.h)("path",{d:"M68,91.6612983 L71.0318827,91.6612983 C72.3951688,91.6612983 73.6919908,91.0723536 74.5890805,90.0458162 L74.6525451,89.9731938 C75.2675982,89.2693902 76.3367428,89.1974437 77.0405464,89.8124967 C77.1213362,89.8830988 77.195229,89.9612236 77.2612271,90.0458162 L77.2612271,90.0458162 C78.0566243,91.0653113 79.2775215,91.6612983 80.5705904,91.6612983 Z",id:"Rectangle-4"})))),n===i?(0,c.h)("span",null,"Done! 🎉"):(0,c.h)("span",null,(0,c.h)("b",{className:"hu-color_accent"},n-i," "),n-i==1?"step":"steps"," to finish")))}}]),t}(c.Component))||u;t.default=p},function(e,t,n){"use strict";function r(e){var t=e.branding;return(0,i.h)("footer",{id:"hu-footer",className:"hu-display-none hu-m-display-flex hu-align-center hu-justify-center"},t&&(0,i.h)(a.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(113),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){var n=t.container,i=void 0===n?document:n,o=t.shortcuts;r(this,e),this.container=i,this.shortcuts=o,this.setupListeners()}return i(e,[{key:"setupListeners",value:function(){this.container.addEventListener("keydown",function(e){40===(e.keyCode||e.which)&&a.default.emit("hu-lb-key-arrowdown")}),this.container.addEventListener("keypress",function(e){var t=String.fromCharCode(e.keyCode||e.which||null);/[a-zA-Z0-9]/.test(t)&&!e.target.isContentEditable&&"INPUT"!==e.target.nodeName&&a.default.emit("hu-lb-text-focus",t)})}}]),e}(),u=new s({});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(343),p=r(f),d=n(344),v=r(d),m=n(345),y=r(m),g=n(346),b=r(g),_=function(e){return{staticUrl:e.config.staticUrl,background_type:e.config.background_type,background_image_url:e.config.background_image_url,background_color:e.config.background_color,gradient_from:e.config.gradient_from,gradient_to:e.config.gradient_to,video_texture:e.config.video_texture,videoname:e.config.videoname,video_url:e.config.video_url,widget_hide_background:e.config.widget_hide_background}},w=(s=(0,h.connect)(_))(u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(e){return!e.widget_hide_background&&(0,c.h)("div",{id:"hu-background",className:"hu-zindex-0 hu-position-fixed hu-position-top-left hu-width-full hu-height-full"},(0,c.h)(p.default,{className:"hu-background-video hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-3",staticUrl:e.staticUrl,background_type:e.background_type,videoname:e.videoname,video_url:e.video_url}),(0,c.h)(v.default,{className:"hu-background-image hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-2 hu-background-cover",staticUrl:e.staticUrl,background_type:e.background_type,background_image_url:e.background_image_url}),(0,c.h)(y.default,{className:"hu-background-gradient hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-1",background_type:e.background_type,gradient_from:e.gradient_from,gradient_to:e.gradient_to}),(0,c.h)(b.default,{className:"hu-background-color hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-0",background_type:e.background_type,background_color:e.background_color}))}}]),t}(c.Component))||u;t.default=w},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.staticUrl,r=e.background_type,o=e.videoname,a=e.video_url,s="video"===r,u=(0,i.h)("div",{className:"background-video-filter hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0"+(s?" selected":"")}),l=null===a?n+"landbot/video/"+o:a;return(0,i.h)("div",{className:t+(s?" selected":"")},s&&(0,i.h)("video",{key:"video-"+l,id:"bgvid",playsInline:!0,autoPlay:!0,muted:!0,loop:!0},null===a?[(0,i.h)("source",{src:l+".webm",type:"video/webm"}),(0,i.h)("source",{src:l+".mp4",type:"video/mp4"})]:(0,i.h)("source",{src:l,type:"video/mp4"})),u)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.background_type;e.background_image_url;return(0,i.h)("div",{className:t+("image"===n?" selected":"")},(0,i.h)("div",{className:"background-image-filter selected"}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.background_type;e.gradient_from,e.gradient_to;return(0,i.h)("div",{className:t+("gradient"===n?" selected":"")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.background_type;e.background_color;return(0,i.h)("div",{className:t+("color"===n?" selected":"")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),h=n(2),f=n(348),p=r(f),d=n(349),v=r(d),m=n(350),y=r(m),g=function(e){return{staticUrl:e.config.staticUrl,filter_type:e.config.filter_type,filter_color:e.config.filter_color,filter_gradient_from:e.config.filter_gradient_from,filter_gradient_to:e.config.filter_gradient_to,filter_image_url:e.config.filter_image_url,widget_hide_background:e.config.widget_hide_background}},b=(s=(0,h.connect)(g))(u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(e){return!e.widget_hide_background&&(0,c.h)("div",{id:"hu-filter",className:"hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-1"+("none"!==e.filter_type?" active":"")},(0,c.h)(p.default,{className:"hu-filter-image hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-2 hu-background-cover",filter_type:e.filter_type,filter_image_url:e.filter_image_url}),(0,c.h)(v.default,{className:"hu-filter-gradient hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-1",filter_type:e.filter_type,filter_gradient_from:e.filter_gradient_from,filter_gradient_to:e.filter_gradient_to}),(0,c.h)(y.default,{className:"hu-filter-color hu-position-fixed hu-position-top-left hu-width-full hu-height-full hu-opacity-0 hu-zindex-0",filter_type:e.filter_type,filter_color:e.filter_color}))}}]),t}(c.Component))||u;t.default=b},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.filter_type;return(0,i.h)("div",{className:t+("image"===n?" selected":"")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.filter_type;return(0,i.h)("div",{className:t+("gradient"===n?" selected":"")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.filter_type;return(0,i.h)("div",{className:t+("color"===n?" selected":"")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=r}]);
//# sourceMappingURL=landbot-2.2.0.js.map